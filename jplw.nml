grf {
 grfid: "\4A\44\A1\E1";
 name: string(STR_GRF_NAME);
 desc: string(STR_GRF_DESCRIPTION);
 version: 80;
 min_compatible_version: 60;
 
 //params, thanks tin
		//basecosts
		param 0 {
				param_basecostbuy {
						type: int;
						name: string(STR_PARAM_NAME_BASECOSTMODBUY);
						desc: string(STR_PARAM_DESC_BASECOSTMODBUY);
						min_value: 0;
						max_value: 2;
						def_value: 1;
						names: {
												0: string(STR_PARAM_LOW);
												1: string(STR_PARAM_NORMAL);
												2: string(STR_PARAM_HIGH);
						};
				}
		}
		//runningcosts
		param 1 {
				param_basecostrun {
						type: int;
						name: string(STR_PARAM_NAME_BASECOSTMODRUN);
						desc: string(STR_PARAM_DESC_BASECOSTMODRUN);
						min_value: 0;
						max_value: 4;
						def_value: 2;
						names: {
												0: string(STR_PARAM_VLOW);
												1: string(STR_PARAM_LOW);
												2: string(STR_PARAM_NORMAL);
												3: string(STR_PARAM_HIGH);
												4: string(STR_PARAM_VHIGH);
						};
				}
		}
}

//disable_item(FEAT_TRAINS);

//train look nice thing
traininfo_y_offset = 2;
train_width_32_px = 1;
//The basecost for build costs and running costs of vehicles.

basecost {
	PR_BUILD_VEHICLE_TRAIN : param_basecostbuy -1;
	PR_BUILD_VEHICLE_WAGON: param_basecostbuy +3;
	PR_RUNNING_TRAIN_STEAM: param_basecostrun +1;
	PR_RUNNING_TRAIN_DIESEL:	param_basecostrun +1;
	PR_RUNNING_TRAIN_ELECTRIC:	param_basecostrun +1;
}
cargotable {
	//DEFAULT
    PASS, COAL, MAIL, OIL_, LVST, GOOD, GRAI, WOOD, IORE, STEL, VALU, PAPR, WHEA, FOOD, GOLD, RUBR, FRUT, MAIZ, CORE, WATR, DIAM, 
	//TOYLAND
	SUGR, TOYS, BATT, SWET, TOFF, COLA, CTCD, BUBL, PLST, FZDR, 
	//ECS
	AORE, BRCK, BDMT, CERA, CERE, CMNT, DYES, FERT, FICR, FISH, GLAS, LIME, OLSD, PETR, PLAS, POTA, RFPR, SAND, SULP, TOUR, VEHI, WDPR, WOOL, 
	//FIRS3, XIS
	METL, BEER, CLAY, COPR, ENSP, FMSP, GRVL, MILK, MNSP, PHOS, RCYC, SCMT, SGBT, SGCN, JAVA, CASS, NUTS, 
	EOIL, ACID, CHLO, ZINC, IRON, SASH, SALT, QLME, SLAG, MNO2, NITR, COKE, BEAN, PORE, PEAT, BOOM, KAOL, VPTS, VBOD, POWR, PIPE, 
	//FIRS 4, XIS2
	CBLK, CSTI, CTAR, FECR, TYRE, COAT, LYE_, NH3_, O2__, SOAP, STAL, STCB, STSE, STSH, STST, STWR, VENG, //todo add chemistry cargos
	//OTIS
	FRVG, URAN, BAKE, CHSE, ELTR, FUEL, FURN, MEAT, MPTS, NKOR, OTI1, OTI2, OYST, PCL_, SEED, SESP, TEXT, TWOD, TATO, 
	//MISC
	NICK, NUKF, NUKW, OILI, OILD, CIGR, TBCO, WSTE, NWST, YETI, YETY
	}
	
//check ottd
if (ttd_platform != PLATFORM_OPENTTD) {
    error(FATAL, USED_WITH, "OpenTTD");
} else {
    if (openttd_version < version_openttd(1, 2, 0, 23971)) {
        error(FATAL, REQUIRES_OPENTTD, "1.2.0-RC1 / r23971");
    }
}


//load order checks, thanks tin
if (grf_order_behind("SZ\0D\00") == 0) {
    error(FATAL, MUST_LOAD_AFTER);
}

if (grf_future_status("SZ\0D\00") == 0) {
//    error(WARNING, string(STR_ERROR_JAPANSETTRAINS));
    error(FATAL, MUST_LOAD_AFTER);
}


/*
if (grf_order_behind("BS\42\13") == 0) {
    error(FATAL, string(STR_ERROR_JPPLUSSET));
}
*/


//OVERRIDE JAPAN SET TRAINS 3

 engine_override("\53\5A\0D\00");

railtypetable {
    NAAN, NABE
	}
	
	//todo more, once JP tracks is a thing
//sort in depot //could change to item names instead of ID numbers
sort(FEAT_TRAINS, [

//steam
900, 902, 920,
//electrics DC
1010, 1011, 02, 1050, 08, 103, 1016, 10, 1020, 18, 14, 1060, 1030, 1040, 22, 24, 26, 60, 84, 88, 
//electrics AC
1065, 1070, 1071, 1075, 1045, 
//electrics MS 
1015, 1080, 55, 1085, 1090, 105, 67, 1095, 
//diesels
71, 1207, 25, 20, 1209, 63, 111,
//non JNR/JR
1005, 1100, 1101, 

//wagons pax/mail
1300, 1322, 1320, 1540, 1340, 1341, 1346, 1347, 1668, 1360, 1370, 1380, 1390, 1395, 
//wagons box/reef
32, 1282, 1435, 1445, 1450, 51, 53, 1288, 1281, 1455, 1456, 1286, 1460, 
//wagons cont/car
1405, 1407, 1412, 1413, 1414, 1415, 1418, 1419, 39, 1400, 44, 43, 
//wagons hoppers/open
1439, 1440, 1441, 1442, 1443, 1444, 1285, 42, 1291, 1290, 52, 1410, 1411, 1280, 1462, 
//wagosn open
1469, 29, 33, 1284, 1470, 1471,
//wagons flatbeds
1476, 1477, 34, 41, 1570, 1575, 1580, 50, 
//wagons tankers
1480, 1481, 30, 1487, 1488, 1489, 45, 1491, 1492, 1493, 1494, 1495, 1496, 1497, 1490, 
//brake vans
1600, 35,
//wagons non JNR/JR
1402, 1420, 1421
]);
//2cc templates

template template_2cc_std(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3, -12]
    [x+9  , y, 22, 20, -14, -12]
    [x+32 , y, 32, 16, -16, -12]
    [x+65 , y, 22, 20,  -6, -12]
    [x+88 , y,  8, 24,  -3, -12]
    [x+97 , y, 22, 20, -14, -12]
    [x+120, y, 32, 16, -16, -12]
    [x+153, y, 22, 20,  -6, -12]
}


template template_2cc_flip(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
	[x+88 , y,  8, 24,  -3, -12]
    [x+97 , y, 22, 20, -14, -12]
    [x+120, y, 32, 16, -16, -12]
    [x+153, y, 22, 20,  -6, -12]
    [x    , y,  8, 24,  -3, -12]
    [x+9  , y, 22, 20, -14, -12]
    [x+32 , y, 32, 16, -16, -12]
    [x+65 , y, 22, 20,  -6, -12]
}

template template_2cc_dmt(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3, -12]
    [x+9  , y, 22, 20, -12, -13]
    [x+32 , y, 32, 16, -12, -12]
    [x+65 , y, 22, 20,  -4, -11]
    [x+88 , y,  8, 24,  -3, -12]
    [x+97 , y, 22, 20, -16, -11]
    [x+120, y, 32, 16, -20, -12]
    [x+153, y, 22, 20,  -8, -13]
}

template template_2cc_anim(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3, -12, ANIM]
    [x+9  , y, 22, 20, -14, -12, ANIM]
    [x+32 , y, 32, 16, -16, -12, ANIM]
    [x+65 , y, 22, 20,  -6, -12, ANIM]
    [x+88 , y,  8, 24,  -3, -12, ANIM]
    [x+97 , y, 22, 20, -14, -12, ANIM]
    [x+120, y, 32, 16, -16, -12, ANIM]
    [x+153, y, 22, 20,  -6, -12, ANIM]
}

//container templates
template template_container_1(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3, -12]
    [x+9  , y, 22, 20, -14, -12]
    [x+32 , y, 32, 16, -16, -12]
    [x+65 , y, 22, 20,  -6, -12]
    [x+88 , y,  8, 24,  -3, -12]
    [x+97 , y, 22, 20, -14, -12]
    [x+120, y, 32, 16, -16, -12]
    [x+153, y, 22, 20,  -6, -12]
}

template template_container_2(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3,   -8] //+0 +4
    [x+9  , y, 22, 20, -18,  -10] //-4 +2
    [x+32 , y, 32, 16, -23,  -12] //-7 +0
    [x+65 , y, 22, 20,  -10, -14] //-4 -2
    [x+88 , y,  8, 24,  -3,  -16] //+0 -4
    [x+97 , y, 22, 20, -10,  -14] //+4 -2
    [x+120, y, 32, 16, -9,   -12] //+7 +0
    [x+153, y, 22, 20,  -2,  -10] //+4 +2
}

template template_container_3(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3,   -4] //+0 +4
    [x+9  , y, 22, 20, -22,   -8] //-4 +2
    [x+32 , y, 32, 16, -30,  -12] //-7 +0
    [x+65 , y, 22, 20,  -14, -16] //-4 -2
    [x+88 , y,  8, 24,  -3,  -20] //+0 -4
    [x+97 , y, 22, 20,  -6,  -16] //+4 -2
    [x+120, y, 32, 16, -2,   -12] //+7 +0
    [x+153, y, 22, 20,   2,  -8] //+4 +2
}

template template_container_4(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x    , y,  8, 24,  -3,    0] //+0 +4
    [x+9  , y, 22, 20, -26,   -6] //-4 +2
    [x+32 , y, 32, 16, -37,  -12] //-7 +0
    [x+65 , y, 22, 20,  -18, -18] //-4 -2
    [x+88 , y,  8, 24,  -3,  -24] //+0 -4
    [x+97 , y, 22, 20,  -2,  -18] //+4 -2
    [x+120, y, 32, 16,  5,   -12] //+7 +0
    [x+153, y, 22, 20,   6,  -6] //+4 +2
}





//Purchase templates
//Engines
template template_purchase(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x, y,  87, 12, -25, -6]
}
 
 
//BULK  Recolour sprites for cargo

recolour_bulk = reserve_sprites(27);

replace(recolour_bulk) {

//Fallback 0
    recolour_sprite {
        0xE5: 0x90;
        0xE8: 0x91;
        0xE9: 0x92;
        0xEA: 0x93;
        0xEB: 0x94;
        0xEC: 0x95;
        0xED: 0x96;
        0xEE: 0x97;
//fallback piece
        0x88: 0x06;
        0x89: 0x07;
        0x8A: 0x08;
        0x8B: 0x09;
        0x8C: 0x0A;
        0x8D: 0x0B;
        0x8E: 0x0C;
        0x8F: 0x0D;
    }
//grain 1
    recolour_sprite {
        0xE5: 0x3F;
        0xE8: 0x40;
        0xE9: 0x41;
        0xEA: 0x42;
        0xEB: 0x43;
        0xEC: 0x33;
        0xED: 0x44;
        0xEE: 0x34;
    }
//iore 2
	recolour_sprite {
        0xE5: 0x46;
        0xE8: 0x47;
        0xE9: 0x48;
        0xEA: 0x49;
        0xEB: 0x4A;
        0xEC: 0x4B;
        0xED: 0x4C;
        0xEE: 0x4D;
    }
//sulp 3
    recolour_sprite {
        0xE5: 0x40;
        0xE8: 0x41;
        0xE9: 0x57;
        0xEA: 0x5E;
        0xEB: 0x42;
        0xEC: 0x32;
        0xED: 0x5F;
        0xEE: 0x34;
    }
//sand 4
    recolour_sprite {
        0xE5: 0x6F;
        0xE8: 0x3A;
        0xE9: 0x1E;
        0xEA: 0x3B;
        0xEB: 0x26;
        0xEC: 0x1F;
        0xED: 0x27;
        0xEE: 0xA8;
    }
//bauxite 5
    recolour_sprite {
        0xE5: 0x48;
        0xE8: 0x2B;
        0xE9: 0x4A;
        0xEA: 0x2C;
        0xEB: 0xA2;
        0xEC: 0x4B;
        0xED: 0x4C;
        0xEE: 0x75;
    }
//copper ore 6
    recolour_sprite {
        0xE5: 0x18;
        0xE8: 0x19;
        0xE9: 0x36;
        0xEA: 0x1A;
        0xEB: 0x37;
        0xEC: 0x38;
        0xED: 0x39;
        0xEE: 0x1D;
    }
//fertiliser 7
    recolour_sprite {
        0xE5: 0x69;
        0xE8: 0x35;
        0xE9: 0x6B;
        0xEA: 0x6C;
        0xEB: 0x6D;
        0xEC: 0x6E;
        0xED: 0x6F;
        0xEE: 0x3A;
    }
//clay 8
    recolour_sprite {
        0xE5: 0x22;
        0xE8: 0x22;
        0xE9: 0x6D;
        0xEA: 0x4C;
        0xEB: 0x75;
        0xEC: 0x76;
        0xED: 0x4F;
        0xEE: 0x26;
    }
//oil seeds 9
    recolour_sprite {
        0xE5: 0x22;
        0xE8: 0x6D;
        0xE9: 0x38;
        0xEA: 0x5C;
        0xEB: 0x6F;
        0xEC: 0x5E;
        0xED: 0x3B;
        0xEE: 0x26;
    }
//limestone 10
    recolour_sprite {
        0xE5: 0x08;
        0xE8: 0x0A;
        0xE9: 0x1E;
        0xEA: 0x0B;
        0xEB: 0x3B;
        0xEC: 0x0C;
        0xED: 0x0D;
        0xEE: 0x0E;
    }
//potash 11
    recolour_sprite {
        0xE5: 0x16;
        0xE8: 0x17;
        0xE9: 0x0D;
        0xEA: 0x87;
        0xEB: 0x0E;
        0xEC: 0xD2;
        0xED: 0x0F;
        0xEE: 0x0F;
    }
//gravel 12
    recolour_sprite {
        0xE5: 0x07;
        0xE8: 0x08;
        0xE9: 0x09;
        0xEA: 0x0A;
        0xEB: 0x0B;
        0xEC: 0x0C;
        0xED: 0x0D;
        0xEE: 0x0E;
    }
//coal 13
    recolour_sprite {
        0xE5: 0x01;
        0xE8: 0x01;
        0xE9: 0x02;
        0xEA: 0x02;
        0xEB: 0x03;
        0xEC: 0x03;
        0xED: 0x04;
        0xEE: 0x04;
    }
//fruit 14
    recolour_sprite {
        0xE5: 0x03;
        0xE8: 0x04;
        0xE9: 0x1D;
        0xEA: 0x40;
        0xEB: 0xC2;
        0xEC: 0x42;
        0xED: 0x5F;
        0xEE: 0x43;
    }
//scrap 15
    recolour_sprite {
        0xE5: 0x02;
        0xE8: 0x03;
        0xE9: 0x7B;
        0xEA: 0x11;
        0xEB: 0x13;
        0xEC: 0x4C;
        0xED: 0x16;
        0xEE: 0x17;
    }
//sugar beet 16
    recolour_sprite {
        0xE5: 0x36;
        0xE8: 0x69;
        0xE9: 0x5C;
        0xEA: 0x6D;
        0xEB: 0x3B;
        0xEC: 0x1A;
        0xED: 0x6C;
        0xEE: 0x35;
    }
//sugar cane 17
    recolour_sprite {
        0xE5: 0x60;
        0xE8: 0x69;
        0xE9: 0x55;
        0xEA: 0x53;
        0xEB: 0x51;
        0xEC: 0x59;
        0xED: 0x50;
        0xEE: 0x40;
    }
//coffee 18
    recolour_sprite {
        0xE5: 0x68;
        0xE8: 0x6A;
        0xE9: 0x60;
        0xEA: 0x69;
        0xEB: 0x46;
        0xEC: 0x5C;
        0xED: 0x3C;
        0xEE: 0x47;
    }
//waste 19
    recolour_sprite {
        0xE5: 0x02;
        0xE8: 0x03;
        0xE9: 0x59;
        0xEA: 0x35;
        0xEB: 0x37;
        0xEC: 0x5C;
        0xED: 0x16;
        0xEE: 0x1E;
    }
//building mat 20
    recolour_sprite {
        0xE5: 0x68;
        0xE8: 0x69;
        0xE9: 0x6A;
        0xEA: 0x6B;
        0xEB: 0x6C;
        0xEC: 0x6D;
        0xED: 0x6E;
        0xEE: 0x6F;
	//piece	
        0x88: 0x72;
        0x89: 0x73;
        0x8A: 0x74;
        0x8B: 0x75;
        0x8C: 0x76;
        0x8D: 0x77;
        0x8E: 0x78;
        0x8F: 0x79;
    }
//fibre crops 21
    recolour_sprite {
        0xE5: 0x68;
        0xE8: 0x35;
        0xE9: 0x36;
        0xEA: 0x37;
        0xEB: 0x38;
        0xEC: 0x39;
        0xED: 0x3A;
        0xEE: 0x3B;
	//piece	
        0x88: 0x08;
        0x89: 0x09;
        0x8A: 0x0A;
        0x8B: 0x0B;
        0x8C: 0x0C;
        0x8D: 0x0D;
        0x8E: 0x0E;
        0x8F: 0x0F;

    }
//slag 22
    recolour_sprite {
        0xE5: 0x01;
        0xE8: 0x01;
        0xE9: 0xE9;
        0xEA: 0x02;
        0xEB: 0xED;
        0xEC: 0x03;
        0xED: 0x04;
        0xEE: 0x05;
    }
//phosphate 23
    recolour_sprite {
        0xE5: 0x6F;
        0xE8: 0x3A;
        0xE9: 0x84;
        0xEA: 0x3B;
        0xEB: 0x85;
        0xEC: 0x1F;
        0xED: 0x86;
        0xEE: 0xA8;
    }
//salt 24
    recolour_sprite {
        0xE5: 0x0A;
        0xE8: 0x0A;
        0xE9: 0x0B;
        0xEA: 0x0C;
        0xEB: 0x0D;
        0xEC: 0x0E;
        0xED: 0x0F;
        0xEE: 0x0F;
    }
//uranium 25
    recolour_sprite {
        0xE5: 0x0A;
        0xE8: 0xCE;
        0xE9: 0xCF;
        0xEA: 0xD0;
        0xEB: 0xD1;
        0xEC: 0x5E;
        0xED: 0x5F;
        0xEE: 0x67;
    }
	
//kaol/lithium 26
    recolour_sprite {
        0xE5: 0x0B;
        0xE8: 0x0C;
        0xE9: 0x9E;
        0xEA: 0x0D;
        0xEB: 0x9F;
        0xEC: 0xA0;
        0xED: 0x0E;
        0xEE: 0xA1;
    }
}


//PIECE GOODS  Recolour sprites for cargo

recolour_piece = reserve_sprites(10);

replace(recolour_piece) {

//mid grey 0
    recolour_sprite {
        0x88: 0x06;
        0x89: 0x07;
        0x8A: 0x08;
        0x8B: 0x09;
        0x8C: 0x0A;
        0x8D: 0x0B;
        0x8E: 0x0C;
        0x8F: 0x0D;
    }
//light grey 1 
    recolour_sprite {
        0x88: 0x08;
        0x89: 0x09;
        0x8A: 0x0A;
        0x8B: 0x0B;
        0x8C: 0x0C;
        0x8D: 0x0D;
        0x8E: 0x0E;
        0x8F: 0x0F;
    }
//dark grey 2 
    recolour_sprite {
        0x88: 0x03;
        0x89: 0x04;
        0x8A: 0x05;
        0x8B: 0x06;
        0x8C: 0x07;
        0x8D: 0x08;
        0x8E: 0x09;
        0x8F: 0x0A;
    }
//bluish grey 3
    recolour_sprite {
        0x88: 0x10;
        0x89: 0x11;
        0x8A: 0x12;
        0x8B: 0x13;
        0x8C: 0x14;
        0x8D: 0x15;
        0x8E: 0x16;
        0x8F: 0x17;
    }
//copper 4
    recolour_sprite {
        0x88: 0x72;
        0x89: 0x73;
        0x8A: 0x74;
        0x8B: 0x75;
        0x8C: 0x76;
        0x8D: 0x77;
        0x8E: 0x78;
        0x8F: 0x79;
    }
//light blue 5
    recolour_sprite {
        0x88: 0x9A;
        0x89: 0x9B;
        0x8A: 0x9C;
        0x8B: 0x9D;
        0x8C: 0x9E;
        0x8D: 0x9F;
        0x8E: 0xA0;
        0x8F: 0xA1;
    }
//light green 6
    recolour_sprite {
        0x88: 0x60;
        0x89: 0x61;
        0x8A: 0x62;
        0x8B: 0x63;
        0x8C: 0x64;
        0x8D: 0x65;
        0x8E: 0x66;
        0x8F: 0x67;
    }
//reddish brown 7
    recolour_sprite {
        0x88: 0x46;
        0x89: 0x47;
        0x8A: 0x48;
        0x8B: 0x49;
        0x8C: 0x4A;
        0x8D: 0x4B;
        0x8E: 0x4C;
        0x8F: 0x4D;
    }
//wood brown 8
    recolour_sprite {
        0x88: 0x68;
        0x89: 0x69;
        0x8A: 0x6A;
        0x8B: 0x6B;
        0x8C: 0x6C;
        0x8D: 0x6D;
        0x8E: 0x6E;
        0x8F: 0x6F;
	//wood as bulk		
        0xE5: 0x68;
        0xE8: 0x69;
        0xE9: 0x6A;
        0xEA: 0x6B;
        0xEB: 0x6C;
        0xEC: 0x6D;
        0xED: 0x6E;
        0xEE: 0x6F;
    }
 	
//cream 9
    recolour_sprite {
        0x88: 0x20;
        0x89: 0x21;
        0x8A: 0x22;
        0x8B: 0x23;
        0x8C: 0x24;
        0x8D: 0x25;
        0x8E: 0x26;
        0x8F: 0x27;
    }
}

/*

* GENERIC RECOLOUR CALLBACK 

*/

//todo add more recolours



switch(FEAT_TRAINS, SELF, switch_piece_recolour, cargo_type_in_veh) {
//PIECE
	STEL: return recolour_piece +3;
	IRON: return recolour_piece +7;
	METL: return recolour_piece ;
	COPR: return recolour_piece +4;
	ZINC: return recolour_piece +5;
	NICK: return recolour_piece +6;
	ENSP: return recolour_piece +5;
	FMSP: return recolour_piece +6;
	MNSP: return recolour_piece +1;
	VPTS: return recolour_piece +2;
	PIPE: return recolour_piece +3;
	WDPR: return recolour_piece +9;

	WOOL: return recolour_piece +1;
	GLAS: return recolour_piece +5;
//	BDMT: return recolour_piece +4;
	BRCK: return recolour_piece +4;
	GOOD: return recolour_piece +6;
	PAPR: return recolour_piece +1;
	WOOD: return recolour_piece +8;
	
	STST: return recolour_piece +1;
	STSE: return recolour_piece ;
	STSH: return recolour_piece ;
	STWR: return recolour_piece +2;
	STAL: return recolour_piece +5;
	TYRE: return recolour_piece +2;
	STCB: return recolour_piece +2;
	
	TWOD: return recolour_piece +8;
	SESP: return recolour_piece +5;
	MPTS: return recolour_piece +2;
	FURN: return recolour_piece +9;
	POWR: return recolour_piece +2;
	TEXT: return recolour_piece +9;
	URAN: return recolour_piece +6;

//FAKE BULK
	BDMT: return recolour_bulk +20;
	FICR: return recolour_bulk +21;

	SCMT: return recolour_bulk +15;
    SULP: return recolour_bulk +3;
	SEED: return recolour_bulk +9;
    FERT: return recolour_bulk +7;
	SASH: return recolour_bulk +10;
	TATO: return recolour_bulk +16;
	
    FRUT: return recolour_bulk +14;
    FRVG: return recolour_bulk +14;
}

switch(FEAT_TRAINS, SELF, switch_bulk_recolour, cargo_type_in_veh) {
	GRAI: return recolour_bulk +1;
	CERE: return recolour_bulk +1;
	MAIZ: return recolour_bulk +1;	
	WHEA: return recolour_bulk +1;
	
	IORE: return recolour_bulk +2;
	PORE: return recolour_bulk +2;

    SULP: return recolour_bulk +3;

    SAND: return recolour_bulk +4;
	NITR: return recolour_bulk +4;

    AORE: return recolour_bulk +5;

	CORE: return recolour_bulk +6;
	NKOR: return recolour_bulk +6;

    FERT: return recolour_bulk +7;
	MNO2: return recolour_bulk +7;
	TOFF: return recolour_bulk +7;
	
	CLAY: return recolour_bulk +8;

    OLSD: return recolour_bulk +9;
	BEAN: return recolour_bulk +9;
	SEED: return recolour_bulk +9;
	
    LIME: return recolour_bulk +10;
	SASH: return recolour_bulk +10;

    POTA: return recolour_bulk +11;
	QLME: return recolour_bulk +11;

    GRVL: return recolour_bulk +12;
    FECR: return recolour_bulk +12;
	CMNT: return recolour_bulk +12;

    COAL: return recolour_bulk +13;
	COKE: return recolour_bulk +13;
	CBLK: return recolour_bulk +13;
	
    FRUT: return recolour_bulk +14;
    FRVG: return recolour_bulk +14;
	
    SCMT: return recolour_bulk +15;	

    SGBT: return recolour_bulk +16;
	CASS: return recolour_bulk +16;
	TATO: return recolour_bulk +16;
	
    SGCN: return recolour_bulk +17;
	TWOD: return recolour_bulk +17;
	
    JAVA: return recolour_bulk +18;	
	PEAT: return recolour_bulk +18;
	NUTS: return recolour_bulk +18;
	
	RCYC: return recolour_bulk +19;
	WSTE: return recolour_bulk +19;
	
	BDMT: return recolour_bulk +20;
	WOOD: return recolour_bulk +20;
	
	FICR: return recolour_bulk +21;
	
	SLAG: return recolour_bulk +22;
	
	PHOS: return recolour_bulk +23;

	SALT: return recolour_bulk +24;
	BAKE: return recolour_bulk +24;
	SUGR: return recolour_bulk +24;
	
	URAN: return recolour_bulk +25;
	
	KAOL: return recolour_bulk +26;


	

//FALLBACK BLUE
    recolour_bulk; //blue
}


switch(FEAT_TRAINS, SELF, switch_generic_recolour, cargo_classes) {
	bitmask(CC_BULK): switch_bulk_recolour;
	bitmask(CC_BULK, CC_COVERED): switch_bulk_recolour;

	switch_piece_recolour;
	
}


//7100
	
	
spriteset(spriteset_jgr_7100_hcc_front, "gfx/steam/jgr_7100.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_jgr_7100_black_front, "gfx/steam/jgr_7100.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_jgr_7100_cc_front, "gfx/steam/jgr_7100.png") {
	template_2cc_std(1, 64)
}


spriteset(spriteset_jgr_7100_hcc_rear, "gfx/steam/jgr_7100.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_jgr_7100_black_rear, "gfx/steam/jgr_7100.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_jgr_7100_cc_rear, "gfx/steam/jgr_7100.png") {
	template_2cc_std(1, 160)
}

//purchase

spriteset(spriteset_jgr_7100_hcc_purchase, "gfx/steam/jgr_7100.png") {
	template_purchase(1, 192)
}

spriteset(spriteset_jgr_7100_purchase, "gfx/steam/jgr_7100.png") {
	template_purchase(89, 192)
}



switch(FEAT_TRAINS, SELF, switch_jgr_7100_yeardep, build_year) {
	1906..1950: spriteset_jgr_7100_black_front;
	spriteset_jgr_7100_hcc_front;
	}


switch(FEAT_TRAINS, SELF, switch_jgr_7100_rear_yeardep, build_year) {
	1906..1950: spriteset_jgr_7100_black_rear;
	spriteset_jgr_7100_hcc_rear;
	}




switch(FEAT_TRAINS, SELF, switch_jgr_7100_livery, cargo_subtype) {
	1: spriteset_jgr_7100_hcc_front;
	2: spriteset_jgr_7100_black_front;
	3: spriteset_jgr_7100_cc_front;
	switch_jgr_7100_yeardep;
	
}

switch(FEAT_TRAINS, SELF, switch_jgr_7100_livery_rear, cargo_subtype) {
	1: spriteset_jgr_7100_hcc_rear;
	2: spriteset_jgr_7100_black_rear;
	3: spriteset_jgr_7100_cc_rear;
	switch_jgr_7100_rear_yeardep;
}



switch(FEAT_TRAINS, SELF, switch_jgr_7100_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_HCC);
	2: return string(STR_REFIT_JGR_BLACK);
	3: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_jgr_7100_articulated_part, extra_callback_info1) {
	1: return jgr_7100_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, switch_jgr_7100_purchase, current_year) {
	0..1906: spriteset_jgr_7100_hcc_purchase;
	spriteset_jgr_7100_purchase;
	}

item (FEAT_TRAINS, jgr_7100, 900) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_JGR_7100);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1880,1,1);
		speed: 60 km/h;
		air_drag_coefficient: 0;
		tractive_effort_coefficient:    0.20;
		power: 400 kW;
		dual_headed: 0;
		engine_class: ENGINE_CLASS_STEAM;
		cargo_capacity: 1;
		cargo_allow_refit: [PASS];
		weight: 40;
		reliability_decay: 80;
		model_life: 40;
		vehicle_life: 60;
		cost_factor: 22;
		length: 5;
		running_cost_factor: 11;
		running_cost_base: RUNNING_COST_STEAM;
		misc_flags: bitmask(TRAIN_FLAG_2CC);
		}
	graphics { // graphics for engine
		cargo_capacity: return 0;
		cargo_subtype_text: switch_jgr_7100_subtype_text;
		default: switch_jgr_7100_livery;
		purchase: switch_jgr_7100_purchase;
		articulated_part: switch_jgr_7100_articulated_part;
		additional_text: string(STR_DESC_JNR_7100);
		}
	}


item (FEAT_TRAINS, jgr_7100_rear, 901) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
//		name: string(STR_NAME_JNR_jgr_7100);
		climates_available: NO_CLIMATE;
		introduction_date: date(1800,1,1);
		cargo_capacity: 1; 
		cargo_allow_refit: [PASS];
		length: 4;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_jgr_7100_livery_rear;
	}
}
//7200
	
	
spriteset(spriteset_jgr_7200_hcc_front, "gfx/steam/jgr_7200.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_jgr_7200_hcc_rear, "gfx/steam/jgr_7200.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_jgr_7200_black_front, "gfx/steam/jgr_7200.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_jgr_7200_black_rear, "gfx/steam/jgr_7200.png") {
	template_2cc_std(1, 128)
}

//add cc
spriteset(spriteset_jgr_7200_cc_front, "gfx/steam/jgr_7200.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_jgr_7200_cc_rear, "gfx/steam/jgr_7200.png") {
	template_2cc_std(1, 160)
}


spriteset(spriteset_jgr_7200_hcc_purchase, "gfx/steam/jgr_7200.png") {
	template_purchase(1, 192)
}

spriteset(spriteset_jgr_7200_purchase, "gfx/steam/jgr_7200.png") {
	template_purchase(89, 192)
}


switch(FEAT_TRAINS, SELF, switch_jgr_7200_yeardep, build_year) {
	0..1906: spriteset_jgr_7200_hcc_front;
	spriteset_jgr_7200_black_front;
	}


switch(FEAT_TRAINS, SELF, switch_jgr_7200_rear_yeardep, build_year) {
	0..1906: spriteset_jgr_7200_hcc_rear;
	spriteset_jgr_7200_black_rear;
	}




switch(FEAT_TRAINS, SELF, switch_jgr_7200_livery, cargo_subtype) {
	1: spriteset_jgr_7200_hcc_front;
	2: spriteset_jgr_7200_black_front;
	3: spriteset_jgr_7200_cc_front;
	switch_jgr_7200_yeardep;
	
}

switch(FEAT_TRAINS, SELF, switch_jgr_7200_livery_rear, cargo_subtype) {
	1: spriteset_jgr_7200_hcc_rear;
	2: spriteset_jgr_7200_black_rear;
	3: spriteset_jgr_7200_cc_rear;
	switch_jgr_7200_rear_yeardep;
}




switch(FEAT_TRAINS, SELF, switch_jgr_7200_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_HCC);
	2: return string(STR_REFIT_JGR_BLACK);
	3: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_jgr_7200_articulated_part, extra_callback_info1) {
	1: return jgr_7200_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, switch_jgr_7200_purchase, current_year) {
	0..1906: spriteset_jgr_7200_hcc_purchase;
	spriteset_jgr_7200_purchase;
	}

item (FEAT_TRAINS, jgr_7200, 902) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_JGR_7200);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1890,1,1);
		speed: 65 km/h;
		air_drag_coefficient: 0;
		tractive_effort_coefficient:    0.20;
		power: 480 kW;
		dual_headed: 0;
		engine_class: ENGINE_CLASS_STEAM;
		cargo_capacity: 1;
		cargo_allow_refit: [PASS];
		weight: 45;
		reliability_decay: 80;
		model_life: 40;
		vehicle_life: 60;
		cost_factor: 23;
		length: 5;
		running_cost_factor: 11;
		running_cost_base: RUNNING_COST_STEAM;
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics { // graphics for engine
		cargo_capacity: return 0;
		cargo_subtype_text: switch_jgr_7200_subtype_text;
		default: switch_jgr_7200_livery;
		purchase: switch_jgr_7200_purchase;
		articulated_part: switch_jgr_7200_articulated_part;
		additional_text: string(STR_DESC_JNR_7100);
	}
}


item (FEAT_TRAINS, jgr_7200_rear, 903) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
//		name: string(STR_NAME_JNR_jgr_7200);
		climates_available: NO_CLIMATE;
		introduction_date: date(1800,1,1);
		cargo_capacity: 1; 
		cargo_allow_refit: [PASS];
		length: 4;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_jgr_7200_livery_rear;
	}
}
//Spriteset jgr_860
spriteset(spriteset_jgr_860_black, "gfx/steam/jgr_860.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_jgr_860_flip_black, "gfx/steam/jgr_860.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_jgr_860_cc, "gfx/steam/jgr_860.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_jgr_860_flip_cc, "gfx/steam/jgr_860.png") {
	template_2cc_flip(1, 96)
}


spriteset(spriteset_jgr_860_black_purchase, "gfx/steam/jgr_860.png") {
	template_purchase(1, 128)
}



//flip switches
switch(FEAT_TRAINS, SELF, switch_jgr_860_flip_black, vehicle_is_flipped) {
	0: spriteset_jgr_860_black;
	1: spriteset_jgr_860_flip_black;
}

switch(FEAT_TRAINS, SELF, switch_jgr_860_flip_cc, vehicle_is_flipped) {
	0: spriteset_jgr_860_cc;
	1: spriteset_jgr_860_flip_cc;
}





switch(FEAT_TRAINS, SELF, switch_jgr_860_livery, cargo_subtype) {
	1: switch_jgr_860_flip_cc;	
	switch_jgr_860_flip_black;
}



switch(FEAT_TRAINS, SELF, switch_jgr_860_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JGR_BLACK);
	1: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, jgr_860, 920) {

property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NAAN;
  name: string(STR_NAME_JGR_860);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1893,1,1);
  speed: 70 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 500 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_STEAM;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 39;
  reliability_decay: 90;
  model_life: 30;
  vehicle_life: 40;
  cost_factor: 26;
  length: 5;
  running_cost_factor: 13;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_FLIP);
	}


  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JNR_860);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_jgr_860_subtype_text;
  default: switch_jgr_860_livery;
  purchase: spriteset_jgr_860_black_purchase;
  }
}

spriteset(spriteset_deki_400_black, "gfx/private/deki401.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_deki_400_blue, "gfx/private/deki401.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_deki_400_cc, "gfx/private/deki401.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_deki_400_black_purchase, "gfx/private/deki401.png") {
	template_purchase(1, 128)
}

spriteset(spriteset_deki_400_blue_purchase, "gfx/private/deki401.png") {
	template_purchase(89, 128)
}




switch(FEAT_TRAINS, SELF, switch_deki_400_yeardep_livery, build_year) {
	0..1993: spriteset_deki_400_black;
	spriteset_deki_400_blue;
}

switch(FEAT_TRAINS, SELF, switch_deki_400_livery, cargo_subtype) {
	1: spriteset_deki_400_black;
	2: spriteset_deki_400_blue;
	3: spriteset_deki_400_cc;
	switch_deki_400_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_deki_400_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_MEITETSU_BLACK);
	2: return string(STR_REFIT_MEITETSU_BLUE);
	3: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_deki_400_purchase, current_year) {
	0..1993: spriteset_deki_400_black_purchase;
	spriteset_deki_400_blue_purchase;
}

//deki
item (FEAT_TRAINS, deki_400, 1005) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_DEKI_400);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1930,1,1);
  speed: 60 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 400 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 40;
  reliability_decay: 85;
  model_life: 70;
  vehicle_life: 60;
  cost_factor: 22;
  length: 5;
  running_cost_factor: 32;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_deki_400_subtype_text;
  default: switch_deki_400_livery;
  purchase: switch_deki_400_purchase;
  }
}
spriteset(spriteset_seibu_e31, "gfx/private/seibu_e31.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_seibu_e31_cc, "gfx/private/seibu_e31.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_seibu_e31_purchase, "gfx/private/seibu_e31.png") {
	template_purchase(1, 96)
}

switch(FEAT_TRAINS, SELF, switch_seibu_e31_livery, cargo_subtype) {
	1: spriteset_seibu_e31_cc;
	spriteset_seibu_e31;
}

switch(FEAT_TRAINS, SELF, switch_seibu_e31_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_SEIBU);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, seibu_e31, 1101) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_SEIBU_E31);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1986,1,1);
  speed: 70 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.27;
  power: 520 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 40;
  reliability_decay: 80;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 13;
  length: 4;
  running_cost_factor: 9;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_SEIBU_E31);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_seibu_e31_subtype_text;
  default: switch_seibu_e31_livery;
  purchase: spriteset_seibu_e31_purchase;
  }
}
spriteset(spriteset_seibu_e851, "gfx/private/seibu_e851.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_seibu_e851_cc, "gfx/private/seibu_e851.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_seibu_e851_purchase, "gfx/private/seibu_e851.png") {
	template_purchase(1, 96)
}

switch(FEAT_TRAINS, SELF, switch_seibu_e851_livery, cargo_subtype) {
	1: spriteset_seibu_e851_cc;
	spriteset_seibu_e851;
}

switch(FEAT_TRAINS, SELF, switch_seibu_e851_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_SEIBU);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, seibu_e851, 1100) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_SEIBU_E851);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1969,1,1);
  speed: 115 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.27;
  power: 2550 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 96;
  reliability_decay: 80;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 38;
  length: 7;
  running_cost_factor: 61;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_SEIBU_E851);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_seibu_e851_subtype_text;
  default: switch_seibu_e851_livery;
  purchase: spriteset_seibu_e851_purchase;
  }
}
spriteset(spriteset_ab10, "gfx/eb10.png") {
	template_2cc_std(1, 32)
}


spriteset(spriteset_ab10_cc, "gfx/eb10.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_ab10_purchase, "gfx/eb10.png") {
	template_purchase(1, 128)
}

switch(FEAT_TRAINS, SELF, switch_ab10_livery, cargo_subtype) {
	1: spriteset_ab10_cc;
	spriteset_ab10;
}


switch(FEAT_TRAINS, SELF, switch_ab10_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JNR_BROWN);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, ab10, 1010) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NAAN;
  name: string(STR_NAME_JNR_AB10);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1927,1,1);
  speed: 40 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.24;
  power: 125 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 30;
  reliability_decay: 55;
  model_life: 10;
  vehicle_life: 10;
  cost_factor: 20;
  length: 4;
  running_cost_factor: 32;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_AB10);
  cargo_subtype_text: switch_ab10_subtype_text;
  default: switch_ab10_livery;
  purchase: spriteset_ab10_purchase;
  cargo_capacity: return 0;  
  }
}



spriteset(spriteset_eb10, "gfx/eb10.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_eb10_cc, "gfx/eb10.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_eb10_jgr_purchase, "gfx/eb10.png") {
	template_purchase(1, 160)
}

spriteset(spriteset_eb10_jnr_purchase, "gfx/eb10.png") {
	template_purchase(89, 160)
}


switch(FEAT_TRAINS, SELF, switch_eb10_livery, cargo_subtype) {
	1: spriteset_eb10_cc;
	spriteset_eb10;
}

switch(FEAT_TRAINS, SELF, switch_eb10_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JNR_BROWN);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_eb10_purchase_yeardep, current_year) {
    0..1949: spriteset_eb10_jgr_purchase;
    spriteset_eb10_jnr_purchase;
    }


item (FEAT_TRAINS, eb10, 1011) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EB10);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1931,1,1);
  speed: 40 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.24;
  power: 135 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 22;
  reliability_decay: 55;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 19;
  length: 4;
  running_cost_factor: 30;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JGR_ELF);
  cargo_subtype_text: switch_eb10_subtype_text;
  default: switch_eb10_livery;
  purchase: switch_eb10_purchase_yeardep;
  cargo_capacity: return 0;
  }
}
spriteset(spriteset_ed17_brown, "gfx/ed17.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed17_cc, "gfx/ed17.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed17_purchase, "gfx/ed17.png") {
	template_purchase(1, 96)
}


switch(FEAT_TRAINS, SELF, switch_ed17_livery, cargo_subtype) {
	0: spriteset_ed17_brown;
	1: spriteset_ed17_cc;
}

switch(FEAT_TRAINS, SELF, switch_ed17_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JNR_BROWN);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}

item (FEAT_TRAINS, ed17, 02) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];
	length: 6;
//	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


graphics { // graphics for engine
    default: switch_ed17_livery;
    purchase: spriteset_ed17_purchase;
    cargo_capacity: return 0;
    cargo_subtype_text: switch_ed17_subtype_text;
  }
}
spriteset(spriteset_ed53_brown, "gfx/ed53.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed53_cc, "gfx/ed53.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed53_purchase, "gfx/ed53.png") {
	template_purchase(1, 96)
}


switch(FEAT_TRAINS, SELF, switch_ed53_livery, cargo_subtype) {
	0: spriteset_ed53_brown;
	1: spriteset_ed53_cc;
}



switch(FEAT_TRAINS, SELF, switch_ed53_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JNR_BROWN);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


item (FEAT_TRAINS, ed53, 1050) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_ED53);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1926,1,1);
  speed: 95 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 840 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 68;
  reliability_decay: 85;
  model_life: 55;
  vehicle_life: 50;
  cost_factor: 33;
  length: 6;
  running_cost_factor: 44;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JGR_EEP);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ed53_subtype_text;
  default: switch_ed53_livery;
  purchase: spriteset_ed53_purchase;
  }
}
spriteset(spriteset_ed61_cc, "gfx/ed62.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed61_brown, "gfx/ed62.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed61_blue, "gfx/ed62.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ed62_cc, "gfx/ed62.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ed62_brown, "gfx/ed62.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ed62_blue, "gfx/ed62.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ed62_jrf, "gfx/ed62.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ed62_hama, "gfx/ed62.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_ed61_purchase, "gfx/ed62.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ed62_purchase, "gfx/ed62.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_ed62_jrf_purchase, "gfx/ed62.png") {
	template_purchase(1, 320)
}



switch(FEAT_TRAINS, SELF, switch_ed62_yeardep_livery, current_year) {
	0..1965: spriteset_ed61_brown;
	1965..1974: spriteset_ed61_blue;
	1974..1988: spriteset_ed62_blue;
	spriteset_ed62_jrf;

}



switch(FEAT_TRAINS, SELF, switch_ed62_livery, cargo_subtype) {
	1: spriteset_ed61_cc;
	2: spriteset_ed61_brown;
	3: spriteset_ed61_blue;
	4: spriteset_ed62_cc;
	5: spriteset_ed62_brown;
	6: spriteset_ed62_blue;
	7: spriteset_ed62_jrf;
	8: spriteset_ed62_hama;
	switch_ed62_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_ed62_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_ED61_CC);
	2: return string(STR_REFIT_ED61_BROWN);
	3: return string(STR_REFIT_ED61_BLUE);
	4: return string(STR_REFIT_ED62_CC);
	5: return string(STR_REFIT_ED62_BROWN);
	6: return string(STR_REFIT_ED62_BLUE);
	7: return string(STR_REFIT_ED62_JRF);
	8: return string(STR_REFIT_ED62_HAMA);
	   return CB_RESULT_NO_TEXT;
	}



switch(FEAT_TRAINS, SELF, switch_ed62_yeardep_purchase, current_year) {
	0..1974: spriteset_ed61_purchase;
	1990..9999: spriteset_ed62_jrf_purchase;
	spriteset_ed62_purchase;

}


item (FEAT_TRAINS, ed62, 1060) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_ED62);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1958,1,1);
  speed: 90 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1560 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 60;
  reliability_decay: 85;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 44;
  length: 7;
  running_cost_factor: 56;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_TEXT_JNR_JRF);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ed62_subtype_text;
  default: switch_ed62_livery;
  purchase: switch_ed62_yeardep_purchase;
  }
}
spriteset(spriteset_ef10_brown, "gfx/ef10.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef10_silver, "gfx/ef10.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef10_cc, "gfx/ef10.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef10_jgr_purchase, "gfx/ef10.png") {
	template_purchase(1, 96)
}

spriteset(spriteset_ef10_jnr_purchase, "gfx/ef10.png") {
	template_purchase(1, 128)
}


switch(FEAT_TRAINS, SELF, switch_ef10_livery, cargo_subtype) {
	1: spriteset_ef10_silver;
	2: spriteset_ef10_cc;
	spriteset_ef10_brown;
}



switch(FEAT_TRAINS, SELF, switch_ef10_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JNR_BROWN);
	1: return string(STR_REFIT_STAINLESS);
	2: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ef10_yeardep_purchase, current_year) {
    0..1949: spriteset_ef10_jgr_purchase;
    spriteset_ef10_jnr_purchase;
    }

item (FEAT_TRAINS, ef10, 08) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

//	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef10_subtype_text;
  default: switch_ef10_livery;
  purchase: switch_ef10_yeardep_purchase;
  additional_text:	string(STR_DESC_JGR_EHF);
  }
}
spriteset(spriteset_ef13_croc_brown, "gfx/ef13.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef13_bloc_brown, "gfx/ef13.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef13_croc_cc, "gfx/ef13.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef13_bloc_cc, "gfx/ef13.png") {
	template_2cc_std(1, 96)
}



spriteset(spriteset_ef13_croc_purchase, "gfx/ef13.png") {
	template_purchase(1, 128)
}

spriteset(spriteset_ef13_bloc_purchase, "gfx/ef13.png") {
	template_purchase(1, 160)
}


switch(FEAT_TRAINS, SELF, switch_ef13_brown_buildyear, build_year) {
	0..1957: spriteset_ef13_croc_brown;
	spriteset_ef13_bloc_brown;
}


switch(FEAT_TRAINS, SELF, switch_ef13_livery, cargo_subtype) {
	1: spriteset_ef13_croc_brown;
	2: spriteset_ef13_bloc_brown;
	3: spriteset_ef13_croc_cc;
	4: spriteset_ef13_bloc_cc;
	switch_ef13_brown_buildyear;
}



switch(FEAT_TRAINS, SELF, switch_ef13_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_BROWN_OLD);
	2: return string(STR_REFIT_BROWN_NEW);
	3: return string(STR_REFIT_CC_OLD);
	4: return string(STR_REFIT_CC_NEW);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_ef13_yeardep_purchase, current_year) {
    1957..9999: spriteset_ef13_bloc_purchase;
    spriteset_ef13_croc_purchase;
    }


item (FEAT_TRAINS, ef13, 103) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

//	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef13_subtype_text;
  default: switch_ef13_livery;
  purchase: switch_ef13_yeardep_purchase;
  additional_text:	string(STR_DESC_JGR_EHF);
  }
}
spriteset(spriteset_ef53_jgr, "gfx/ef53.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef53_jnr, "gfx/ef53.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef53_banker, "gfx/ef53.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef53_cc, "gfx/ef53.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_ef53_jgr_purchase, "gfx/ef53.png") {
	template_purchase(1, 128)
}

spriteset(spriteset_ef53_jnr_purchase, "gfx/ef53.png") {
	template_purchase(1, 160)
}

switch(FEAT_TRAINS, SELF, switch_ef53_yeardep_livery, build_year) {
	0..1949: spriteset_ef53_jgr;
	spriteset_ef53_jnr;
}

switch(FEAT_TRAINS, SELF, switch_ef53_yeardep_purchase, current_year) {
	0..1949: spriteset_ef53_jgr_purchase;
	spriteset_ef53_jnr_purchase;
}

switch(FEAT_TRAINS, SELF, switch_ef53_livery, cargo_subtype) {
	1: spriteset_ef53_jgr;
	2: spriteset_ef53_jnr;
	3: spriteset_ef53_banker;
	4: spriteset_ef53_cc;
	switch_ef53_yeardep_livery;
}

switch(FEAT_TRAINS, SELF, switch_ef53_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JGR);
	2: return string(STR_REFIT_JNR_BROWN);
	3: return string(STR_REFIT_EF59);
	4: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, ef53, 1016) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF53);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1932,1,1);
  speed: 95 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1350 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1; 
  cargo_allow_refit: [PASS];
  weight: 98;
  reliability_decay: 55;
  model_life: 45;
  vehicle_life: 45;
  cost_factor: 37;
  length: 8;
  running_cost_factor: 54;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JGR_EEP);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef53_subtype_text;
  default: switch_ef53_livery;
  purchase: switch_ef53_yeardep_purchase;
  }
}
spriteset(spriteset_ef55_brown, "gfx/ef55.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef55_brown_flip, "gfx/ef55.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_ef55_cc, "gfx/ef55.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef55_cc_flip, "gfx/ef55.png") {
	template_2cc_flip(1, 96)
}



spriteset(spriteset_ef55_jgr_purchase, "gfx/ef55.png") {
	template_purchase(1, 128)
}

spriteset(spriteset_ef55_jnr_purchase, "gfx/ef55.png") {
	template_purchase(1, 160)
}


switch(FEAT_TRAINS, SELF, switch_ef55_brown_flip, vehicle_is_flipped) {
	0: spriteset_ef55_brown;
	1: spriteset_ef55_brown_flip;
}

switch(FEAT_TRAINS, SELF, switch_ef55_cc_flip, vehicle_is_flipped) {
	0: spriteset_ef55_cc;
	1: spriteset_ef55_cc_flip;
}



switch(FEAT_TRAINS, SELF, switch_ef55_livery, cargo_subtype) {
	0: switch_ef55_brown_flip;
	1: switch_ef55_cc_flip;	
	switch_ef55_brown_flip;
}

switch(FEAT_TRAINS, SELF, switch_ef55_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JNR_BROWN);
	1: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_ef55_yeardep_purchase, current_year) {
    0..1949: spriteset_ef55_jgr_purchase;
    spriteset_ef55_jnr_purchase;
    }


item (FEAT_TRAINS, ef55, 10) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_FLIP);
	}


  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JGR_EEP);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef55_subtype_text;
  default: switch_ef55_livery;
  purchase: switch_ef55_yeardep_purchase;
  }
}
spriteset(spriteset_ef57_new, "gfx/ef57.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef57_old, "gfx/ef57.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef57_logo, "gfx/ef57.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef57_banker, "gfx/ef57.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef57_cc_new, "gfx/ef57.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef57_cc_old, "gfx/ef57.png") {
	template_2cc_std(1, 160)
}



spriteset(spriteset_ef57_old_purchase, "gfx/ef57.png") {
	template_purchase(89, 192)
}

spriteset(spriteset_ef57_new_purchase, "gfx/ef57.png") {
	template_purchase(1, 192)
}

spriteset(spriteset_ef57_jnr_purchase, "gfx/ef57.png") {
	template_purchase(1, 224)
}



switch(FEAT_TRAINS, SELF, switch_ef57_yeardep_livery, build_year) {
	0..1937: spriteset_ef57_old;
	spriteset_ef57_new;
}

switch(FEAT_TRAINS, SELF, switch_ef57_yeardep_purchase, current_year) {
	0..1940: spriteset_ef57_old_purchase;
    1940..1949: spriteset_ef57_new_purchase;
	spriteset_ef57_jnr_purchase;
}

switch(FEAT_TRAINS, SELF, switch_ef57_livery, cargo_subtype) {
	1: spriteset_ef57_new;
	2: spriteset_ef57_old;
	3: spriteset_ef57_logo;
	4: spriteset_ef57_banker;
	5: spriteset_ef57_cc_new;
	6: spriteset_ef57_cc_old;
	switch_ef57_yeardep_livery;
}

switch(FEAT_TRAINS, SELF, switch_ef57_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_BROWN_NEW);
	2: return string(STR_REFIT_BROWN_OLD);
	3: return string(STR_REFIT_JNR_LOGO);
	4: return string(STR_REFIT_EF59);
	5: return string(STR_REFIT_CC_NEW);
	6: return string(STR_REFIT_CC_OLD);
	   return CB_RESULT_NO_TEXT;
	}





item (FEAT_TRAINS, ef57, 1020) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF57);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1937,1,1);
  speed: 100 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1600 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1; 
  cargo_allow_refit: [PASS];
  weight: 110;
  reliability_decay: 55;
  model_life: 45;
  vehicle_life: 45;
  cost_factor: 38;
  length: 8;
  running_cost_factor: 55;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JGR_EEP);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef57_subtype_text;
  default: switch_ef57_livery;
  purchase: switch_ef57_yeardep_purchase;
  }
}
spriteset(spriteset_ef58_brown, "gfx/ef58.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef58_imperial, "gfx/ef58.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef58_blue, "gfx/ef58.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef58_x1, "gfx/ef58.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef58_tokaido_green, "gfx/ef58.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef58_x3, "gfx/ef58.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef58_x4, "gfx/ef58.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ef58_old_brown, "gfx/ef58.png") {
	template_2cc_std(180, 1)
}

spriteset(spriteset_ef58_old_cc, "gfx/ef58.png") {
	template_2cc_std(180, 32)
}

spriteset(spriteset_ef58_large_logo, "gfx/ef58.png") {
	template_2cc_std(180, 64)
}

spriteset(spriteset_ef58_tokaido_blue, "gfx/ef58.png") {
	template_2cc_std(180, 96)
}


spriteset(spriteset_ef58_cc, "gfx/ef58.png") {
	template_2cc_std(1, 224)
}



spriteset(spriteset_ef58_old_purchase, "gfx/ef58.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ef58_brown_purchase, "gfx/ef58.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_ef58_blue_purchase, "gfx/ef58.png") {
	template_purchase(1, 320)
}



switch(FEAT_TRAINS, SELF, switch_ef58_yeardep_livery, build_year) {
	0..1949: spriteset_ef58_old_brown;
	1949..1965: spriteset_ef58_brown;
	1965..9999: spriteset_ef58_blue;
	spriteset_ef58_imperial;
}


switch(FEAT_TRAINS, SELF, switch_ef58_oldshape_livery, cargo_subtype) {
	1: spriteset_ef58_old_brown;
	2: spriteset_ef58_old_cc;
	switch_ef58_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_ef58_newshape_livery, cargo_subtype) {
	1: spriteset_ef58_old_brown;
	2: spriteset_ef58_old_cc;
	3: spriteset_ef58_brown;
	4: spriteset_ef58_imperial;
	5: spriteset_ef58_blue;
	6: spriteset_ef58_tokaido_green;
	7: spriteset_ef58_tokaido_blue;	
	8: spriteset_ef58_x1;
	9: spriteset_ef58_x3;
	10: spriteset_ef58_x4;
	11: spriteset_ef58_large_logo;
	12: spriteset_ef58_cc;	
	switch_ef58_yeardep_livery;
}

switch(FEAT_TRAINS, SELF, switch_ef58_oldshape_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_BROWN_OLD);
	2: return string(STR_REFIT_CC_OLD);	
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_ef58_newshape_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_BROWN_OLD);
	2: return string(STR_REFIT_CC_OLD);	
	3: return string(STR_REFIT_BROWN_NEW);
	4: return string(STR_REFIT_EF58_61);
	5: return string(STR_REFIT_BLUE);
	6: return string(STR_REFIT_TOKAIDO_GREEN);
	7: return string(STR_REFIT_EF58_BLUE);
	8: return string(STR_REFIT_EF58_EXP1);
	9: return string(STR_REFIT_EF58_EXP2);
	10: return string(STR_REFIT_EF58_EXP3);
	11: return string(STR_REFIT_LOGO);
	12: return string(STR_REFIT_CC_NEW);	
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_ef58_yeardep_purchase, current_year) {
	0..1949: spriteset_ef58_old_purchase;
    1949..1965: spriteset_ef58_brown_purchase;
	spriteset_ef58_blue_purchase;
}


switch(FEAT_TRAINS, SELF, switch_ef58_yeardep_refit, current_year) {
	0..1949: switch_ef58_oldshape_livery;
	switch_ef58_newshape_livery;
}

switch(FEAT_TRAINS, SELF, switch_ef58_yeardep_subtype_text, current_year) {
	0..1949: switch_ef58_oldshape_subtype_text;
	switch_ef58_newshape_subtype_text;
}




item (FEAT_TRAINS, ef58, 14) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);
	speed: 110 km/h;
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

//	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  additional_text:	string(STR_DESC_JGR_EEP);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef58_yeardep_subtype_text;
  default: switch_ef58_yeardep_refit;
  purchase: switch_ef58_yeardep_purchase;
  }
}
spriteset(spriteset_ef60_blue, "gfx/ef60.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef60_new, "gfx/ef60.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef60_tokkyu, "gfx/ef60.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef60_brown, "gfx/ef60.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef60_american, "gfx/ef60.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef60_yasuragi, "gfx/ef60.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef60_cc, "gfx/ef60.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ef60_banker, "gfx/ef60.png") {
	template_2cc_std(1, 224)
}


spriteset(spriteset_ef60_purchase, "gfx/ef60.png") {
	template_purchase(1, 256)
}



switch(FEAT_TRAINS, SELF, switch_ef60_yeardep_livery, build_year) {
	0..1965: spriteset_ef60_brown;
	1965..1970: spriteset_ef60_blue;
    spriteset_ef60_new;
}

//maybe add switch to make tokkyu livery if pax are attached (also ef65)

switch(FEAT_TRAINS, SELF, switch_ef60_livery, cargo_subtype) {
	1: spriteset_ef60_blue;
	2: spriteset_ef60_new;
	3: spriteset_ef60_tokkyu; 
	4: spriteset_ef60_brown;
	5: spriteset_ef60_american;
	6: spriteset_ef60_yasuragi;
	7: spriteset_ef60_cc;
	8: spriteset_ef60_banker;
	switch_ef60_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_ef60_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_BLUE);
	2: return string(STR_REFIT_EF60_NEW);
	3: return string(STR_REFIT_TOKKYU);
	4: return string(STR_REFIT_JNR_BROWN);
	5: return string(STR_REFIT_EF60_AMERICAN);
	6: return string(STR_REFIT_EF60_YASURAGI);
	7: return string(STR_REFIT_CC);
	8: return string(STR_REFIT_EF67);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, ef60, 1030) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF60);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1960,1,1);
  speed: 100 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 2550 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 96;
  reliability_decay: 85;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 55;
  length: 7;
  running_cost_factor: 85;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef60_subtype_text;
  default: switch_ef60_livery;
  purchase: spriteset_ef60_purchase;
  }
}
spriteset(spriteset_ef63_brown, "gfx/ef63.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef63_blue, "gfx/ef63.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef63_cc, "gfx/ef63.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef63_brown_purchase, "gfx/ef63.png") {
	template_purchase(1, 96)
}

spriteset(spriteset_ef63_blue_purchase, "gfx/ef63.png") {
	template_purchase(1, 128)
}



switch(FEAT_TRAINS, SELF, switch_ef63_yeardep_livery, build_year) {
	0..1968: spriteset_ef63_brown;
	spriteset_ef63_blue;
}


switch(FEAT_TRAINS, SELF, switch_ef63_livery, cargo_subtype) {
	1: spriteset_ef63_brown;
	2: spriteset_ef63_blue;
    3: spriteset_ef63_cc;
	switch_ef63_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_ef63_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JNR_BROWN);
	2: return string(STR_REFIT_BLUE);
    3: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_ef63_purchase_yeardep, current_year) {
    0..1970: spriteset_ef63_brown_purchase;
    spriteset_ef63_blue_purchase;
    }


item (FEAT_TRAINS, ef63, 1040) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF63);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1962,1,1);
  speed: 100 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.24;
  power: 2550 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1; 
  cargo_allow_refit: [PASS];
  weight: 108;
  reliability_decay: 55;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 40;
  length: 8;
  running_cost_factor: 65;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
  additional_text:	string(STR_TEXT_JNR_EF63);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef63_subtype_text;
  default: switch_ef63_livery;
  purchase: switch_ef63_purchase_yeardep;
  }
}
spriteset(spriteset_ef64_0_brown, "gfx/ef64_0.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef64_0_cc, "gfx/ef64_0.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef64_0_blue, "gfx/ef64_0.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef64_0_jrf, "gfx/ef64_0.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef64_0_euroliner, "gfx/ef64_0.png") {
	template_2cc_std(1, 128)
}

//EF64_1000

spriteset(spriteset_ef64_1_brown, "gfx/ef64_1000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef64_1_blue, "gfx/ef64_1000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef64_1_jrf_refit, "gfx/ef64_1000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef64_1_diag_logo, "gfx/ef64_1000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef64_1_diag_logo_flip, "gfx/ef64_1000.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_ef64_1_diag, "gfx/ef64_1000.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef64_1_diag_flip, "gfx/ef64_1000.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ef64_1_large_logo, "gfx/ef64_1000.png") {
	template_2cc_std(1, 224)
}


spriteset(spriteset_ef64_0_purchase, "gfx/ef64_0.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ef64_1000_purchase, "gfx/ef64_1000.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ef64_jrf_purchase, "gfx/ef64_1000.png") {
	template_purchase(1, 288)
}

random_switch (FEAT_TRAINS, SELF, random_ef64_diag_logo) {
 1: spriteset_ef64_1_diag_logo;
 1: spriteset_ef64_1_diag_logo_flip;
}

random_switch (FEAT_TRAINS, SELF, random_ef64_diag) {
 1: spriteset_ef64_1_diag;
 1: spriteset_ef64_1_diag_flip;
}



switch(FEAT_TRAINS, SELF, switch_ef64_yeardep_livery, build_year) {
	1000..1965: spriteset_ef64_0_brown;
	1965..1980: spriteset_ef64_0_blue;
	1980..1995: spriteset_ef64_1_blue;
	1995..2000: spriteset_ef64_1_jrf_refit;
	2000..9999: random_ef64_diag_logo;
    CB_FAILED;
}

switch(FEAT_TRAINS, SELF, switch_ef64_livery, cargo_subtype) {
	1: spriteset_ef64_0_brown;
	2: spriteset_ef64_0_blue;
	3: spriteset_ef64_0_jrf;
	4: spriteset_ef64_0_euroliner;
	5: spriteset_ef64_1_brown;
	6: spriteset_ef64_1_blue;
	7: spriteset_ef64_1_jrf_refit;
	8: random_ef64_diag_logo;
	9: random_ef64_diag;
	10: spriteset_ef64_1_large_logo;
	11: spriteset_ef64_0_cc;
	switch_ef64_yeardep_livery;
}

//TODO add year locked refit ef64 1000

switch(FEAT_TRAINS, SELF, switch_ef64_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JNR_BROWN);
	2: return string(STR_REFIT_BLUE);
	3: return string(STR_REFIT_JRF_BLUE);
	4: return string(STR_REFIT_EUROLINER);
	5: return string(STR_REFIT_EF64_1_BROWN);
	6: return string(STR_REFIT_EF64_1_BLUE);
	7: return string(STR_REFIT_EF64_1_REFIT);
	8: return string(STR_REFIT_EF64_1_SLOGO);
	9: return string(STR_REFIT_EF64_1_STRIPE);
	10: return string(STR_REFIT_EF64_1_LLOGO);
	11: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ef64_yeardep_purchase, current_year) {
	0..1980: spriteset_ef64_0_purchase;
    1995..9999: spriteset_ef64_jrf_purchase;
	spriteset_ef64_1000_purchase;
}


item (FEAT_TRAINS, ef64, 22) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_JNR_EF66);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef64_subtype_text;
  default: switch_ef64_livery;
  purchase: switch_ef64_yeardep_purchase;
  }
}
spriteset(spriteset_ef65_blue, "gfx/ef65.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef65_jrf, "gfx/ef65.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef65_brown, "gfx/ef65.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef65_tokkyu, "gfx/ef65.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef65_jr_logo, "gfx/ef65.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef65_twilight, "gfx/ef65.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef65_experimental, "gfx/ef65.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ef65_rainbow, "gfx/ef65.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_ef65_ef67, "gfx/ef65.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_ef65_euroliner, "gfx/ef65.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_ef65_cc, "gfx/ef65.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_ef65_yuyu_red, "gfx/ef65.png") {
	template_2cc_std(180, 1)
}

spriteset(spriteset_ef65_yuyu_orange, "gfx/ef65.png") {
	template_2cc_std(180, 32)
}

spriteset(spriteset_ef65_tokaido_green, "gfx/ef65.png") {
	template_2cc_std(180, 64)
}

spriteset(spriteset_ef65_large_logo, "gfx/ef65.png") {
	template_2cc_std(180, 96)
}


spriteset(spriteset_ef65_0_purchase, "gfx/ef65.png") {
	template_purchase(1, 416)
}

spriteset(spriteset_ef65_1_purchase, "gfx/ef65.png") {
	template_purchase(1, 448)
}


switch(FEAT_TRAINS, SELF, switch_ef65_yeardep_livery, build_year) {
	0..1982: spriteset_ef65_tokkyu;
	1989..9999: spriteset_ef65_jrf;
    spriteset_ef65_blue;
}

switch(FEAT_TRAINS, SELF, switch_ef65_livery, cargo_subtype) {
	1: spriteset_ef65_brown;
	2: spriteset_ef65_tokkyu;
	3: spriteset_ef65_blue;
	4: spriteset_ef65_tokaido_green;
	5: spriteset_ef65_jrf;
	6: spriteset_ef65_euroliner;
	7: spriteset_ef65_rainbow;
	8: spriteset_ef65_twilight;
	9: spriteset_ef65_jr_logo;
	10: spriteset_ef65_large_logo;
	11: spriteset_ef65_experimental;
	12: spriteset_ef65_yuyu_red;
	13: spriteset_ef65_yuyu_orange;
	14: spriteset_ef65_ef67;
	15: spriteset_ef65_cc;
	switch_ef65_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_ef65_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JNR_BROWN);
	2: return string(STR_REFIT_TOKKYU);
	3: return string(STR_REFIT_BLUE);
	4: return string(STR_REFIT_TOKAIDO_GREEN);
	5: return string(STR_REFIT_JRF_BLUE);
	6: return string(STR_REFIT_EUROLINER);
	7: return string(STR_REFIT_RAINBOW);
	8: return string(STR_REFIT_TWILIGHT);
	9: return string(STR_REFIT_JR_LOGO);
	10: return string(STR_REFIT_LOGO);
	11: return string(STR_REFIT_EXP);
	12: return string(STR_REFIT_YUYU_RED);
	13: return string(STR_REFIT_YUYU_ORANGE);
	14: return string(STR_REFIT_EF67);
	15: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ef65_yeardep_purchase, current_year) {
	1990..9999: spriteset_ef65_1_purchase;
    spriteset_ef65_0_purchase;
}



item (FEAT_TRAINS, ef65, 24) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

//	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_JNR_EF66);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef65_subtype_text;
  default: switch_ef65_livery;
  purchase: switch_ef65_yeardep_purchase;
  }
}
spriteset(spriteset_ef66_blue, "gfx/ef66.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef66_jrf, "gfx/ef66.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef66_100, "gfx/ef66.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef66_refit, "gfx/ef66.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef66_experimental, "gfx/ef66.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef66_cc, "gfx/ef66.png") {
	template_2cc_std(1, 160)
}



spriteset(spriteset_ef66_0_purchase, "gfx/ef66.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ef66_1_purchase, "gfx/ef66.png") {
	template_purchase(1, 288)
}


switch(FEAT_TRAINS, SELF, switch_ef66_yeardep_livery, build_year) {
	1000..1986: spriteset_ef66_blue;
	1986..1989: spriteset_ef66_jrf;
	1989..9999: spriteset_ef66_100;
    CB_FAILED;
}

switch(FEAT_TRAINS, SELF, switch_ef66_livery, cargo_subtype) {
	1: spriteset_ef66_blue;
	2: spriteset_ef66_jrf;
	3: spriteset_ef66_100;
	4: spriteset_ef66_refit;
	5: spriteset_ef66_experimental;
	6: spriteset_ef66_cc;
	switch_ef66_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_ef66_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_BLUE);
	2: return string(STR_REFIT_JRF_BLUE);
	3: return string(STR_REFIT_EF66_100);
	4: return string(STR_REFIT_JRF_REFIT);
	5: return string(STR_REFIT_EXP);
	6: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ef66_yeardep_purchase, current_year) {
	1990..9999: spriteset_ef66_1_purchase;
    spriteset_ef66_0_purchase;
}



item (FEAT_TRAINS, ef66, 26) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_JNR_EF66);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef66_subtype_text;
  default: switch_ef66_livery;
  purchase: switch_ef66_yeardep_purchase;
  }
}
spriteset(spriteset_ef200_original, "gfx/ef200.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef200_blue, "gfx/ef200.png") {
	template_2cc_std(1, 32)
}


spriteset(spriteset_ef200_cc, "gfx/ef200.png") {
	template_2cc_std(1, 64)
}



spriteset(spriteset_ef200_purchase, "gfx/ef200.png") {
	template_purchase(1, 96)
}


switch(FEAT_TRAINS, SELF, switch_ef200_yeardep_livery, build_year) {
	1000..2006: spriteset_ef200_original;
	2006..9999: spriteset_ef200_blue;
    CB_FAILED;
}

switch(FEAT_TRAINS, SELF, switch_ef200_livery, cargo_subtype) {
	1: spriteset_ef200_original;
	2: spriteset_ef200_blue;
	3: spriteset_ef200_cc;
	switch_ef200_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_ef200_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JRF_BLUE);
	2: return string(STR_REFIT_JRF_REFIT);
	3: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, jr_ef200, 60) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_JNR_EF66);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef200_subtype_text;
  default: switch_ef200_livery;
  purchase: spriteset_ef200_purchase;
  }
}
spriteset(spriteset_ef210_blue, "gfx/ef210.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef210_momotaro, "gfx/ef210.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef210_300, "gfx/ef210.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef210_new, "gfx/ef210.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_ef210_cc, "gfx/ef210.png") {
	template_2cc_std(1, 128)
}



spriteset(spriteset_ef210_purchase, "gfx/ef210.png") {
	template_purchase(1, 160)
}



switch(FEAT_TRAINS, SELF, switch_ef210_yeardep_livery, build_year) {
	2009..2019: spriteset_ef210_momotaro;
	2019..9999: spriteset_ef210_new;
    spriteset_ef210_blue;
}

switch(FEAT_TRAINS, SELF, switch_ef210_livery, cargo_subtype) {
	1: spriteset_ef210_blue;
	2: spriteset_ef210_momotaro;
	3: spriteset_ef210_new;	
	4: spriteset_ef210_300;
	5: spriteset_ef210_cc;
	switch_ef210_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_ef210_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JRF_BLUE);
	2: return string(STR_REFIT_MOMOTARO);
	3: return string(STR_REFIT_JRF_REFIT);
	4: return string(STR_REFIT_EF210_300);
	5: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, jr_ef210, 84) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_JNR_EF66);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef210_subtype_text;
  default: switch_ef210_livery;
  purchase: spriteset_ef210_purchase;
  }
}
spriteset(spriteset_eh10_black_front, "gfx/eh10.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_eh10_black_rear, "gfx/eh10.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_eh10_brown_front, "gfx/eh10.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_eh10_brown_rear, "gfx/eh10.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_eh10_cc_front, "gfx/eh10.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_eh10_cc_rear, "gfx/eh10.png") {
	template_2cc_std(1, 160)
}


spriteset(spriteset_eh10_purchase, "gfx/eh10.png") {
	template_purchase(1, 192)
}



switch(FEAT_TRAINS, SELF, switch_eh10_livery, cargo_subtype) {
	1: spriteset_eh10_brown_front;
	2: spriteset_eh10_cc_front;
	spriteset_eh10_black_front;
}

switch(FEAT_TRAINS, SELF, switch_eh10_livery_rear, cargo_subtype) {
	1: spriteset_eh10_brown_rear;
	2: spriteset_eh10_cc_rear;
	spriteset_eh10_black_rear;
}


switch(FEAT_TRAINS, SELF, switch_eh10_speed, cargo_subtype) {
	1: return 110;
	2: return 110;
	return 85;
}



switch(FEAT_TRAINS, SELF, switch_eh10_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_EH10);
	1: return string(STR_REFIT_EH10_HS);
	2: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_eh10_articulated_part, extra_callback_info1) {
	1: return eh10_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}



item (FEAT_TRAINS, eh10, 18) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  cargo_capacity: return 0;
  speed: switch_eh10_speed;
  cargo_subtype_text: switch_eh10_subtype_text;
  default: switch_eh10_livery;
  purchase: spriteset_eh10_purchase;
  articulated_part: switch_eh10_articulated_part;
  }
}

item (FEAT_TRAINS, eh10_rear, 1018) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_JNR_EH10);
		climates_available: NO_CLIMATE;
		introduction_date: date(1950,1,1);
		cargo_capacity: 1; 
		cargo_allow_refit: [PASS];
		length: 6;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_eh10_livery_rear;
	}
}
spriteset(spriteset_eh200_blue_front, "gfx/eh200.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_eh200_blue_rear, "gfx/eh200.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_eh200_cc_front, "gfx/eh200.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_eh200_cc_rear, "gfx/eh200.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_eh200_purchase, "gfx/eh200.png") {
	template_purchase(1, 128)
}



switch(FEAT_TRAINS, SELF, switch_eh200_livery, cargo_subtype) {
	1: spriteset_eh200_cc_front;
	spriteset_eh200_blue_front;
}

switch(FEAT_TRAINS, SELF, switch_eh200_livery_rear, cargo_subtype) {
	1: spriteset_eh200_cc_rear;
	spriteset_eh200_blue_rear;
}




switch(FEAT_TRAINS, SELF, switch_eh200_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JRF_BLUE);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_eh200_articulated_part, extra_callback_info1) {
	1: return eh200_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}



item (FEAT_TRAINS, eh200, 88) {

property {

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  cargo_capacity: return 0;
  cargo_subtype_text: switch_eh200_subtype_text;
  default: switch_eh200_livery;
  purchase: spriteset_eh200_purchase;
  articulated_part: switch_eh200_articulated_part;
  }
}


item (FEAT_TRAINS, eh200_rear, 1088) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
//		name: string(STR_NAME_JNR_EH200);
		climates_available: NO_CLIMATE;
		introduction_date: date(1950,1,1);
		cargo_capacity: 1; 
		cargo_allow_refit: [PASS];
		length: 6;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_eh200_livery_rear;
	}
}


spriteset(spriteset_ed70_red, "gfx/ed70.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed70_cc, "gfx/ed70.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed70_purchase, "gfx/ed70.png") {
	template_purchase(1, 96)
}


switch(FEAT_TRAINS, SELF, switch_ed70_livery, cargo_subtype) {
	1: spriteset_ed70_cc;
	spriteset_ed70_red;
}



switch(FEAT_TRAINS, SELF, switch_ed70_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RED);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, ed70, 1065) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_ED70);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1957,1,1);
  speed: 90 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1500 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 64;
  reliability_decay: 85;
  model_life: 40;
  vehicle_life: 60;
  cost_factor: 29;
  length: 7;
  running_cost_factor: 43;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_TEXT_JNR);
  cargo_capacity: return 0;
  default: switch_ed70_livery;
  cargo_subtype_text: switch_ed70_subtype_text;
  purchase: spriteset_ed70_purchase;
  }
}
spriteset(spriteset_ed75_red, "gfx/electric/ed75.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed75_akebono, "gfx/electric/ed75.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed75_newred, "gfx/electric/ed75.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ed75_redstripe, "gfx/electric/ed75.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ed75_rainbow, "gfx/electric/ed75.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ed75_panda, "gfx/electric/ed75.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ed75_refurb, "gfx/electric/ed75.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ed75_cc, "gfx/electric/ed75.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_ed79_red, "gfx/electric/ed75.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed79_singlearm, "gfx/electric/ed75.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed79_jrf, "gfx/electric/ed75.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_ed79_cc, "gfx/electric/ed75.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_ed75_purchase, "gfx/electric/ed75.png") {
	template_purchase(1, 320)
}

spriteset(spriteset_ed79_purchase, "gfx/electric/ed75.png") {
	template_purchase(89, 320)
}

//32bpp

alternative_sprites(spriteset_ed75_red, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/electric/32bpp/ed79.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_ed79_red, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/electric/32bpp/ed79.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_ed79_singlearm, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/electric/32bpp/ed79.png") {
	template_2cc_std(1, 64)
}


alternative_sprites(spriteset_ed75_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/electric/32bpp/ed79.png") {
	template_purchase(1, 256)
}

alternative_sprites(spriteset_ed79_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/electric/32bpp/ed79.png") {
	template_purchase(89, 256)
}


switch(FEAT_TRAINS, SELF, switch_ed75_yeardep_livery, build_year) {
	0..1985: spriteset_ed75_red;
	1986..2008: spriteset_ed79_red;
	spriteset_ed79_singlearm;
}

switch(FEAT_TRAINS, SELF, switch_ed75_yeardep_purchase, current_year) {
	0..1986: spriteset_ed75_purchase;
    spriteset_ed79_purchase;
}

switch(FEAT_TRAINS, SELF, switch_ed75_livery, cargo_subtype) {
	1: spriteset_ed75_red;
	2: spriteset_ed75_akebono;
	3: spriteset_ed75_newred;
	4: spriteset_ed75_redstripe;
	5: spriteset_ed75_rainbow;
	6: spriteset_ed75_panda;
	7: spriteset_ed75_refurb;
	8: spriteset_ed75_cc;
	switch_ed75_yeardep_livery;
}

switch(FEAT_TRAINS, SELF, switch_ed75_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_OLDRED);
	2: return string(STR_REFIT_ED75_GOLD);
	3: return string(STR_REFIT_RED);
	4: return string(STR_REFIT_ED75_M1);
	5: return string(STR_REFIT_RAINBOW);
	6: return string(STR_REFIT_ED75_M2);
	7: return string(STR_REFIT_ED75_M3);
	8: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}




switch(FEAT_TRAINS, SELF, switch_ed79_livery, cargo_subtype) {
	1: spriteset_ed75_red;
	2: spriteset_ed75_akebono;
	3: spriteset_ed75_newred;
	4: spriteset_ed75_redstripe;
	5: spriteset_ed75_rainbow;
	6: spriteset_ed75_panda;
	7: spriteset_ed75_refurb;
	8: spriteset_ed75_cc;
	9: spriteset_ed79_red;
	10: spriteset_ed79_singlearm;
	11: spriteset_ed79_jrf;
	12: spriteset_ed79_cc;
	switch_ed75_yeardep_livery;
}

switch(FEAT_TRAINS, SELF, switch_ed79_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_OLDRED);
	2: return string(STR_REFIT_ED75_GOLD);
	3: return string(STR_REFIT_RED);
	4: return string(STR_REFIT_ED75_M1);
	5: return string(STR_REFIT_RAINBOW);
	6: return string(STR_REFIT_ED75_M2);
	7: return string(STR_REFIT_ED75_M3);
	8: return string(STR_REFIT_CC);
	9: return string(STR_REFIT_ED79_RED);
	10: return string(STR_REFIT_ED79_SINGLEARM);
	11: return string(STR_REFIT_ED79_JRF);
	12: return string(STR_REFIT_ED79_CC);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_ed75_speed, cargo_subtype) {
	9..12: return 110;

	return 100;
}


switch(FEAT_TRAINS, SELF, switch_ed75_yeardep_refit, current_year) {
	0..1985: switch_ed75_livery;
	switch_ed79_livery;
}

switch(FEAT_TRAINS, SELF, switch_ed75_yeardep_subtype_text, current_year) {
	0..1985: switch_ed75_subtype_text;
	switch_ed79_subtype_text;
}





item (FEAT_TRAINS, ed75, 1070) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_ED75);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1963,1,1);
  speed: 100 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.26;
  power: 1900 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1; 
  cargo_allow_refit: [PASS];
  weight: 68;
  reliability_decay: 55;
  model_life: 45;
  vehicle_life: 45;
  cost_factor: 30;
  length: 6;
  running_cost_factor: 48;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
  additional_text:	string(STR_TEXT_JNR_ED75);
  speed: switch_ed75_speed;
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ed75_yeardep_subtype_text;
  default: switch_ed75_yeardep_refit;
  purchase: switch_ed75_yeardep_purchase;
  }
}
spriteset(spriteset_ed76_old_red, "gfx/ed76.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed76_twotone_blue, "gfx/ed76.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed76_southerncross, "gfx/ed76.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ed76_0_refurbished, "gfx/ed76.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ed76_1000_refurbished, "gfx/ed76.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ed76_500, "gfx/ed76.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ed76_550, "gfx/ed76.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ed76_cc, "gfx/ed76.png") {
	template_2cc_std(1, 224)
}


spriteset(spriteset_ed76_jnr_purchase, "gfx/ed76.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ed76_jrf_purchase, "gfx/ed76.png") {
	template_purchase(1, 288)
}


switch(FEAT_TRAINS, SELF, switch_ed76_yeardep_livery, build_year) {
	0..1987: spriteset_ed76_old_red;
    spriteset_ed76_1000_refurbished;
}


switch(FEAT_TRAINS, SELF, switch_ed76_livery, cargo_subtype) {
	1: spriteset_ed76_old_red;
	2: spriteset_ed76_twotone_blue;
	3: spriteset_ed76_southerncross;
	4: spriteset_ed76_0_refurbished;
	5: spriteset_ed76_1000_refurbished;
	6: spriteset_ed76_500;
	7: spriteset_ed76_550;
	8: spriteset_ed76_cc;
	switch_ed76_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_ed76_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_RED);
	2: return string(STR_REFIT_JRF_2TONE);
	3: return string(STR_REFIT_SOUTHERNCROSS);
	4: return string(STR_REFIT_JRF_REFIT);
	5: return string(STR_REFIT_ED76_1000);
	6: return string(STR_REFIT_ED76_500);
	7: return string(STR_REFIT_ED76_550);
	8: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ed76_yeardep_purchase, current_year) {
	0..1987: spriteset_ed76_jnr_purchase;
    spriteset_ed76_jrf_purchase;
}


item (FEAT_TRAINS, ed76, 1071) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_ED76);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1965,1,1);
  speed: 100 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1900 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 87;
  reliability_decay: 85;
  model_life: 45;
  vehicle_life: 40;
  cost_factor: 54;
  length: 8;
  running_cost_factor: 84;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ed76_subtype_text;
  default: switch_ed76_livery;
  purchase: switch_ed76_yeardep_purchase;
  }
}
spriteset(spriteset_ed500_jrf, "gfx/ed500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ed500_cc, "gfx/ed500.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ed500_purchase, "gfx/ed500.png") {
	template_purchase(1, 96)
}


switch(FEAT_TRAINS, SELF, switch_ed500_livery, cargo_subtype) {
	1: spriteset_ed500_cc;
	spriteset_ed500_jrf;
}

switch(FEAT_TRAINS, SELF, switch_ed500_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_EXP);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
}


item (FEAT_TRAINS, ed500, 1090) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JR_ED500);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1992,1,1);
  speed: 120 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.27;
  power: 4000 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 67;
  reliability_decay: 90;
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 25;
  cost_factor: 44;
  length: 8;
  running_cost_factor: 49;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  default: switch_ed500_livery;
  cargo_subtype_text: switch_ed500_subtype_text;
  purchase: spriteset_ed500_purchase;
  }
}
spriteset(spriteset_ef30_silver, "gfx/ef30.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef30_stripe, "gfx/ef30.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef30_cc, "gfx/ef30.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef30_purchase, "gfx/ef30.png") {
	template_purchase(1, 128)
}

switch(FEAT_TRAINS, SELF, switch_ef30_livery, cargo_subtype) {
	1: spriteset_ef30_stripe;
	2: spriteset_ef30_cc;
	spriteset_ef30_silver;
}


switch(FEAT_TRAINS, SELF, switch_ef30_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_STAINLESS);
	1: return string(STR_REFIT_EF30_STRIPE);
	2: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, ef30, 1015) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF30);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1960,1,1);
  speed: 85 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1800 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 96;
  reliability_decay: 85;
  model_life: 40;
  vehicle_life: 30;
  cost_factor: 32;
  length: 7;
  running_cost_factor: 45;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef30_subtype_text;
  default: switch_ef30_livery;
  purchase: spriteset_ef30_purchase;
  }
}
spriteset(spriteset_ef70_old_red, "gfx/ef70.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef70_new_red, "gfx/ef70.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef70_express, "gfx/ef70.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef70_cc, "gfx/ef70.png") {
	template_2cc_std(1, 96)
}



spriteset(spriteset_ef70_purchase, "gfx/ef70.png") {
	template_purchase(1, 128)
}



switch(FEAT_TRAINS, SELF, switch_ef70_yeardep_livery, build_year) {
	0..1964: spriteset_ef70_old_red;
    spriteset_ef70_new_red;
}

//maybe add switch to make tokkyu livery if pax are attached (also ef65)

switch(FEAT_TRAINS, SELF, switch_ef70_livery, cargo_subtype) {
	1: spriteset_ef70_old_red;
	2: spriteset_ef70_new_red;
	3: spriteset_ef70_express; 
	4: spriteset_ef70_cc;
	switch_ef70_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_ef70_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_RED_OLD);
	2: return string(STR_REFIT_RED_NEW);
	3: return string(STR_REFIT_JNR_CREAM);
	4: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, ef70, 1045) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF70);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1961,1,1);
  speed: 105 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 2300 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 96;
  reliability_decay: 85;
  model_life: 40;
  vehicle_life: 40;
  cost_factor: 56;
  length: 7;
  running_cost_factor: 88;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef70_subtype_text;
  default: switch_ef70_livery;
  purchase: spriteset_ef70_purchase;
  }
}
spriteset(spriteset_ef80_old_red, "gfx/ef80.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef80_new_red, "gfx/ef80.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef80_cc, "gfx/ef80.png") {
	template_2cc_std(1, 64)
}



spriteset(spriteset_ef80_purchase, "gfx/ef80.png") {
	template_purchase(1, 128)
}



switch(FEAT_TRAINS, SELF, switch_ef80_yeardep_livery, build_year) {
	0..1980: spriteset_ef80_old_red;
    spriteset_ef80_new_red;
}

//maybe add switch to make tokkyu livery if pax are attached (also ef65)

switch(FEAT_TRAINS, SELF, switch_ef80_livery, cargo_subtype) {
	1: spriteset_ef80_old_red;
	2: spriteset_ef80_new_red;
	3: spriteset_ef80_cc;
	switch_ef80_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_ef80_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_PINK);
	2: return string(STR_REFIT_RED);
	3: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, ef80, 1080) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JNR_EF80);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1962,1,1);
  speed: 110 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 1950 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 96;
  reliability_decay: 85;
  model_life: 40;
  vehicle_life: 40;
  cost_factor: 52;
  length: 7;
  running_cost_factor: 85;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef80_subtype_text;
  default: switch_ef80_livery;
  purchase: spriteset_ef80_purchase;
  }
}
spriteset(spriteset_ef81_red, "gfx/ef81a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef81_stainless, "gfx/ef81a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef81_stainless_whiskers, "gfx/ef81a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef81_twilight, "gfx/ef81a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef81_cassiopeia, "gfx/ef81a.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef81_jrf, "gfx/ef81a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef81_jrf_stripe, "gfx/ef81a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ef81_jrf_450, "gfx/ef81a.png") {
	template_2cc_std(1, 224)
}


spriteset(spriteset_ef81_cc, "gfx/ef81b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef81_jrf_red, "gfx/ef81b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef81_oldred_stripe, "gfx/ef81b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef81_oldred, "gfx/ef81b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef81_rainbow, "gfx/ef81b.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef81_jrf_2tone, "gfx/ef81b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef81_hokutosei, "gfx/ef81b.png") {
	template_2cc_std(1, 192)
}


spriteset(spriteset_ef81_purchase, "gfx/ef81a.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ef81_jrf_purchase, "gfx/ef81a.png") {
	template_purchase(1, 288)
}

//liveryt variants

random_switch(FEAT_TRAINS, SELF, switch_ef81_stainless_livery) {
	1: spriteset_ef81_stainless;
    1: spriteset_ef81_stainless_whiskers;
}

random_switch(FEAT_TRAINS, SELF, switch_ef81_jrf_livery) {
	1: spriteset_ef81_jrf;
    1: spriteset_ef81_jrf_stripe;
}

//year variants

random_switch(FEAT_TRAINS, SELF, switch_ef81_70s_livery) {
	3: spriteset_ef81_oldred;
    1: spriteset_ef81_stainless;
}

random_switch(FEAT_TRAINS, SELF, switch_ef81_90s_livery) {
	3: switch_ef81_jrf_livery;
    1: spriteset_ef81_stainless;
	1: spriteset_ef81_oldred_stripe;
}

random_switch(FEAT_TRAINS, SELF, switch_ef81_00s_livery) {
	3: switch_ef81_jrf_livery;
    1: spriteset_ef81_red;
}


switch(FEAT_TRAINS, SELF, switch_ef81_yeardep_livery, build_year) {
	1000..1986: switch_ef81_70s_livery;
	1986..1999: switch_ef81_90s_livery;
	1999..9999: switch_ef81_00s_livery;
    CB_FAILED;
}


switch(FEAT_TRAINS, SELF, switch_ef81_livery, cargo_subtype) {

	1: spriteset_ef81_oldred;
	2: spriteset_ef81_oldred_stripe;
	3: switch_ef81_stainless_livery;
	4: spriteset_ef81_red;
	5: switch_ef81_jrf_livery;
	6: spriteset_ef81_jrf_450;
	7: spriteset_ef81_jrf_2tone;
	8: spriteset_ef81_jrf_red;
	9: spriteset_ef81_twilight;
	10: spriteset_ef81_cassiopeia;
	11: spriteset_ef81_rainbow;
	12: spriteset_ef81_hokutosei;
	13: spriteset_ef81_cc;
	
	switch_ef81_yeardep_livery;
	}
	
switch(FEAT_TRAINS, SELF, switch_ef81_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_OLDRED);
	2: return string(STR_REFIT_OLDSTRIPE);
	3: return string(STR_REFIT_STAINLESS);
	4: return string(STR_REFIT_RED);
	5: return string(STR_REFIT_JRF_BLUE);
	6: return string(STR_REFIT_EF81_450);
	7: return string(STR_REFIT_JRF_2TONE);
	8: return string(STR_REFIT_JRF_RED);	
	9: return string(STR_REFIT_TWILIGHT);	
	10: return string(STR_REFIT_CASSIOPEIA);	
	11: return string(STR_REFIT_RAINBOW);
	12: return string(STR_REFIT_HOKBLUE);
	13: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ef81_yeardep_purchase, current_year) {
	1990..9999: spriteset_ef81_jrf_purchase;
    spriteset_ef81_purchase;
}



item (FEAT_TRAINS, ef81, 55) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

//	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_JNR_EF66);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef81_subtype_text;
  default: switch_ef81_livery;
  purchase: switch_ef81_yeardep_purchase;
  }
}
spriteset(spriteset_ef500_jrf, "gfx/ef500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef500_cc, "gfx/ef500.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef500_purchase, "gfx/ef500.png") {
	template_purchase(1, 96)
}

switch(FEAT_TRAINS, SELF, switch_ef500_livery, cargo_subtype) {
	1: spriteset_ef500_cc;
	spriteset_ef500_jrf;
}

switch(FEAT_TRAINS, SELF, switch_ef500_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_EXP);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
}


item (FEAT_TRAINS, ef500, 1085) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JR_EF500);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1990,1,1);
  speed: 120 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.28;
  power: 6000 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 100;
  reliability_decay: 90;
  model_life: VEHICLE_NEVER_EXPIRES;
  vehicle_life: 25;
  cost_factor: 78;
  length: 8;
  running_cost_factor: 80;
  running_cost_base: RUNNING_COST_STEAM;
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  default: switch_ef500_livery;
  cargo_subtype_text: switch_ef500_subtype_text;
  purchase: spriteset_ef500_purchase;
  }
}
spriteset(spriteset_ef510_prototype, "gfx/ef510.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ef510_jrf_red, "gfx/ef510.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ef510_cassiopeia, "gfx/ef510.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ef510_hokutosei, "gfx/ef510.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ef510_silver, "gfx/ef510.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_ef510_blue, "gfx/ef510.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ef510_red_thunder, "gfx/ef510.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ef510_300, "gfx/ef510.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_ef510_cc, "gfx/ef510.png") {
	template_2cc_std(1, 256)
}



spriteset(spriteset_ef510_jrf_purchase, "gfx/ef510.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_ef510_jr_purchase, "gfx/ef510.png") {
	template_purchase(89, 288)
}



switch(FEAT_TRAINS, SELF, switch_ef510_yeardep_livery, build_year) {
	0..2004: spriteset_ef510_prototype;
	2019..9999: spriteset_ef510_red_thunder;
    spriteset_ef510_jrf_red;
}

switch(FEAT_TRAINS, SELF, switch_ef510_livery, cargo_subtype) {
	1: spriteset_ef510_prototype;
	2: spriteset_ef510_jrf_red;
	3: spriteset_ef510_cassiopeia;	
	4: spriteset_ef510_hokutosei;
	5: spriteset_ef510_silver;
	6: spriteset_ef510_blue;
	7: spriteset_ef510_red_thunder;	
	8: spriteset_ef510_300;
	9: spriteset_ef510_cc;
	switch_ef510_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_ef510_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_PROTOTYPE);
	2: return string(STR_REFIT_JRF_RED);
	3: return string(STR_REFIT_CASSIOPEIA);
	4: return string(STR_REFIT_HOKUTOSEI);
	5: return string(STR_REFIT_SILVER);
	6: return string(STR_REFIT_JRF_BLUE);
	7: return string(STR_REFIT_EF510_RED);
	8: return string(STR_REFIT_EF510_300);
	9: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ef510_purchase, current_year) {
	2018..9999: spriteset_ef510_jr_purchase;
	spriteset_ef510_jrf_purchase;
	}



item (FEAT_TRAINS, jr_ef510, 105) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  additional_text:	string(STR_DESC_EF510);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_ef510_subtype_text;
  default: switch_ef510_livery;
  purchase: switch_ef510_purchase;
  }
}
spriteset(spriteset_eh500_prototype_front, "gfx/eh500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_eh500_prototype_rear, "gfx/eh500.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_eh500_1_front, "gfx/eh500.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_eh500_1_rear, "gfx/eh500.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_eh500_2_front, "gfx/eh500.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_eh500_2_rear, "gfx/eh500.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_eh500_3_front, "gfx/eh500.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_eh500_3_rear, "gfx/eh500.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_eh500_4_front, "gfx/eh500.png") {
	template_2cc_std(180, 192)
}

spriteset(spriteset_eh500_4_rear, "gfx/eh500.png") {
	template_2cc_std(180, 224)
}

spriteset(spriteset_eh500_cc_front, "gfx/eh500.png") {
	template_2cc_std(180, 1)
}

spriteset(spriteset_eh500_cc_rear, "gfx/eh500.png") {
	template_2cc_std(180, 32)
}

spriteset(spriteset_eh500_cc_prototype_front, "gfx/eh500.png") {
	template_2cc_std(180, 64)
}

spriteset(spriteset_eh500_cc_prototype_rear, "gfx/eh500.png") {
	template_2cc_std(180, 96)
}


spriteset(spriteset_eh500_1_purchase, "gfx/eh500.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_eh500_2_purchase, "gfx/eh500.png") {
	template_purchase(89, 256)
}

spriteset(spriteset_eh500_3_purchase, "gfx/eh500.png") {
	template_purchase(180, 256)
}


switch(FEAT_TRAINS, SELF, switch_eh500_front_yeardep, build_year) {
	0..2000: spriteset_eh500_prototype_front;
	2000..2001: spriteset_eh500_1_front;
	2018..9999: spriteset_eh500_4_front;
	spriteset_eh500_3_front;
}

switch(FEAT_TRAINS, SELF, switch_eh500_rear_yeardep, build_year) {
	0..2000: spriteset_eh500_prototype_rear;
	2000..2001: spriteset_eh500_1_rear;
	2018..9999: spriteset_eh500_4_rear;
	spriteset_eh500_3_rear;
}



switch(FEAT_TRAINS, SELF, switch_eh500_front_livery, cargo_subtype) {
	1: spriteset_eh500_prototype_front;
	2: spriteset_eh500_1_front;
	3: spriteset_eh500_2_front;
	4: spriteset_eh500_3_front; 
	5: spriteset_eh500_4_front; 
	6: spriteset_eh500_cc_prototype_front;
	7: spriteset_eh500_cc_front;
	switch_eh500_front_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_eh500_rear_livery, cargo_subtype) {
	1: spriteset_eh500_prototype_rear;
	2: spriteset_eh500_1_rear;
	3: spriteset_eh500_2_rear;
	4: spriteset_eh500_3_rear; 
	5: spriteset_eh500_4_rear; 
	6: spriteset_eh500_cc_prototype_rear;
	7: spriteset_eh500_cc_rear;
	switch_eh500_rear_yeardep;
}




switch(FEAT_TRAINS, SELF, switch_eh500_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_PROTOTYPE);
	2: return string(STR_REFIT_EH500_1);
	3: return string(STR_REFIT_EH500_2);
	4: return string(STR_REFIT_EH500_3);
	5: return string(STR_REFIT_EH500_4);
	6: return string(STR_REFIT_CC_PROTOTYPE);
	7: return string(STR_REFIT_CC); 
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_eh500_purchase, current_year) {
	0..2001: spriteset_eh500_1_purchase;
	2018..9999: spriteset_eh500_3_purchase;
	spriteset_eh500_2_purchase;
	}



/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_eh500_articulated_part, extra_callback_info1) {
	1: return eh500_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


item (FEAT_TRAINS, eh500, 67) {

property {

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];
	length: 6;
	misc_flags: bitmask(TRAIN_FLAG_2CC);
	}


  graphics { // graphics for engine
  additional_text: string(STR_DESC_EH500);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_eh500_subtype_text;
  default: switch_eh500_front_livery;
  purchase: switch_eh500_purchase;
  articulated_part: switch_eh500_articulated_part;
  }
}


item (FEAT_TRAINS, eh500_rear, 1067) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
//		name: string(STR_NAME_JNR_eh500);
		climates_available: NO_CLIMATE;
		introduction_date: date(1950,1,1);
		cargo_capacity: 1; 
		cargo_allow_refit: [PASS];
		length: 6;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_eh500_rear_livery;
	}
}
spriteset(spriteset_eh800_red_front, "gfx/eh800.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_eh800_red_rear, "gfx/eh800.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_eh800_cc_front, "gfx/eh800.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_eh800_cc_rear, "gfx/eh800.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_eh800_jrf_purchase, "gfx/eh800.png") {
	template_purchase(1, 128)
}

spriteset(spriteset_eh800_jr_purchase, "gfx/eh800.png") {
	template_purchase(89, 128)
}



switch(FEAT_TRAINS, SELF, switch_eh800_livery, cargo_subtype) {
	1: spriteset_eh800_cc_front;
	spriteset_eh800_red_front;
}

switch(FEAT_TRAINS, SELF, switch_eh800_livery_rear, cargo_subtype) {
	1: spriteset_eh800_cc_rear;
	spriteset_eh800_red_rear;
}


switch(FEAT_TRAINS, SELF, switch_eh800_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JRF_RED);
	1: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_eh800_articulated_part, extra_callback_info1) {
	1: return eh800_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


switch(FEAT_TRAINS, SELF, switch_eh800_purchase, current_year) {
	2018..9999: spriteset_eh800_jr_purchase;
	spriteset_eh800_jrf_purchase;
	}
	

item (FEAT_TRAINS, eh800, 1095) {

property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NABE;
  name: string(STR_NAME_JR_EH800);
  climates_available: ALL_CLIMATES;
  introduction_date: date(2012,1,1);
  speed: 140 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 4000 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_ELECTRIC;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 134;
  reliability_decay: 85;
  model_life: 40;
  vehicle_life: 60;
  cost_factor: 100;
  length: 6;
  running_cost_factor: 66;
  running_cost_base: RUNNING_COST_STEAM;
	}


  graphics { // graphics for engine
  additional_text: string(STR_DESC_EH800);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_eh800_subtype_text;
  default: switch_eh800_livery;
  purchase: switch_eh800_purchase;
  articulated_part: switch_eh800_articulated_part;
  }
}


item (FEAT_TRAINS, eh800_rear, 1096) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
//		name: string(STR_NAME_JNR_eh800);
		climates_available: NO_CLIMATE;
		introduction_date: date(1950,1,1);
		cargo_capacity: 1; 
		cargo_allow_refit: [PASS];
		length: 6;
		visual_effect_and_powered: (VISUAL_EFFECT_ELECTRIC);
		misc_flags: bitmask(TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_eh800_livery_rear;
	}
}

spriteset(spriteset_dd13_jnr_red, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_dd13_jnr_brown_white, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_dd13_jnr_brown_yellow, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_dd13_asahikawa, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_dd13_akita_rinkai, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_dd13_tomakomai, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_dd13_nagoya_rinkai, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_dd13_kosaka, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_dd13_kamioka, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_dd13_kashima, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_dd13_cc, "gfx/diesel/dd13.png") {
	template_2cc_std(1, 320)
}


spriteset(spriteset_dd13_brown_purchase, "gfx/diesel/dd13.png") {
	template_purchase(1, 352)
}

spriteset(spriteset_dd13_red_purchase, "gfx/diesel/dd13.png") {
	template_purchase(89, 352)
}


switch(FEAT_TRAINS, SELF, switch_dd13_yeardep_livery, build_year) {
	0..1965: spriteset_dd13_jnr_brown_yellow;
    spriteset_dd13_jnr_red;
}


switch(FEAT_TRAINS, SELF, switch_dd13_livery, cargo_subtype) {
	1: spriteset_dd13_jnr_red;
	2: spriteset_dd13_jnr_brown_white;
	3: spriteset_dd13_jnr_brown_yellow;
	4: spriteset_dd13_asahikawa;
	5: spriteset_dd13_akita_rinkai;
	6: spriteset_dd13_tomakomai;
	7: spriteset_dd13_nagoya_rinkai;
	8: spriteset_dd13_kosaka;
	9: spriteset_dd13_kamioka;
	10: spriteset_dd13_kashima;
	11: spriteset_ed76_cc;
	switch_dd13_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_dd13_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_RED);
	2: return string(STR_REFIT_JNR_BROWN);
	3: return string(STR_REFIT_JNR_YELLOW);
	4: return string(STR_REFIT_ASAHIKAWA);
	5: return string(STR_REFIT_AKITA_RINKAI);
	6: return string(STR_REFIT_TOMAKOMAI);
	7: return string(STR_REFIT_NAGOYA_RINKAI);
	8: return string(STR_REFIT_KOSAKA);
	9: return string(STR_REFIT_KAMIOKA);
	10: return string(STR_REFIT_KASHIMA);
	11: return string(STR_REFIT_CC);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_dd13_yeardep_purchase, current_year) {
	0..1965: spriteset_dd13_brown_purchase;
    spriteset_dd13_red_purchase;
}


item (FEAT_TRAINS, dd13, 1207) {
 property {
  sprite_id: SPRITE_ID_NEW_TRAIN;
  track_type: NAAN;
  name: string(STR_NAME_JNR_DD13);
  climates_available: ALL_CLIMATES;
  introduction_date: date(1958,1,1);
  speed: 70 km/h;
  air_drag_coefficient: 0;
  tractive_effort_coefficient:    0.25;
  power: 735 kW;
  dual_headed: 0;
  engine_class: ENGINE_CLASS_DIESEL;
  cargo_capacity: 1;
  cargo_allow_refit: [PASS];
  weight: 56;
  reliability_decay: 85;
  model_life: 40;
  vehicle_life: 55;
  cost_factor: 2;
  length: 5;
  running_cost_factor: 84;
  running_cost_base: RUNNING_COST_STEAM;
  misc_flags: bitmask(TRAIN_FLAG_2CC);
  }
  graphics { // graphics for engine
//  additional_text:	string(STR_TEXT_DEKI_400);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_dd13_subtype_text;
  default: switch_dd13_livery;
  purchase: switch_dd13_yeardep_purchase;
  }
}
spriteset(spriteset_dd51_brown, "gfx/dd51.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_dd51_red, "gfx/dd51.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_dd51_hokkaido_blue, "gfx/dd51.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_dd51_hokkaido_red, "gfx/dd51.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_dd51_freight_blue, "gfx/dd51.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_dd51_freight_red, "gfx/dd51.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_dd51_euroliner, "gfx/dd51.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_dd51_testred, "gfx/dd51.png") {
	template_2cc_std(180, 1)
}

spriteset(spriteset_dd51_testwhite, "gfx/dd51.png") {
	template_2cc_std(180, 32)
}

spriteset(spriteset_dd51_testblue, "gfx/dd51.png") {
	template_2cc_std(180, 64)
}

spriteset(spriteset_dd51_cc, "gfx/dd51.png") {
	template_2cc_std(1, 224)
}




spriteset(spriteset_dd51_brown_purchase, "gfx/dd51.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_dd51_red_purchase, "gfx/dd51.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_dd51_jrf_purchase, "gfx/dd51.png") {
	template_purchase(1, 320)
}



switch(FEAT_TRAINS, SELF, switch_dd51_yeardep_livery, build_year) {
	1000..1965: spriteset_dd51_brown;
	1965..1999: spriteset_dd51_red;
	1999..9999: spriteset_dd51_freight_red;
    CB_FAILED;
}

switch(FEAT_TRAINS, SELF, switch_dd51_livery, cargo_subtype) {
	1: spriteset_dd51_brown;
	2: spriteset_dd51_red;
	3: spriteset_dd51_hokkaido_blue;
	4: spriteset_dd51_hokkaido_red;
	5: spriteset_dd51_freight_blue;
	6: spriteset_dd51_freight_red;
	7: spriteset_dd51_euroliner;
	8: spriteset_dd51_testred;
	9: spriteset_dd51_testwhite;
	10: spriteset_dd51_testblue;
	11: spriteset_dd51_cc;	
	switch_dd51_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_dd51_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JNR_BROWN);
	2: return string(STR_REFIT_RED);
	3: return string(STR_REFIT_HOKBLUE);
	4: return string(STR_REFIT_HOKRED);
	5: return string(STR_REFIT_JRF_BLUE);
	6: return string(STR_REFIT_JRF_RED);
	7: return string(STR_REFIT_EUROLINER);
	8: return string(STR_REFIT_DD51_EXP1);
	9: return string(STR_REFIT_DD51_EXP2);
	10: return string(STR_REFIT_DD51_EXP3);
	11: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_dd51_yeardep_purchase, current_year) {
	0..1965: spriteset_dd51_brown_purchase;
    1990..9999: spriteset_dd51_jrf_purchase;
	spriteset_dd51_red_purchase;
}



item (FEAT_TRAINS, dd51, 20) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC);
	
	running_cost_factor: 115;
	}


  graphics { // graphics for engine
  additional_text:	string(STR_TEXT_JNR_DD51);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_dd51_subtype_text;
  default: switch_dd51_livery;
  purchase: switch_dd51_yeardep_purchase;
  }
}
spriteset(spriteset_de10_red, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_de10_jrf_red, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_de10_jrf_thick, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_de10_jrf_blue, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_de10_jnr_brown, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_de10_jrf_pink, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_de10_jrf_yellow, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_de10_island_express, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_de10_kinokuni, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_de10_kyushu_red, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_de10_kyushu_yellow, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_de10_hokutosei, "gfx/diesel/de10_a.png") {
	template_2cc_std(1, 352)
}

//B
spriteset(spriteset_de10_cc, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_de10_watarase, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_de10_norokko, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_de10_jnr_cream, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_de10_southerncross, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_de10_hokkaido_het, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_de10_okuizumo, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_de10_nostalgicview, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_de10_sagano, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_de10_hokkaido_black, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_de10_kansai_blue, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_de10_kansai_brown, "gfx/diesel/de10_b.png") {
	template_2cc_std(1, 352)
}



//Spriteset de10 flipped
spriteset(spriteset_de10_flip_red, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 1)
}

spriteset(spriteset_de10_flip_jrf_red, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 32)
}

spriteset(spriteset_de10_flip_jrf_thick, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 64)
}

spriteset(spriteset_de10_flip_jrf_blue, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 96)
}

spriteset(spriteset_de10_flip_jnr_brown, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 128)
}

spriteset(spriteset_de10_flip_jrf_pink, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 160)
}

spriteset(spriteset_de10_flip_jrf_yellow, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 192)
}

spriteset(spriteset_de10_flip_island_express, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 224)
}

spriteset(spriteset_de10_flip_kinokuni, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 256)
}

spriteset(spriteset_de10_flip_kyushu_red, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 288)
}

spriteset(spriteset_de10_flip_kyushu_yellow, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 320)
}

spriteset(spriteset_de10_flip_hokutosei, "gfx/diesel/de10_a.png") {
	template_2cc_flip(180, 352)
}

//B
spriteset(spriteset_de10_flip_cc, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 1)
}

spriteset(spriteset_de10_flip_watarase, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 32)
}

spriteset(spriteset_de10_flip_norokko, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 64)
}

spriteset(spriteset_de10_flip_jnr_cream, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 96)
}

spriteset(spriteset_de10_flip_southerncross, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 128)
}

spriteset(spriteset_de10_flip_hokkaido_het, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 160)
}

spriteset(spriteset_de10_flip_okuizumo, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 192)
}

spriteset(spriteset_de10_flip_nostalgicview, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 224)
}

spriteset(spriteset_de10_flip_sagano, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 256)
}

spriteset(spriteset_de10_flip_hokkaido_black, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 288)
}

spriteset(spriteset_de10_flip_kansai_blue, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 320)
}

spriteset(spriteset_de10_flip_kansai_brown, "gfx/diesel/de10_b.png") {
	template_2cc_flip(180, 352)
}


//purchase

spriteset(spriteset_de10_red_purchase, "gfx/diesel/de10_a.png") {
	template_purchase(1, 384)
}

spriteset(spriteset_de10_jrf_purchase, "gfx/diesel/de10_a.png") {
	template_purchase(89, 384)
}



//flip switches
switch(FEAT_TRAINS, SELF, switch_de10_flip_red, vehicle_is_flipped) {
	0: spriteset_de10_red;
	1: spriteset_de10_flip_red;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_jrf_red, vehicle_is_flipped) {
	0: spriteset_de10_jrf_red;
	1: spriteset_de10_flip_jrf_red;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_jrf_thick, vehicle_is_flipped) {
	0: spriteset_de10_jrf_thick;
	1: spriteset_de10_flip_jrf_thick;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_jrf_blue, vehicle_is_flipped) {
	0: spriteset_de10_jrf_blue;
	1: spriteset_de10_flip_jrf_blue;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_jnr_brown, vehicle_is_flipped) {
	0: spriteset_de10_jnr_brown;
	1: spriteset_de10_flip_jnr_brown;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_jrf_pink, vehicle_is_flipped) {
	0: spriteset_de10_jrf_pink;
	1: spriteset_de10_flip_jrf_pink;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_jrf_yellow, vehicle_is_flipped) {
	0: spriteset_de10_jrf_yellow;
	1: spriteset_de10_flip_jrf_yellow;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_island_express, vehicle_is_flipped) {
	0: spriteset_de10_island_express;
	1: spriteset_de10_flip_island_express;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_kinokuni, vehicle_is_flipped) {
	0: spriteset_de10_kinokuni;
	1: spriteset_de10_flip_kinokuni;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_kyushu_red, vehicle_is_flipped) {
	0: spriteset_de10_kyushu_red;
	1: spriteset_de10_flip_kyushu_red;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_kyushu_yellow, vehicle_is_flipped) {
	0: spriteset_de10_kyushu_yellow;
	1: spriteset_de10_flip_kyushu_yellow;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_hokutosei, vehicle_is_flipped) {
	0: spriteset_de10_hokutosei;
	1: spriteset_de10_flip_hokutosei;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_cc, vehicle_is_flipped) {
	0: spriteset_de10_cc;
	1: spriteset_de10_flip_cc;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_watarase, vehicle_is_flipped) {
	0: spriteset_de10_watarase;
	1: spriteset_de10_flip_watarase;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_norokko, vehicle_is_flipped) {
	0: spriteset_de10_norokko;
	1: spriteset_de10_flip_norokko;
}
switch(FEAT_TRAINS, SELF, switch_de10_flip_jnr_cream, vehicle_is_flipped) {
	0: spriteset_de10_jnr_cream;
	1: spriteset_de10_flip_jnr_cream;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_southerncross, vehicle_is_flipped) {
	0: spriteset_de10_southerncross;
	1: spriteset_de10_flip_southerncross;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_hokkaido_het, vehicle_is_flipped) {
	0: spriteset_de10_hokkaido_het;
	1: spriteset_de10_flip_hokkaido_het;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_okuizumo, vehicle_is_flipped) {
	0: spriteset_de10_okuizumo;
	1: spriteset_de10_flip_okuizumo;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_nostalgicview, vehicle_is_flipped) {
	0: spriteset_de10_nostalgicview;
	1: spriteset_de10_flip_nostalgicview;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_sagano, vehicle_is_flipped) {
	0: spriteset_de10_sagano;
	1: spriteset_de10_flip_sagano;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_hokkaido_black, vehicle_is_flipped) {
	0: spriteset_de10_hokkaido_black;
	1: spriteset_de10_flip_hokkaido_black;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_kansai_blue, vehicle_is_flipped) {
	0: spriteset_de10_kansai_blue;
	1: spriteset_de10_flip_kansai_blue;
}

switch(FEAT_TRAINS, SELF, switch_de10_flip_kansai_brown, vehicle_is_flipped) {
	0: spriteset_de10_kansai_brown;
	1: spriteset_de10_flip_kansai_brown;
}





switch(FEAT_TRAINS, SELF, switch_de10_yeardep_livery, build_year) {
	0..1967: switch_de10_flip_jnr_brown;
	1988..1999: switch_de10_flip_jrf_blue;
	1999..9999: switch_de10_flip_jrf_red;
    switch_de10_flip_red;
}

switch(FEAT_TRAINS, SELF, switch_de10_livery, cargo_subtype) {
	1: switch_de10_flip_red;
	2: switch_de10_flip_jrf_blue;
	3: switch_de10_flip_jrf_red;
	4: switch_de10_flip_jrf_thick;
	5: switch_de10_flip_jrf_pink;
	6: switch_de10_flip_jrf_yellow;
	7: switch_de10_flip_jnr_brown;
	8: switch_de10_flip_jnr_cream;
	9: switch_de10_flip_kyushu_red;
	10: switch_de10_flip_kyushu_yellow;
	11: switch_de10_flip_hokkaido_black;
	12: switch_de10_flip_hokkaido_het;
	13: switch_de10_flip_hokutosei;
	14: switch_de10_flip_southerncross;
	15: switch_de10_flip_norokko;
	16: switch_de10_flip_island_express;
	17: switch_de10_flip_nostalgicview;
	18: switch_de10_flip_okuizumo;
	19: switch_de10_flip_kinokuni;
	20: switch_de10_flip_sagano;
	21: switch_de10_flip_watarase;
	22: switch_de10_flip_kansai_brown;
	23: switch_de10_flip_kansai_blue;
	24: switch_de10_flip_cc;	
	switch_de10_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_de10_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_RED);
	2: return string(STR_REFIT_JRF_BLUE);
	3: return string(STR_REFIT_JRF_RED);
	4: return string(STR_REFIT_JRF_THICK);
	5: return string(STR_REFIT_JRF_PINK);
	6: return string(STR_REFIT_JRF_YELLOW);
	7: return string(STR_REFIT_JNR_BROWN);
	8: return string(STR_REFIT_JNR_CREAM);
	9: return string(STR_REFIT_KYUSHU_RED);
	10: return string(STR_REFIT_KYUSHU_YELLOW);
	11: return string(STR_REFIT_HOKKAIDO_BLACK);
	12: return string(STR_REFIT_HOKKAIDO_HET);
	13: return string(STR_REFIT_HOKUTOSEI);
	14: return string(STR_REFIT_SOUTHERNCROSS);
	15: return string(STR_REFIT_NOROKKO);
	16: return string(STR_REFIT_ISLANDEXPRESS);
	17: return string(STR_REFIT_NOSTALGICVIEW);
	18: return string(STR_REFIT_OKUIZUMO);
	19: return string(STR_REFIT_KINOKUNI);
	20: return string(STR_REFIT_SAGANO);
	21: return string(STR_REFIT_WATARASE);
	22: return string(STR_REFIT_KANSAI_BROWN);
	23: return string(STR_REFIT_KANSAI_BLUE);
	24: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}


switch (FEAT_TRAINS, SELF, switch_de10_purchase, current_year) {
	0..1999: spriteset_de10_red_purchase;
	spriteset_de10_jrf_purchase;
	}


item (FEAT_TRAINS, de10, 25) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_FLIP);
	
//	running_cost_factor: 115;
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_NAME_JNR_DE10);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_de10_subtype_text;
  default: switch_de10_livery;
  purchase: switch_de10_purchase;
  }
}
spriteset(spriteset_df50_red, "gfx/df50.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_df50_brown, "gfx/df50.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_df50_cc, "gfx/df50.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_df50_purchase, "gfx/df50.png") {
	template_purchase(1, 96)
}


switch(FEAT_TRAINS, SELF, switch_df50_yeardep_livery, build_year) {
	0..1965: spriteset_df50_brown;
	spriteset_df50_red;

}


switch(FEAT_TRAINS, SELF, switch_df50_livery, cargo_subtype) {
	1: spriteset_df50_brown;
	2: spriteset_df50_red;
	3: spriteset_df50_cc;	
	switch_df50_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_df50_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JNR_BROWN);
	2: return string(STR_REFIT_RED);
	3: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, df50, 71) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

//	misc_flags: bitmask(TRAIN_FLAG_2CC);	
//	running_cost_factor: 115;
	}


  graphics { // graphics for engine

  cargo_capacity: return 0;
  cargo_subtype_text: switch_df50_subtype_text;
  default: switch_df50_livery;
  purchase: spriteset_df50_purchase;
  }
}
spriteset(spriteset_df200_new, "gfx/df200.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_df200_old, "gfx/df200.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_df200_cc, "gfx/df200.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_df200_ss, "gfx/df200.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_df200_purchase, "gfx/df200.png") {
	template_purchase(1, 128)
}


switch(FEAT_TRAINS, SELF, switch_df200_yeardep_livery, build_year) {
	2002..9999: spriteset_df200_new;
	spriteset_df200_old;

}


switch(FEAT_TRAINS, SELF, switch_df200_livery, cargo_subtype) {
	1: spriteset_df200_old;
	2: spriteset_df200_new;
	3: spriteset_df200_ss;
	4: spriteset_df200_cc;
	switch_df200_yeardep_livery;
}



switch(FEAT_TRAINS, SELF, switch_df200_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JRF_RED);
	2: return string(STR_REFIT_DF200_NEW);
	3: return string(STR_REFIT_DF200_SS);
	4: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, df200, 63) {

property {
//	sprite_id: SPRITE_ID_NEW_TRAIN;
//	track_type: NAAN;
//	name: string(STR_NAME_OPEN_HOPPER);

	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_FLIP);
	
//	running_cost_factor: 115;
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_NAME_JNR_DE10);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_df200_subtype_text;
  default: switch_df200_livery;
  purchase: spriteset_df200_purchase;
  }
}
spriteset(spriteset_hd300_red, "gfx/hd300.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hd300_flip_red, "gfx/hd300.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_hd300_cc, "gfx/hd300.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_hd300_flip_cc, "gfx/hd300.png") {
	template_2cc_flip(1, 96)
}


spriteset(spriteset_hd300_red_purchase, "gfx/hd300.png") {
	template_purchase(1, 128)
}



//flip switches
switch(FEAT_TRAINS, SELF, switch_hd300_flip_red, vehicle_is_flipped) {
	0: spriteset_hd300_red;
	1: spriteset_hd300_flip_red;
}

switch(FEAT_TRAINS, SELF, switch_hd300_flip_cc, vehicle_is_flipped) {
	0: spriteset_hd300_cc;
	1: spriteset_hd300_flip_cc;
}





switch(FEAT_TRAINS, SELF, switch_hd300_livery, cargo_subtype) {
	1: switch_hd300_flip_cc;	
	switch_hd300_flip_red;
}



switch(FEAT_TRAINS, SELF, switch_hd300_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_JRF_RED);
	1: return string(STR_REFIT_CC);	
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, hd300, 111) {

property {
	cargo_capacity: 1; 
	cargo_allow_refit: [PASS];

	misc_flags: bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_FLIP);
	
//	running_cost_factor: 115;
	}


  graphics { // graphics for engine
//  additional_text:	string(STR_NAME_JNR_HD300);
  cargo_capacity: return 0;
  cargo_subtype_text: switch_hd300_subtype_text;
  default: switch_hd300_livery;
  purchase: spriteset_hd300_red_purchase;
  }
}


spriteset(spriteset_pax_1880_hcc_clerestory, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_1880_hcc_flat, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_1880_jgr_3rd_flat, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_pax_1880_jgr_3rd_clerestory, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_pax_1880_jgr_2nd_clerestory, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_pax_1880_jgr_1st_clerestory, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_pax_1880_jgr_3rdclass_end, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_pax_1880_brown_clerestory, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_pax_1880_brown_flat, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_pax_1880_hcc_combine, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_pax_1880_hcc_mail, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_pax_1880_brown_combine, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 352)
}

spriteset(spriteset_pax_1880_jgr_combine, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 384)
}

spriteset(spriteset_pax_1880_jgr_mail, "gfx/paxmail/paxmail-1880.png") {
	template_2cc_std(1, 416)
}


//purchase sprites
spriteset(spriteset_pax_1880_hcc_purchase, "gfx/paxmail/paxmail-1880.png") {
	template_purchase(1, 448)
}

spriteset(spriteset_mail_1880_hcc_purchase, "gfx/paxmail/paxmail-1880.png") {
	template_purchase(1, 480)
}

spriteset(spriteset_pax_1880_jgr_purchase, "gfx/paxmail/paxmail-1880.png") {
	template_purchase(89, 448)
}

spriteset(spriteset_mail_1880_jgr_purchase, "gfx/paxmail/paxmail-1880.png") {
	template_purchase(89, 480)
}

//purchase switches
switch(FEAT_TRAINS, SELF, switch_pax_1880_yeardep_purchase, current_year) {
	0..1906: spriteset_pax_1880_hcc_purchase;
	spriteset_pax_1880_jgr_purchase;
}

switch(FEAT_TRAINS, SELF, switch_mail_1880_yeardep_purchase, current_year) {
	0..1906: spriteset_mail_1880_hcc_purchase;
	spriteset_mail_1880_jgr_purchase;
}




//hcc auto formation
random_switch (FEAT_TRAINS, SELF, random_pax_1880_hcc_auto_middle) {
	1: spriteset_pax_1880_hcc_flat;
	2: spriteset_pax_1880_hcc_clerestory;
}

switch(FEAT_TRAINS, SELF, switch_pax_1880_hcc_auto_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_1880_hcc_combine;
	random_pax_1880_hcc_auto_middle;
	}
	
	
//brown auto formation
random_switch (FEAT_TRAINS, SELF, random_pax_1880_brown_auto_middle) {
	1: spriteset_pax_1880_brown_flat;
	1: spriteset_pax_1880_brown_clerestory;
}

switch(FEAT_TRAINS, SELF, switch_pax_1880_brown_auto_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_1880_brown_combine;
	random_pax_1880_brown_auto_middle;
	}
	
	
//jgr auto formation

random_switch (FEAT_TRAINS, SELF, random_pax_1880_jgr_auto_middle) {
	1: spriteset_pax_1880_jgr_3rd_clerestory;
	2: spriteset_pax_1880_jgr_3rd_flat;
	1: spriteset_pax_1880_jgr_2nd_clerestory;
}


	random_switch (FEAT_TRAINS, SELF, random_pax_1880_jgr_auto_end) {
	1: spriteset_pax_1880_jgr_3rdclass_end;
	2: spriteset_pax_1880_jgr_combine;
}

	random_switch (FEAT_TRAINS, SELF, random_pax_1880_jgr_auto_beginning) {
	1: spriteset_pax_1880_jgr_2nd_clerestory;
	1: spriteset_pax_1880_jgr_1st_clerestory;
}


switch(FEAT_TRAINS, SELF, switch_pax_1880_jgr_auto_end, position_in_vehid_chain_from_end) {
	0: random_pax_1880_jgr_auto_end;
	random_pax_1880_jgr_auto_middle;
	}

switch(FEAT_TRAINS, SELF, switch_pax_1880_jgr_auto_beginning, position_in_vehid_chain) {
	0: random_pax_1880_jgr_auto_beginning;
	switch_pax_1880_jgr_auto_end;
	}
	
random_switch (FEAT_TRAINS, SELF, random_pax_1880_jgr_clerestory_auto_middle) {
	3: spriteset_pax_1880_jgr_3rd_clerestory;
	1: spriteset_pax_1880_jgr_2nd_clerestory;
}
	
switch(FEAT_TRAINS, SELF, switch_pax_1880_jgr_clerestory_auto_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_1880_jgr_3rdclass_end;
	random_pax_1880_jgr_clerestory_auto_middle;
	}

switch(FEAT_TRAINS, SELF, switch_pax_1880_jgr_clerestory_auto_beginning, position_in_vehid_chain) {
	0: random_pax_1880_jgr_auto_beginning;
	switch_pax_1880_jgr_clerestory_auto_end;
	}






switch(FEAT_TRAINS, SELF, switch_pax_1880_yeardep, build_year) {
	0..1906: switch_pax_1880_hcc_auto_end;
	1906..1910: switch_pax_1880_jgr_auto_beginning;
	switch_pax_1880_jgr_clerestory_auto_beginning;
	}




switch(FEAT_TRAINS, SELF, switch_pax_1880_livery, cargo_subtype) {
	1: switch_pax_1880_hcc_auto_end;
	2: switch_pax_1880_jgr_auto_beginning;
	3: switch_pax_1880_brown_auto_end;
	4: spriteset_pax_1880_hcc_clerestory;
	5: spriteset_pax_1880_hcc_flat;
	6: spriteset_pax_1880_hcc_combine;
	7: spriteset_pax_1880_jgr_1st_clerestory;
	8: spriteset_pax_1880_jgr_2nd_clerestory;
	9: spriteset_pax_1880_jgr_3rd_clerestory;
	10: spriteset_pax_1880_jgr_3rd_flat;
	11: spriteset_pax_1880_jgr_combine;
	12: spriteset_pax_1880_brown_clerestory;
	13: spriteset_pax_1880_brown_flat;
	14: spriteset_pax_1880_brown_combine;
	switch_pax_1880_yeardep;
}



switch(FEAT_TRAINS, SELF, switch_pax_1880_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARFORM);
	1: return string(STR_REFIT_AUTOFORM_HCC);
	2: return string(STR_REFIT_AUTOFORM_JGR);
	3: return string(STR_REFIT_AUTOFORM_BROWN);
	4: return string(STR_REFIT_PAX_FKI5670_HCC);
	5: return string(STR_REFIT_PAX_FKH7925_HCC);
	6: return string(STR_REFIT_PAXMAIL_FKHY_8050_HCC);
	7: return string(STR_REFIT_PAX_FKI5670_JGR);
	8: return string(STR_REFIT_PAX_FKR5675_JGR);
	9: return string(STR_REFIT_PAX_FKH7945_JGR);
	10: return string(STR_REFIT_PAX_FKH7925_JGR);
	11: return string(STR_REFIT_PAXMAIL_FKHY_8050_JGR);
	12: return string(STR_REFIT_PAX_FKI5670_BROWN);
	13: return string(STR_REFIT_PAX_FKH7925_BROWN);
	14: return string(STR_REFIT_PAXMAIL_FKHY_8050_BROWN);
	   return CB_RESULT_NO_TEXT;
	}





item (FEAT_TRAINS, pax_1880, 1537) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
//		track_type: NAAN;
//		name: string(STR_NAME_PASSENGER_1880);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1880,1,1);
//		speed: 120 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 50; 
		refit_cost: 0;
		default_cargo_type: PASS;
//		loading_speed: 40;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
//		weight: 28;
//		cost_factor: 18;
//		running_cost_factor: 11;
		length: 6;
//		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 50;
		default: switch_pax_1880_livery;
		purchase: switch_pax_1880_yeardep_purchase;
		cargo_subtype_text: switch_pax_1880_subtype_text;
	}
}




switch(FEAT_TRAINS, SELF, switch_mail_1880_yeardep, build_year) {
	0..1906: spriteset_pax_1880_hcc_mail;
	spriteset_pax_1880_jgr_mail;
	}

switch(FEAT_TRAINS, SELF, switch_mail_1880_length, cargo_subtype) {
	1: return 5;
	2: return 6;
	3: return 5;
	4: return 6;
	5: return 6;
	return 5;
}


switch(FEAT_TRAINS, SELF, switch_mail_1880_livery, cargo_subtype) {
	1: spriteset_pax_1880_hcc_mail;
	2: spriteset_pax_1880_hcc_combine;
	3: spriteset_pax_1880_jgr_mail;
	4: spriteset_pax_1880_jgr_combine;
	5: spriteset_pax_1880_brown_combine;
	switch_mail_1880_yeardep;
}



switch(FEAT_TRAINS, SELF, switch_mail_1880_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_MAIL_KN8890_HCC);
	2: return string(STR_REFIT_PAXMAIL_FKHY_8050_HCC);
	3: return string(STR_REFIT_MAIL_KN8890_JGR);
	4: return string(STR_REFIT_PAXMAIL_FKHY_8050_JGR);
	5: return string(STR_REFIT_PAXMAIL_FKHY_8050_BROWN);
	   return CB_RESULT_NO_TEXT;
	}





item (FEAT_TRAINS, mail_1880, 1665) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
//		track_type: NAAN;
//		name: string(STR_NAME_PASSENGER_1880);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1880,1,1);
//		speed: 120 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 50; 
		refit_cost: 0;
//		default_cargo_type: PASS;
//		loading_speed: 40;
		refittable_cargo_classes: bitmask(CC_MAIL); 
		non_refittable_cargo_classes: 0; 
//		weight: 28;
//		cost_factor: 18;
//		running_cost_factor: 11;
		length: 5;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 50;
		default: switch_mail_1880_livery;
		purchase: switch_mail_1880_yeardep_purchase;
		cargo_subtype_text: switch_mail_1880_subtype_text;
		length: switch_mail_1880_length;
	}
}
spriteset(spriteset_pax_1910_17m_3rd, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_1910_17m_3rd_end, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_1910_17m_2nd, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_pax_1910_17m_2nd_end, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_pax_1910_17m_1st, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_pax_1910_17m_2nd_sleeper, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_pax_1910_17m_1st_sleeper, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_pax_1910_17m_diner, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_pax_1910_17m_combine, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_pax_1910_17m_combine_end, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_pax_1910_17m_luggage, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_pax_1910_17m_luggage_end, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 352)
}

spriteset(spriteset_pax_1910_17m_mail, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 384)
}

spriteset(spriteset_pax_1910_17m_mail_end, "gfx/paxmail/paxmail-1910-17m.png") {
	template_2cc_std(1, 416)
}


//purchase sprites
spriteset(spriteset_pax_1910_17m_jgr_purchase, "gfx/paxmail/paxmail-1910-17m.png") {
	template_purchase(1, 448)
}

spriteset(spriteset_mail_1910_17m_jgr_purchase, "gfx/paxmail/paxmail-1910-17m.png") {
	template_purchase(1, 480)
}

spriteset(spriteset_pax_1910_17m_jnr_purchase, "gfx/paxmail/paxmail-1910-17m.png") {
	template_purchase(89, 448)
}

spriteset(spriteset_mail_1910_17m_jnr_purchase, "gfx/paxmail/paxmail-1910-17m.png") {
	template_purchase(89, 480)
}

//purchase switches
switch(FEAT_TRAINS, SELF, switch_pax_1910_yeardep_purchase, current_year) {
	0..1949: spriteset_pax_1910_17m_jgr_purchase;
	spriteset_pax_1910_17m_jnr_purchase;
}

switch(FEAT_TRAINS, SELF, switch_mail_1910_yeardep_purchase, current_year) {
	0..1949: spriteset_mail_1910_17m_jgr_purchase;
	spriteset_mail_1910_17m_jnr_purchase;
}



	
//17m local auto formation

random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_local_auto_middle) {
	3: spriteset_pax_1910_17m_3rd;
	1: spriteset_pax_1910_17m_3rd_end;
	1: spriteset_pax_1910_17m_2nd;
}


	random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_local_auto_end) {
	1: spriteset_pax_1910_17m_3rd_end;
	2: spriteset_pax_1910_17m_combine_end;
}

	random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_local_auto_beginning) {
	1: spriteset_pax_1910_17m_2nd;
	1: spriteset_pax_1910_17m_combine;
}

	random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_local_auto_diner) {
	1: spriteset_pax_1910_17m_2nd;
	1: spriteset_pax_1910_17m_diner;
}


switch(FEAT_TRAINS, SELF, switch_pax_1910_17m_local_auto_end, position_in_consist_from_end) {
	0: random_pax_1910_17m_local_auto_end;
	random_pax_1910_17m_local_auto_middle;
	}

switch(FEAT_TRAINS, SELF, switch_pax_1910_17m_local_auto_beginning, position_in_vehid_chain) {
	0: random_pax_1910_17m_local_auto_beginning;
	3: random_pax_1910_17m_local_auto_diner;
	switch_pax_1910_17m_local_auto_end;
	}


//17m express auto formation

random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_express_auto_middle) {
	1: spriteset_pax_1910_17m_2nd_end;
	2: spriteset_pax_1910_17m_2nd;
}


	random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_express_auto_beginning) {
	1: spriteset_pax_1910_17m_2nd;
	1: spriteset_pax_1910_17m_2nd_sleeper;
	1: spriteset_pax_1910_17m_1st;
}


switch(FEAT_TRAINS, SELF, switch_pax_1910_17m_express_auto_end, position_in_consist_from_end) {
	0: spriteset_pax_1910_17m_2nd_end;
	random_pax_1910_17m_express_auto_middle;
	}

switch(FEAT_TRAINS, SELF, switch_pax_1910_17m_express_auto_beginning, position_in_vehid_chain) {
	0..2: spriteset_pax_1910_17m_1st;
	3: spriteset_pax_1910_17m_diner;
	4: random_pax_1910_17m_express_auto_beginning;
	switch_pax_1910_17m_express_auto_end;
	}


//17m sleeper auto formation

random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_sleeper_auto_middle) {
	3: spriteset_pax_1910_17m_2nd_sleeper;
	1: spriteset_pax_1910_17m_1st_sleeper;
}


	random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_sleeper_auto_end) {
	1: spriteset_pax_1910_17m_3rd_end;
	2: spriteset_pax_1910_17m_combine_end;
}

	random_switch (FEAT_TRAINS, SELF, random_pax_1910_17m_sleeper_auto_beginning) {
	1: spriteset_pax_1910_17m_1st_sleeper;
	1: spriteset_pax_1910_17m_diner;
}


switch(FEAT_TRAINS, SELF, switch_pax_1910_17m_sleeper_auto_end, position_in_consist_from_end) {
	0: random_pax_1910_17m_sleeper_auto_end;
	random_pax_1910_17m_sleeper_auto_middle;
	}

switch(FEAT_TRAINS, SELF, switch_pax_1910_17m_sleeper_auto_beginning, position_in_vehid_chain) {
	0: random_pax_1910_17m_sleeper_auto_beginning;
	switch_pax_1910_17m_sleeper_auto_end;
	}



//todo add postwar brown


switch(FEAT_TRAINS, SELF, switch_pax_1910_livery, cargo_subtype) {
	1: switch_pax_1910_17m_express_auto_beginning;
	2: switch_pax_1910_17m_sleeper_auto_beginning;
	3: spriteset_pax_1910_17m_3rd;
	4: spriteset_pax_1910_17m_3rd_end;
	5: spriteset_pax_1910_17m_2nd;
	6: spriteset_pax_1910_17m_2nd_end;
	7: spriteset_pax_1910_17m_1st;
	8: spriteset_pax_1910_17m_2nd_sleeper;
	9: spriteset_pax_1910_17m_1st_sleeper;
	10: spriteset_pax_1910_17m_diner;
	11: spriteset_pax_1910_17m_combine;
	12: spriteset_pax_1910_17m_combine_end;
	switch_pax_1910_17m_local_auto_beginning;
}



switch(FEAT_TRAINS, SELF, switch_pax_1910_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_AUTOFORM_LOCAL);
	1: return string(STR_REFIT_AUTOFORM_EXPRESS);
	2: return string(STR_REFIT_AUTOFORM_SLEEPER);
	3: return string(STR_REFIT_PAX_HOHA6810_JGR);
	4: return string(STR_REFIT_PAX_HOHAFU7570_JGR);
	5: return string(STR_REFIT_PAX_HORO5535_JGR);
	6: return string(STR_REFIT_PAX_HOROFU5615_JGR);
	7: return string(STR_REFIT_PAX_HOYA5100_JGR);
	8: return string(STR_REFIT_PAX_INERO5135_JGR);
	9: return string(STR_REFIT_PAX_INAI5035_JGR);
	10: return string(STR_REFIT_PAX_HOSHI5065_JGR);
	11: return string(STR_REFIT_PAXMAIL_NAHANI8430_JGR);
	12: return string(STR_REFIT_PAXMAIL_NAHANI8430_JGR_FLIP);
	   return CB_RESULT_NO_TEXT;
	}





item (FEAT_TRAINS, pax_1910_17m, 1538) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
//		track_type: NAAN;
//		name: string(STR_NAME_PASSENGER_1910);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1910,1,1);
//		speed: 120 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 75; 
		refit_cost: 0;
		default_cargo_type: PASS;
//		loading_speed: 40;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
//		weight: 28;
//		cost_factor: 18;
//		running_cost_factor: 11;
		length: 7;
//		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 75;
		default: switch_pax_1910_livery;
		purchase: switch_pax_1910_yeardep_purchase;
		cargo_subtype_text: switch_pax_1910_subtype_text;
	}
}




switch(FEAT_TRAINS, SELF, switch_mail_1910_mail_end, position_in_consist_from_end) {
	0: spriteset_pax_1910_17m_mail_end;
	spriteset_pax_1910_17m_mail;
	}

switch(FEAT_TRAINS, SELF, switch_mail_1910_luggage_end, position_in_consist_from_end) {
	0: spriteset_pax_1910_17m_luggage_end;
	spriteset_pax_1910_17m_luggage;
	}
	
switch(FEAT_TRAINS, SELF, switch_mail_1910_combine_end, position_in_consist_from_end) {
	0: spriteset_pax_1910_17m_combine_end;
	spriteset_pax_1910_17m_combine;
	}

random_switch (FEAT_TRAINS, SELF, random_mail_1910) {
	3: switch_mail_1910_luggage_end;
	1: switch_mail_1910_mail_end;
	1: switch_mail_1910_combine_end;
}


switch(FEAT_TRAINS, SELF, switch_mail_1910_livery, cargo_subtype) {
	1: switch_mail_1910_luggage_end;
	2: switch_mail_1910_mail_end;
	3: switch_mail_1910_combine_end;
	4: spriteset_pax_1910_17m_combine_end;
	random_mail_1910;
}



switch(FEAT_TRAINS, SELF, switch_mail_1910_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_MAIL_HONI8900_JGR);
	2: return string(STR_REFIT_MAIL_HOYUNI8725_JGR);
	3: return string(STR_REFIT_PAXMAIL_NAHANI8430_JGR);
	4: return string(STR_REFIT_PAXMAIL_NAHANI8430_JGR_FLIP);
	   return CB_RESULT_NO_TEXT;
	}





item (FEAT_TRAINS, mail_1910_17m, 1666) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
//		track_type: NAAN;
//		name: string(STR_NAME_PASSENGER_1910);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1910,1,1);
//		speed: 120 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 75; 
		refit_cost: 0;
//		default_cargo_type: PASS;
//		loading_speed: 40;
		refittable_cargo_classes: bitmask(CC_MAIL); 
		non_refittable_cargo_classes: 0; 
//		weight: 28;
//		cost_factor: 18;
//		running_cost_factor: 11;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 75;
		default: switch_mail_1910_livery;
		purchase: switch_mail_1910_yeardep_purchase;
		cargo_subtype_text: switch_mail_1910_subtype_text;
	}
}

spriteset(spriteset_pax_12_series_rear, "gfx/paxmail/12series.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_12_series_front, "gfx/paxmail/12series.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_12_series, "gfx/paxmail/12series.png") {
	template_2cc_std(1, 64)
}

alternative_sprites(spriteset_pax_12_series_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/12series.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_pax_12_series_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/12series.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_pax_12_series, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/12series.png") {
	template_2cc_std(1, 64)
}


spriteset(spriteset_pax_12_series_purchase, "gfx/paxmail/12series.png") {
	template_purchase(1, 128)
}


switch(FEAT_TRAINS, SELF, switch_pax_12_series_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_12_series_rear;
	spriteset_pax_12_series;
	}
	

switch(FEAT_TRAINS, SELF, switch_pax_12_series_beginning, position_in_vehid_chain) {
	0: spriteset_pax_12_series_front;
	switch_pax_12_series_end;
	}


item (FEAT_TRAINS, pax_12_series, 1320) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_PASSENGER_12);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1969,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 85; 
		refit_cost: 0;
		default_cargo_type: PASS;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
		weight: 26;
		cost_factor: 15;
		running_cost_factor: 9;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 85;
		default: switch_pax_12_series_beginning;
		purchase: spriteset_pax_12_series_purchase;
	}
}
spriteset(spriteset_pax_24_sleeper, "gfx/paxmail/24series.png") {
	template_2cc_anim(1, 1)
}

spriteset(spriteset_pax_24_standard, "gfx/paxmail/24series.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_pax_24_front, "gfx/paxmail/24series.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_pax_24_front_generator, "gfx/paxmail/24series.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_pax_24_rear, "gfx/paxmail/24series.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_pax_24_rear_generator, "gfx/paxmail/24series.png") {
	template_2cc_anim(1, 160)
}


alternative_sprites(spriteset_pax_24_sleeper, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_pax_24_standard, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_pax_24_front, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_2cc_std(1, 64)
}

alternative_sprites(spriteset_pax_24_front_generator, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_2cc_std(1, 96)
}

alternative_sprites(spriteset_pax_24_rear, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_2cc_std(1, 128)
}

alternative_sprites(spriteset_pax_24_rear_generator, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_2cc_std(1, 160)
}




spriteset(spriteset_pax_24_series_jnr_purchase, "gfx/paxmail/24series.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_pax_24_series_jr_purchase, "gfx/paxmail/24series.png") {
	template_purchase(89, 256)
}


alternative_sprites(spriteset_pax_24_series_jnr_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_purchase(1, 256)
}

alternative_sprites(spriteset_pax_24_series_jr_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,  "gfx/paxmail/32bpp/24series.png") {
	template_purchase(89, 256)
}


switch(FEAT_TRAINS, SELF, switch_pax_24_series_yeardep_purchase, current_year) {
	0..1987: spriteset_pax_24_series_jnr_purchase;
	spriteset_pax_24_series_jr_purchase;
}


random_switch (FEAT_TRAINS, SELF, random_pax_24_series_auto_middle) {
	4: spriteset_pax_24_standard;
	1: spriteset_pax_24_sleeper;
}

switch(FEAT_TRAINS, SELF, switch_pax_24_series_auto_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_24_rear;
	random_pax_24_series_auto_middle;
	}
	

switch(FEAT_TRAINS, SELF, switch_pax_24_series_auto_beginning, position_in_vehid_chain) {
	0: spriteset_pax_24_front_generator;
	switch_pax_24_series_auto_end;
	}


switch(FEAT_TRAINS, SELF, switch_pax_24_series_standard_end, position_in_consist_from_end) {
	0: spriteset_pax_24_rear;
	spriteset_pax_24_front;
	}
	
switch(FEAT_TRAINS, SELF, switch_pax_24_series_generator_end, position_in_consist_from_end) {
	0: spriteset_pax_24_rear_generator;
	spriteset_pax_24_front_generator;
	}



switch(FEAT_TRAINS, SELF, switch_pax_24_series_livery, cargo_subtype) {
	1: spriteset_pax_24_standard;
	2: spriteset_pax_24_sleeper;
	3: switch_pax_24_series_standard_end;
	4: switch_pax_24_series_generator_end;
	switch_pax_24_series_auto_beginning;
}



switch(FEAT_TRAINS, SELF, switch_pax_24_series_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_AUTOFORM);
	1: return string(STR_REFIT_PAX_OHN25);
	2: return string(STR_REFIT_PAX_ORN24);
	3: return string(STR_REFIT_PAX_OHNF25);
	4: return string(STR_REFIT_PAX_KN24);
	   return CB_RESULT_NO_TEXT;
	}





item (FEAT_TRAINS, pax_24_series, 1540) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_PASSENGER_24);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1973,1,1);
		speed: 120 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 70; 
		refit_cost: 0;
		default_cargo_type: PASS;
		loading_speed: 40;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
		weight: 28;
		cost_factor: 18;
		running_cost_factor: 11;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 70;
		default: switch_pax_24_series_livery;
		purchase: switch_pax_24_series_yeardep_purchase;
		cargo_subtype_text: switch_pax_24_series_subtype_text;
	}
}
spriteset(spriteset_pax_50_series_red_end, "gfx/paxmail/50series.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_50_series_red, "gfx/paxmail/50series.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_50_series_blue_end, "gfx/paxmail/50series.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_pax_50_series_blue, "gfx/paxmail/50series.png") {
	template_2cc_std(1, 96)
}

alternative_sprites(spriteset_pax_50_series_red_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/50series.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_pax_50_series_red, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/50series.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_pax_50_series_blue_end, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/50series.png") {
	template_2cc_std(1, 64)
}

alternative_sprites(spriteset_pax_50_series_blue, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/50series.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_pax_50_series_purchase, "gfx/paxmail/50series.png") {
	template_purchase(1, 128)
}


switch(FEAT_TRAINS, SELF, switch_pax_50_series_red_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_50_series_red_end;
	spriteset_pax_50_series_red;
	}
	

switch(FEAT_TRAINS, SELF, switch_pax_50_series_red_beginning, position_in_vehid_chain) {
	0: spriteset_pax_50_series_red_end;
	switch_pax_50_series_red_end;
	}
	
	
switch(FEAT_TRAINS, SELF, switch_pax_50_series_blue_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_50_series_blue_end;
	spriteset_pax_50_series_blue;
	}
	

switch(FEAT_TRAINS, SELF, switch_pax_50_series_blue_beginning, position_in_vehid_chain) {
	0: spriteset_pax_50_series_blue_end;
	switch_pax_50_series_blue_end;
	}




switch(FEAT_TRAINS, SELF, switch_pax_50_series_livery, cargo_subtype) {
	0: switch_pax_50_series_red_beginning;
	1: switch_pax_50_series_blue_beginning;
}



switch(FEAT_TRAINS, SELF, switch_pax_50_series_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_OLDRED);
	1: return string(STR_REFIT_BLUE);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, pax_50_series, 1340) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_PASSENGER_50);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1977,1,1);
		speed: 95 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: PASS;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
		weight: 24;
		cost_factor: 12;
		running_cost_factor: 9;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 100;
		default: switch_pax_50_series_livery;
		purchase: spriteset_pax_50_series_purchase;
		cargo_subtype_text: switch_pax_50_series_subtype_text;
		
	}
}

spriteset(spriteset_pax_26_series_1, "gfx/paxmail/26series.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_26_series_2, "gfx/paxmail/26series.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_26_series_3, "gfx/paxmail/26series.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_pax_26_series_4, "gfx/paxmail/26series.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_pax_26_series_purchase, "gfx/paxmail/26series.png") {
	template_purchase(1, 288)
}



switch(FEAT_TRAINS, SELF, switch_pax_26_series_autoform, position_in_vehid_chain) {
	0: spriteset_pax_26_series_1;
	2: spriteset_pax_26_series_3;
	spriteset_pax_26_series_2;
	}
	
	
switch(FEAT_TRAINS, SELF, switch_pax_26_series_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_26_series_4;
	switch_pax_26_series_autoform;
	}
	


item (FEAT_TRAINS, pax_26_series, 1346) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_PAX_26);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1999,1,1);
		speed: 120 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 50; 
		refit_cost: 0;
		cargo_age_period: 0;
		default_cargo_type: PASS;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
		weight: 29;
		cost_factor: 20;
		running_cost_factor: 15;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 100;
		default: switch_pax_26_series_end;
		purchase: spriteset_pax_26_series_purchase;

	}
}
spriteset(spriteset_pax_77_series_1, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_77_series_2, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_77_series_3, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_pax_77_series_4, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_pax_77_series_5, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_pax_77_series_6, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_pax_77_series_7, "gfx/paxmail/7stars.png") {
	template_2cc_std(1, 192)
}


spriteset(spriteset_pax_77_series_purchase, "gfx/paxmail/7stars.png") {
	template_purchase(1, 288)
}




random_switch (FEAT_TRAINS, SELF, random_pax_77_series) {
	1: spriteset_pax_77_series_2;
	3: spriteset_pax_77_series_6;
}	

switch(FEAT_TRAINS, SELF, switch_pax_77_series_autoform, position_in_vehid_chain) {
	0: spriteset_pax_77_series_1;
	1: spriteset_pax_77_series_2;
	2: spriteset_pax_77_series_3;
	3: spriteset_pax_77_series_4;
	4: spriteset_pax_77_series_5;
	5: spriteset_pax_77_series_6;
	random_pax_77_series;
	}
	
	
switch(FEAT_TRAINS, SELF, switch_pax_77_series_end, position_in_vehid_chain_from_end) {
	0: spriteset_pax_77_series_7;
	switch_pax_77_series_autoform;
	}
	


item (FEAT_TRAINS, pax_77_series, 1347) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_PAX_77);
		climates_available: ALL_CLIMATES;
		introduction_date: date(2013,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 4; 
		refit_cost: 0;
		cargo_age_period: 0;
		default_cargo_type: PASS;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
		weight: 29;
		cost_factor: 20;
		running_cost_factor: 15;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 100;
		default: switch_pax_77_series_end;
		purchase: spriteset_pax_77_series_purchase;

	}
}
spriteset(spriteset_pax_orone10_blue, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_pax_ohane17_blue, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_pax_orone10_blue_green, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_pax_ohane17_blue_green, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_pax_orone10_brown_green, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_pax_ohane17_brown_green, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_pax_orone10_brown_blue, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_pax_ohane17_brown_blue, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_pax_orone10_brown, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_pax_ohane17_brown, "gfx/paxmail/10series-sleeper.png") {
	template_2cc_std(1, 288)
}





spriteset(spriteset_pax_10series_sleeper_jnr_brown_purchase, "gfx/paxmail/10series-sleeper.png") {
	template_purchase(1, 320)
}

spriteset(spriteset_pax_10series_sleeper_jnr_blue_purchase, "gfx/paxmail/10series-sleeper.png") {
	template_purchase(1, 352)
}

spriteset(spriteset_pax_10series_sleeper_jr_purchase, "gfx/paxmail/10series-sleeper.png") {
	template_purchase(89, 320)
}

//random

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_brown) {
	4: spriteset_pax_orone10_brown;
	3: spriteset_pax_ohane17_brown;
}

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1959) {
	2: spriteset_pax_orone10_brown;
	3: spriteset_pax_ohane17_brown;
	1: spriteset_pax_orone10_brown_blue;
	1: spriteset_pax_ohane17_brown_blue;
	}
	
random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1964) {
	3: spriteset_pax_orone10_brown;
	2: spriteset_pax_ohane17_brown;
	1: spriteset_pax_orone10_brown_green;
	1: spriteset_pax_ohane17_brown_green;
}
	
random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1979) {
	4: spriteset_pax_orone10_brown;
	4: spriteset_pax_ohane17_brown;
	2: spriteset_pax_orone10_brown_green;
	1: spriteset_pax_ohane17_brown_green;
	4: spriteset_pax_orone10_blue;
	4: spriteset_pax_ohane17_blue;
	2: spriteset_pax_orone10_blue_green;
	2: spriteset_pax_ohane17_blue_green;
}

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1987) {
	4: spriteset_pax_orone10_blue;
	3: spriteset_pax_ohane17_blue;
	2: spriteset_pax_orone10_blue_green;
	1: spriteset_pax_ohane17_blue_green;
}

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_blue) {
	4: spriteset_pax_orone10_blue;
	3: spriteset_pax_ohane17_blue;
}

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1stclass_1959) {
	1: spriteset_pax_orone10_brown_blue;
	1: spriteset_pax_ohane17_brown_blue;
	}
	
random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1stclass_1964) {
	1: spriteset_pax_orone10_brown_green;
	1: spriteset_pax_ohane17_brown_green;
}
	
random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1stclass_1979) {
	1: spriteset_pax_orone10_brown_green;
	1: spriteset_pax_ohane17_brown_green;
	1: spriteset_pax_orone10_blue_green;
	1: spriteset_pax_ohane17_blue_green;
}

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_1stclass_1987) {
	2: spriteset_pax_orone10_blue_green;
	1: spriteset_pax_ohane17_blue_green;
}

random_switch(FEAT_TRAINS, SELF, random_pax_10series_sleeper_2ndclass_1979) {
	1: spriteset_pax_orone10_brown;
	1: spriteset_pax_ohane17_brown;
	1: spriteset_pax_orone10_blue;
	1: spriteset_pax_ohane17_blue;
}



switch(FEAT_TRAINS, SELF, switch_pax_10series_sleeper_yeardep, current_year) {
	0..1959: random_pax_10series_sleeper_1959;
	1959..1964: random_pax_10series_sleeper_1964;
	1964..1979: random_pax_10series_sleeper_1979;
	1979..1987: random_pax_10series_sleeper_1987;	
	random_pax_10series_sleeper_blue;
}
	
	
	
switch(FEAT_TRAINS, SELF, switch_pax_10series_sleeper_purchase, build_year) {
	0..1964: spriteset_pax_10series_sleeper_jnr_brown_purchase;
	spriteset_pax_10series_sleeper_jnr_blue_purchase;	
}

switch(FEAT_TRAINS, SELF, switch_pax_10series_sleeper_1stclass_yeardep, current_year) {
	0..1959: random_pax_10series_sleeper_1stclass_1959;
	1959..1964: random_pax_10series_sleeper_1stclass_1964;
	1964..1979: random_pax_10series_sleeper_1stclass_1979;
	random_pax_10series_sleeper_1stclass_1987;	
}
	
switch(FEAT_TRAINS, SELF, switch_pax_10series_sleeper_2ndclass_yeardep, build_year) {
	0..1964: random_pax_10series_sleeper_brown;
	1964..1979: random_pax_10series_sleeper_2ndclass_1979;	
	random_pax_10series_sleeper_blue;
}
	
	

	
switch(FEAT_TRAINS, SELF, switch_pax_10series_sleeper_livery, cargo_subtype) {
	0: switch_pax_10series_sleeper_yeardep;
	1: switch_pax_10series_sleeper_1stclass_yeardep;
	2: switch_pax_10series_sleeper_2ndclass_yeardep;
	3: spriteset_pax_orone10_brown;
	4: spriteset_pax_ohane17_brown;
	5: spriteset_pax_orone10_brown_blue;
	6: spriteset_pax_ohane17_brown_blue;
	7: spriteset_pax_orone10_brown_green;
	8: spriteset_pax_ohane17_brown_green;
	9: spriteset_pax_orone10_blue;
	10: spriteset_pax_ohane17_blue;
	11: spriteset_pax_orone10_blue_green;
	12: spriteset_pax_ohane17_blue_green;
}


switch(FEAT_TRAINS, SELF, switch_pax_10series_sleeper_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_AUTOYEAR);
	1: return string(STR_REFIT_YEARDEP_1ST);
	2: return string(STR_REFIT_YEARDEP_2ND);
	3: return string(STR_REFIT_PAX_ORN10_BROWN);
	4: return string(STR_REFIT_PAX_OHN17_BROWN);
	5: return string(STR_REFIT_PAX_ORN10_BROWN_BLUE);
	6: return string(STR_REFIT_PAX_OHN17_BROWN_BLUE);
	7: return string(STR_REFIT_PAX_ORN10_BROWN_GREEN);
	8: return string(STR_REFIT_PAX_OHN17_BROWN_GREEN);
	9: return string(STR_REFIT_PAX_ORN10_BLUE);
	10: return string(STR_REFIT_PAX_OHN17_BLUE);
	11: return string(STR_REFIT_PAX_ORN10_BLUE_GREEN);
	12: return string(STR_REFIT_PAX_OHN17_BLUE_GREEN);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, pax_10series_sleeper, 1322) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_SLEEPER_10);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1956,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 40; 
		refit_cost: 0;
		default_cargo_type: PASS;
		cargo_age_period: 0;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PASSENGERS); 
		non_refittable_cargo_classes: 0; 
		weight: 28;
		cost_factor: 16;
		running_cost_factor: 11;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 40;
		default: switch_pax_10series_sleeper_livery;
		purchase: switch_pax_10series_sleeper_purchase;
		cargo_subtype_text: switch_pax_10series_sleeper_subtype_text;
		
	}
}

spriteset(spriteset_mani_30, "gfx/paxmail/mailvans.png") {
	template_2cc_std(1, 64)
}

alternative_sprites(spriteset_mani_30, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/mailvans.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_mani_30_purchase, "gfx/paxmail/mailvans.png") {
	template_purchase(1, 224)
}



item (FEAT_TRAINS, mail_mani_30, 1380) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_MAIL_30);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1965,1,1);
		speed: 109.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_ARMOURED); 
		non_refittable_cargo_classes: 0; 
		weight: 29;
		cost_factor: 16;
		running_cost_factor: 6;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 75;
		default: spriteset_mani_30;
		purchase: spriteset_mani_30_purchase;
		
	}
}
//Universal door sprites for all 8/8 box vans

spriteset(spriteset_boxvan8_doors_blank, "gfx/paxmail/mani44.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_boxvan8_doors_empty, "gfx/paxmail/mani44.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_boxvan8_doors_half, "gfx/paxmail/mani44.png") {
	template_2cc_std(1, 128)
}

spritegroup spritegroup_boxvan8_doors_load {
    loading: [spriteset_boxvan8_doors_empty, spriteset_boxvan8_doors_half, spriteset_boxvan8_doors_blank];
    loaded:  [spriteset_boxvan8_doors_blank];
}

//MANI 44

spriteset(spriteset_mani_44, "gfx/paxmail/mani44.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_mani_44_euroliner, "gfx/paxmail/mani44.png") {
	template_2cc_std(1, 32)
}



spriteset(spriteset_mani_44_jnr_purchase, "gfx/paxmail/mani44.png") {
	template_purchase(1, 160)
}

spriteset(spriteset_mani_44_jr_purchase, "gfx/paxmail/mani44.png") {
	template_purchase(89, 160)
}

switch(FEAT_TRAINS, SELF, switch_mani_44_purchase_yeardep, current_year) {
    0..1987: spriteset_mani_44_jnr_purchase;
    spriteset_mani_44_jr_purchase;
    }

switch(FEAT_TRAINS, SELF, switch_mani_44_livery, cargo_subtype) {
	1: spriteset_mani_44_euroliner;
	spriteset_mani_44;
}


switch(FEAT_TRAINS, SELF, switch_mani_44_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_BLUE);
	1: return string(STR_REFIT_EUROLINER);
	   return CB_RESULT_NO_TEXT;
	}


//stacked sprites

switch(FEAT_TRAINS, SELF, switch_mani_44_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_mani_44_livery;
    1:  spritegroup_boxvan8_doors_load;
}


item (FEAT_TRAINS, mail_mani_44, 1390) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_MAIL_44);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1970,1,1);
		speed: 109.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_EXPRESS); 
		non_refittable_cargo_classes: 0; 
		weight: 24;
		cost_factor: 12;
		running_cost_factor: 6;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_FLIP, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 75;
		default: switch_mani_44_loadstack;
		purchase: switch_mani_44_purchase_yeardep;
		cargo_subtype_text: switch_mani_44_subtype_text;
		
	}
}
spriteset(spriteset_mani_50, "gfx/paxmail/suyu15.png") {
	template_2cc_std(1, 32)
}


alternative_sprites(spriteset_mani_50, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/mailvans.png") {
	template_2cc_std(1, 32)
}


spriteset(spriteset_mani_50_purchase, "gfx/paxmail/suyu15.png") {
	template_purchase(1, 192)
}



item (FEAT_TRAINS, mail_mani_50, 1370) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_MAIL_50);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1969,1,1);
		speed: 109.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL); 
		non_refittable_cargo_classes: 0; 
		weight: 20;
		cost_factor: 11;
		running_cost_factor: 6;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 75;
		default: spriteset_mani_50;
		purchase: spriteset_mani_50_purchase;
		
	}
}
spriteset(spriteset_oyu_10_brown, "gfx/paxmail/oyu10.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_oyu_10_blue, "gfx/paxmail/oyu10.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_oyu_10_blue_ac, "gfx/paxmail/oyu10.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_oyu_10_brown_purchase, "gfx/paxmail/oyu10.png") {
	template_purchase(1, 160)
}

spriteset(spriteset_oyu_10_blue_purchase, "gfx/paxmail/oyu10.png") {
	template_purchase(1, 192)
}

random_switch(FEAT_TRAINS, SELF, random_oyu_10_blue_ac) {
	1: spriteset_oyu_10_blue;
	1: spriteset_oyu_10_blue_ac;
	}

switch(FEAT_TRAINS, SELF, switch_oyu_10_yeardep_livery, build_year) {
	0..1968: spriteset_oyu_10_brown;
	1968..1975: spriteset_oyu_10_blue;
	random_oyu_10_blue_ac;
}


switch(FEAT_TRAINS, SELF, switch_oyu_10_livery, cargo_subtype) {
	1: spriteset_oyu_10_brown;
	2: spriteset_oyu_10_blue;
    3: spriteset_oyu_10_blue_ac;
	switch_oyu_10_yeardep_livery;
}


switch(FEAT_TRAINS, SELF, switch_oyu_10_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_JNR_BROWN);
	2: return string(STR_REFIT_BLUE);
    3: return string(STR_REFIT_BLUE_AC);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_oyu_10_purchase_yeardep, current_year) {
    0..1968: spriteset_oyu_10_brown_purchase;
    spriteset_oyu_10_blue_purchase;
    }



item (FEAT_TRAINS, mail_oyu_10, 1668) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_OYU_10);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1956,1,1);
		speed: 100 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL); 
		non_refittable_cargo_classes: 0; 
		weight: 20;
		cost_factor: 11;
		running_cost_factor: 6;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 75;
		default: switch_oyu_10_livery;
		purchase: switch_oyu_10_purchase_yeardep;
		cargo_subtype_text: switch_oyu_10_subtype_text;
		
	}
}
spriteset(spriteset_suyu_15, "gfx/paxmail/suyu15.png") {
	template_2cc_std(1, 1)
}


alternative_sprites(spriteset_suyu_15, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/paxmail/32bpp/mailvans.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_suyu_15_purchase, "gfx/paxmail/suyu15.png") {
	template_purchase(1, 160)
}



item (FEAT_TRAINS, mail_suyu_15, 1360) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_MAIL_15);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1960,1,1);
		speed: 109.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL); 
		non_refittable_cargo_classes: 0; 
		weight: 20;
		cost_factor: 11;
		running_cost_factor: 6;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 75;
		default: spriteset_suyu_15;
		purchase: spriteset_suyu_15_purchase;
		
	}
}
spriteset(spriteset_waki_8000, "gfx/paxmail/waki8000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_suni_41, "gfx/paxmail/waki8000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_suni_41_flip, "gfx/paxmail/waki8000.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_wasafu_8000, "gfx/paxmail/waki8000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_wasafu_8000_flip, "gfx/paxmail/waki8000.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_wasafu_8000_blue, "gfx/paxmail/waki8000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_wasafu_8000_blue_flip, "gfx/paxmail/waki8000.png") {
	template_2cc_flip(1, 96)
}



spriteset(spriteset_waki_8000_jnr_purchase, "gfx/paxmail/waki8000.png") {
	template_purchase(1, 160)
}

spriteset(spriteset_waki_8000_jr_purchase, "gfx/paxmail/waki8000.png") {
	template_purchase(89, 160)
}

switch(FEAT_TRAINS, SELF, switch_waki_8000_purchase_yeardep, current_year) {
    0..1987: spriteset_waki_8000_jnr_purchase;
    spriteset_waki_8000_jr_purchase;
    }

random_switch (FEAT_TRAINS, SELF, random_suni_41_flip) {
 1: spriteset_suni_41;
 1: spriteset_suni_41_flip;
}

random_switch (FEAT_TRAINS, SELF, random_wasafu_8000_flip) {
 1: spriteset_wasafu_8000;
 1: spriteset_wasafu_8000_flip;
}

random_switch (FEAT_TRAINS, SELF, random_wasafu_8000_blue_flip) {
 1: spriteset_wasafu_8000_blue;
 1: spriteset_wasafu_8000_blue_flip;
}


switch(FEAT_TRAINS, SELF, switch_suyu_44_caboose, position_in_consist_from_end) {
	0: random_suni_41_flip;
	spriteset_waki_8000;
	}

switch(FEAT_TRAINS, SELF, switch_waki_8000_caboose, position_in_consist_from_end) {
	0: random_wasafu_8000_flip;
	spriteset_waki_8000;
	}


switch(FEAT_TRAINS, SELF, switch_waki_8000_livery, cargo_subtype) {
	1: switch_suyu_44_caboose;
    2: switch_waki_8000_caboose;
	3: random_suni_41_flip;
	4: random_wasafu_8000_flip;
	5: random_wasafu_8000_blue_flip;
	spriteset_waki_8000;
}


switch(FEAT_TRAINS, SELF, switch_waki_8000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_SUNI_40);
	1: return string(STR_REFIT_SUYU_44);
	2: return string(STR_REFIT_WAKI_8000);
    3: return string(STR_REFIT_SUNI_41);
	4: return string(STR_REFIT_WASAFU_8000);
	5: return string(STR_REFIT_WASAFU_BLUE);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_waki_8000_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_waki_8000_livery;
    1:  spritegroup_boxvan8_doors_load;
}



item (FEAT_TRAINS, mail_waki_8000, 1395) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_MAIL_8000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1968,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 100; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_EXPRESS); 
		non_refittable_cargo_classes: 0; 
		weight: 21;
		cost_factor: 10;
		running_cost_factor: 6;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_FLIP, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 75;
		default: switch_waki_8000_loadstack;
		purchase: switch_waki_8000_purchase_yeardep;
		cargo_subtype_text: switch_waki_8000_subtype_text;
	}
}

spriteset(spriteset_ka_1_grey_empty, "gfx/freight/ka_1.png") {
	template_2cc_anim(1, 1)
}

spriteset(spriteset_ka_1_grey_half, "gfx/freight/ka_1.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_ka_1_grey_full, "gfx/freight/ka_1.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_ka_1_grey_closed, "gfx/freight/ka_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ka_1_brown_empty, "gfx/freight/ka_1.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_ka_1_brown_half, "gfx/freight/ka_1.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_ka_1_brown_full, "gfx/freight/ka_1.png") {
	template_2cc_anim(1, 192)
}

spriteset(spriteset_ka_1_brown_closed, "gfx/freight/ka_1.png") {
	template_2cc_std(1, 224)
}





spriteset(spriteset_ka_1_jgr_purchase, "gfx/freight/ka_1.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_ka_1_jnr_purchase, "gfx/freight/ka_1.png") {
	template_purchase(89, 288)
}



spritegroup spritegroup_ka_1_grey_load {
    loading: [spriteset_ka_1_grey_empty, spriteset_ka_1_grey_half, spriteset_ka_1_grey_full, spriteset_ka_1_grey_closed];
    loaded:  [spriteset_ka_1_grey_empty, spriteset_ka_1_grey_closed];
}


spritegroup spritegroup_ka_1_brown_load {
    loading: [spriteset_ka_1_brown_empty, spriteset_ka_1_brown_half, spriteset_ka_1_brown_full, spriteset_ka_1_brown_closed];
    loaded:  [spriteset_ka_1_brown_empty, spriteset_ka_1_brown_closed];
}




random_switch(FEAT_TRAINS, SELF, random_ka_1_livery) {
	1: spritegroup_ka_1_grey_load;
	1: spritegroup_ka_1_brown_load;
	}
	



item (FEAT_TRAINS, ka_1, 1282) {

property {
	name: string(STR_NAME_KA_1);
	introduction_date: date(1870,1,1);
	default_cargo_type: LVST;
	cargo_capacity: 20;
	cargo_age_period: 0;
	}
graphics {
	cargo_capacity: return 20;
	default: random_ka_1_livery;
//	cargo_subtype_text: switch_ka_1_subtype_text;
	purchase: spriteset_ka_1_jgr_purchase;
//	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_wa_1_stripe_closed, "gfx/freight/wa_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_wa_1_stripe_empty, "gfx/freight/wa_1.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_wa_1_stripe_full, "gfx/freight/wa_1.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_wa_1_black_closed, "gfx/freight/wa_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_wa_1_black_empty, "gfx/freight/wa_1.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_wa_1_black_full, "gfx/freight/wa_1.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_wa_1_brown_closed, "gfx/freight/wa_1.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_wa_1_brown_empty, "gfx/freight/wa_1.png") {
	template_2cc_anim(1, 224)
}

spriteset(spriteset_wa_1_brown_full, "gfx/freight/wa_1.png") {
	template_2cc_anim(1, 256)
}


spriteset(spriteset_wa_1_jgr_purchase, "gfx/freight/wa_1.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_wa_1_jnr_purchase, "gfx/freight/wa_1.png") {
	template_purchase(89, 288)
}



spritegroup spritegroup_wa_1_stripe_load {
    loading: [spriteset_wa_1_stripe_empty, spriteset_wa_1_stripe_full, spriteset_wa_1_stripe_closed];
    loaded:  [spriteset_wa_1_stripe_closed];
}


spritegroup spritegroup_wa_1_black_load {
    loading: [spriteset_wa_1_black_empty, spriteset_wa_1_black_full, spriteset_wa_1_black_closed];
    loaded:  [spriteset_wa_1_black_closed];
}

spritegroup spritegroup_wa_1_brown_load {
    loading: [spriteset_wa_1_brown_empty, spriteset_wa_1_brown_full, spriteset_wa_1_brown_closed];
    loaded:  [spriteset_wa_1_brown_closed];
}



random_switch(FEAT_TRAINS, SELF, random_wa_1_black) {
	1: spritegroup_wa_1_black_load;
	1: spritegroup_wa_1_stripe_load;
	}
	
random_switch(FEAT_TRAINS, SELF, random_wa_1_all) {
	1: spritegroup_wa_1_black_load;
	1: spritegroup_wa_1_stripe_load;
	1: spritegroup_wa_1_brown_load;
	}



switch(FEAT_TRAINS, SELF, switch_wa_1_livery, cargo_subtype) {
	1: spritegroup_wa_1_stripe_load;
	2: random_wa_1_black;
	3: spritegroup_wa_1_brown_load;
	random_wa_1_all;
}

switch(FEAT_TRAINS, SELF, switch_wa_1_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FBLACK);
	2: return string(STR_REFIT_FBROWN);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, wa_1, 32) {

property {
	name: string(STR_NAME_WA_1);
	introduction_date: date(1870,1,1);
	default_cargo_type: GOOD;
	cargo_capacity: 20;
	speed: 65 km/h;
	refittable_cargo_classes: bitmask(CC_COVERED, CC_MAIL, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [PASS, COAL, IORE, CORE, AORE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SGBT, SGCN, TOUR, VEHI, KAOL];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 20;
	default: switch_wa_1_livery;
	cargo_subtype_text: switch_wa_1_subtype_text;
	purchase: spriteset_wa_1_jgr_purchase;
//	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_wamu_50000_1, "gfx/wamu_50000.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_wamu_50000_2, "gfx/wamu_50000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_wamu_50000_3, "gfx/wamu_50000.png") {
	template_2cc_std(1, 64)
}


spriteset(spriteset_wamu_50000_4, "gfx/wamu_50000.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_wamu_50000_caboose, "gfx/wamu_50000.png") {
	template_2cc_std(1, 160)
}


spriteset(spriteset_wamu_50000_purchase, "gfx/wamu_50000.png") {
	template_purchase(1, 192)
}


random_switch (FEAT_TRAINS, SELF, random_wamu_50000) {
 1: spriteset_wamu_50000_1;
 1: spriteset_wamu_50000_2;
 1: spriteset_wamu_50000_3;
 1: spriteset_wamu_50000_4;
}

switch (FEAT_TRAINS, SELF, switch_wamu_50000_caboose, position_in_consist_from_end) {
	0: spriteset_wamu_50000_caboose;
	random_wamu_50000;
	}


item (FEAT_TRAINS, wamu_50000, 1435) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_WAMU_50000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1928,1,1);
		speed: 74.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 30; 
		refit_cost: 0;
		default_cargo_type: GOOD;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_COVERED, CC_MAIL, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
		cargo_disallow_refit: [PASS, COAL, IORE, CORE, AORE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SGBT, SGCN, TOUR, VEHI, KAOL];
		weight: 10;
		cost_factor: 5;
		running_cost_factor: 3;
		length: 5;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 30;
		default: switch_wamu_50000_caboose;
		purchase: spriteset_wamu_50000_purchase;
		
	}
}
spriteset(spriteset_waki_1_1, "gfx/waki_1.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_waki_1_2, "gfx/waki_1.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_waki_1_purchase, "gfx/waki_1.png") {
	template_purchase(1, 192)
}


random_switch (FEAT_TRAINS, SELF, random_waki_1) {
 3: spriteset_waki_1_1;
 1: spriteset_waki_1_2;
}



item (FEAT_TRAINS, waki_1, 1445) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_WAKI_1);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1930,1,1);
		speed: 74.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 90; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
		non_refittable_cargo_classes: 0;  
		cargo_disallow_refit: [PASS, COAL, LVST, WOOD, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, RFPR, VEHI];
		weight: 20;
		cost_factor: 8;
		running_cost_factor: 5;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 45;
		default: random_waki_1;
		purchase: spriteset_waki_1_purchase;
		
	}
}
spriteset(spriteset_waki_1000_stripe_1, "gfx/waki_1000.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_waki_1000_stripe_2, "gfx/waki_1000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_waki_1000_stripe_3, "gfx/waki_1000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_waki_1000_stripe_caboose, "gfx/waki_1000.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_waki_1000_plain_1, "gfx/waki_1.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_waki_1000_plain_2, "gfx/waki_1.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_waki_1000_plain_3, "gfx/waki_1.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_waki_1000_plain_caboose, "gfx/waki_1.png") {
	template_2cc_std(1, 96)
}




spriteset(spriteset_waki_1000_purchase, "gfx/waki_1000.png") {
	template_purchase(1, 192)
}




random_switch (FEAT_TRAINS, SELF, random_waki_1000_stripe) {
 1: spriteset_waki_1000_stripe_1;
 1: spriteset_waki_1000_stripe_2;
 2: spriteset_waki_1000_stripe_3;
}

random_switch (FEAT_TRAINS, SELF, random_waki_1000_plain) {
 1: spriteset_waki_1000_plain_1;
 1: spriteset_waki_1000_plain_2;
 2: spriteset_waki_1000_plain_3;
}



switch(FEAT_TRAINS, SELF, switch_waki_1000_plain_caboose, position_in_consist_from_end) {
	0: spriteset_waki_1000_plain_caboose;
	random_waki_1000_plain;
	}

switch(FEAT_TRAINS, SELF, switch_waki_1000_stripe_caboose, position_in_consist_from_end) {
	0: spriteset_waki_1000_stripe_caboose;
	random_waki_1000_stripe;
	}


switch(FEAT_TRAINS, SELF, switch_waki_1000_livery, cargo_subtype) {
	0: switch_waki_1000_stripe_caboose;
	1: switch_waki_1000_plain_caboose;
	switch_waki_1000_stripe_caboose;
}

switch(FEAT_TRAINS, SELF, switch_waki_1000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_WAKI_STRIPE);
	1: return string(STR_REFIT_BLACK);
	   return CB_RESULT_NO_TEXT;
	}


item (FEAT_TRAINS, waki_1000, 1450) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_WAKI_1000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1949,1,1);
		speed: 85 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 90; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_EXPRESS); 
		non_refittable_cargo_classes: 0; 
		weight: 18;
		cost_factor: 8;
		running_cost_factor: 5;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
//		cargo_capacity: return 45;
		default: switch_waki_1000_livery;
		purchase: spriteset_waki_1000_purchase;
		cargo_subtype_text: switch_waki_1000_subtype_text;
		
	}
}
//TODO GRAPHICS-LOADING STAGES FOR THESE

spriteset(spriteset_waki_5000_greenstripe, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_waki_5000_brown1, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_waki_5000_bluestripe, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_waki_5000_brown2, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_waki_5000_black, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 224)
}


//purchase
spriteset(spriteset_waki_5000_jnr_purchase, "gfx/freight/waki_5000.png") {
	template_purchase(1, 384)
}

spriteset(spriteset_waki_5000_jrf_purchase, "gfx/freight/waki_5000.png") {
	template_purchase(89, 384)
}

switch(FEAT_TRAINS, SELF, switch_waki_5000_yeardep_purchase, current_year) {
	0..1987: spriteset_waki_5000_jnr_purchase;
	spriteset_waki_5000_jrf_purchase;
}


random_switch (FEAT_TRAINS, SELF, random_waki_5000) {
	1: spriteset_waki_10000_brown;
	1: spriteset_waki_5000_greenstripe;
	4: spriteset_waki_5000_brown1;
	5: spriteset_waki_5000_brown2;
	2: spriteset_waki_5000_black;
}

random_switch (FEAT_TRAINS, SELF, random_waki_5000_brown) {
	1: spriteset_waki_5000_brown1;
	2: spriteset_waki_5000_brown2;
}



switch(FEAT_TRAINS, SELF, switch_waki_5000_livery, cargo_subtype) {
	1: random_waki_5000_brown;
	2: spriteset_waki_5000_greenstripe;
	3: spriteset_waki_5000_black;
	4: spriteset_waki_5000_bluestripe;
	random_waki_5000;
}

switch(FEAT_TRAINS, SELF, switch_waki_5000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FBROWN);
	2: return string(STR_REFIT_WAKI_GREENSTRIPE);
	3: return string(STR_REFIT_FBLACK);
	4: return string(STR_REFIT_JRF_BLUE);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_waki_5000_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_waki_5000_livery;
    1:  spritegroup_boxvan8_doors_load;
}

item (FEAT_TRAINS, waki_5000, 53) {
property {
	name: string(STR_NAME_WAKI_5000);
	speed: 85 km/h;
	introduction_date: date(1964,1,1);
	default_cargo_type: GOOD;
	cargo_capacity: 80; 
	refittable_cargo_classes: bitmask(CC_COVERED, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [PASS, COAL, IORE, CORE, AORE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SGBT, SGCN, TOUR, KAOL];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
graphics {
	cargo_capacity: return 80;
	default: switch_waki_5000_loadstack;
	purchase: switch_waki_5000_yeardep_purchase;
	cargo_subtype_text: switch_waki_5000_subtype_text;
	}
}
//TODO GRAPHICS-LOADING STAGES FOR THESE

spriteset(spriteset_waki_10000_blue, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_waki_10000_green, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_waki_10000_brown, "gfx/freight/waki_5000.png") {
	template_2cc_std(1, 64)
}

//purchase
spriteset(spriteset_waki_10000_jnr_purchase, "gfx/freight/waki_5000.png") {
	template_purchase(1, 352)
}

spriteset(spriteset_waki_10000_jrf_purchase, "gfx/freight/waki_5000.png") {
	template_purchase(89, 352)
}

switch(FEAT_TRAINS, SELF, switch_waki_10000_yeardep_purchase, current_year) {
	0..1987: spriteset_waki_10000_jnr_purchase;
	spriteset_waki_10000_jrf_purchase;
}

random_switch (FEAT_TRAINS, SELF, random_waki_10000) {
	1: spriteset_waki_10000_brown;
	1: spriteset_waki_10000_blue;
	2: spriteset_waki_10000_green;
}

switch(FEAT_TRAINS, SELF, switch_waki_10000_livery, cargo_subtype) {
	1: spriteset_waki_10000_blue;
	2: spriteset_waki_10000_green;
	3: spriteset_waki_10000_brown;
	random_waki_10000;
}

switch(FEAT_TRAINS, SELF, switch_waki_10000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FBLUE);
	2: return string(STR_REFIT_FGREEN);
	3: return string(STR_REFIT_FBROWN);
	   return CB_RESULT_NO_TEXT;
	}

switch(FEAT_TRAINS, SELF, switch_waki_10000_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_waki_10000_livery;
    1:  spritegroup_boxvan8_doors_load;
}

item (FEAT_TRAINS, waki_10000, 1288) {

property {
	name: string(STR_NAME_WAKI_10000);
	introduction_date: date(1967,1,1);
	default_cargo_type: GOOD;
	cargo_capacity: 60; 
	refittable_cargo_classes: bitmask(CC_MAIL, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED);
	cargo_allow_refit: [BEER];
	cargo_disallow_refit: [PASS, COAL, LVST, WOOD, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, RFPR];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
graphics {
	cargo_capacity: return 60;
	default: switch_waki_10000_loadstack;
	purchase: switch_waki_10000_yeardep_purchase;
	cargo_subtype_text: switch_waki_10000_subtype_text;
	}
}
spriteset(spriteset_wamu_80000_brown1, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_wamu_80000_blue1, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_wamu_80000_blue2, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_wamu_80000_white1, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_wamu_80000_white2, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_wamu_80000_green1, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_wamu_80000_green2, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_wamu_80000_black, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_wamu_80000_brown2, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_wamu_80000_brown3, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_wamu_80000_brown4, "gfx/freight/wamu_80000.png") {
	template_2cc_std(1, 320)
}


spriteset(spriteset_wamu_80000_roof1, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 1)
}

spriteset(spriteset_wamu_80000_roof2, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 32)
}

spriteset(spriteset_wamu_80000_stripe1, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 64)
}

spriteset(spriteset_wamu_80000_stripe2, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 96)
}

spriteset(spriteset_wamu_80000_blank, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 128)
}

spriteset(spriteset_wamu_80000_empty, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 160)
}

spriteset(spriteset_wamu_80000_half, "gfx/freight/wamu_80000.png") {
	template_2cc_std(180, 192)
}

//purchase

spriteset(spriteset_wamu_80000_jnr_purchase, "gfx/freight/wamu_80000.png") {
	template_purchase(1, 384)
}

spriteset(spriteset_wamu_80000_jrf_purchase, "gfx/freight/wamu_80000.png") {
	template_purchase(89, 384)
}



//door overlay
spritegroup spritegroup_wamu_80000_load {
    loading: [spriteset_wamu_80000_empty, spriteset_wamu_80000_half, spriteset_wamu_80000_blank];
    loaded:  [spriteset_wamu_80000_blank];
}

//randoms

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_all) {
	8: spriteset_wamu_80000_brown1;
	1: spriteset_wamu_80000_blue1;
	2: spriteset_wamu_80000_blue2;
	1: spriteset_wamu_80000_green1;
	1: spriteset_wamu_80000_green2;
	6: spriteset_wamu_80000_brown2;
	5: spriteset_wamu_80000_black;	
	6: spriteset_wamu_80000_brown3;	
	2: spriteset_wamu_80000_brown4;	
}

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_brown) {
	5: spriteset_wamu_80000_brown1;
	4: spriteset_wamu_80000_brown2;
	4: spriteset_wamu_80000_brown3;
	2: spriteset_wamu_80000_brown4;
}

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_old) {
	8: spriteset_wamu_80000_brown1;
	4: spriteset_wamu_80000_brown2;
	4: spriteset_wamu_80000_brown3;
	5: spriteset_wamu_80000_black;
	1: spriteset_wamu_80000_white1;
	1: spriteset_wamu_80000_white2;
}

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_blue) {
	3: spriteset_wamu_80000_blue2;
	2: spriteset_wamu_80000_blue1;
}

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_white) {
	2: spriteset_wamu_80000_white1;
	3: spriteset_wamu_80000_white2;
}

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_green) {
	2: spriteset_wamu_80000_green1;
	3: spriteset_wamu_80000_green2;
}

/*
random_switch (FEAT_TRAINS, BACKWARD_SELF(1), random_wamu_80000_roof) {
	13: spriteset_wamu_80000_blank;
	1: spriteset_wamu_80000_roof1;
	2: spriteset_wamu_80000_roof2;

}

random_switch (FEAT_TRAINS, FORWARD_SELF(1), random_wamu_80000_stripe) {
	1: spriteset_wamu_80000_stripe1;
	1: spriteset_wamu_80000_stripe2;
	14: spriteset_wamu_80000_blank;
}
*/

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_roof) {
	13: spriteset_wamu_80000_blank;
	1: spriteset_wamu_80000_roof1;
	2: spriteset_wamu_80000_roof2;

}

random_switch (FEAT_TRAINS, SELF, random_wamu_80000_stripe) {
	independent: random_wamu_80000_roof;
	1: spriteset_wamu_80000_stripe1;
	1: spriteset_wamu_80000_stripe2;
	14: spriteset_wamu_80000_blank;
}




switch(FEAT_TRAINS, SELF, switch_wamu_80000_yeardep, build_year) {
	0..1990: random_wamu_80000_old;
	random_wamu_80000_all;
}

switch(FEAT_TRAINS, SELF, switch_wamu_80000_livery_stripe, cargo_subtype) {
	1: random_wamu_80000_stripe;
	2: random_wamu_80000_stripe;
	3: spriteset_wamu_80000_blank;
	4: random_wamu_80000_stripe;
	5: spriteset_wamu_80000_blank;
	random_wamu_80000_stripe;
}


switch(FEAT_TRAINS, SELF, switch_wamu_80000_livery, cargo_subtype) {
	1: random_wamu_80000_brown;
	2: random_wamu_80000_blue;
	3: random_wamu_80000_green;
	4: spriteset_wamu_80000_black;
	5: random_wamu_80000_white;
	switch_wamu_80000_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_wamu_80000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDYEAR);
	1: return string(STR_REFIT_FBROWN);
	2: return string(STR_REFIT_FBLUE);
	3: return string(STR_REFIT_FGREEN);
	4: return string(STR_REFIT_FBLACK);
	5: return string(STR_REFIT_FWHITE);
	   return CB_RESULT_NO_TEXT;
}

switch(FEAT_TRAINS, SELF, switch_wamu_80000_purchase, current_year) {
	0..1987: spriteset_wamu_80000_jnr_purchase;
	spriteset_wamu_80000_jrf_purchase;
	}
	
//stacked sprites

switch(FEAT_TRAINS, SELF, switch_wamu_80000_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 3 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_wamu_80000_livery;
	1:  random_wamu_80000_roof;
	2:  switch_wamu_80000_livery_stripe;
    3:  spritegroup_wamu_80000_load;
}


item (FEAT_TRAINS, wamu_80000, 51) {

property {
	name: string(STR_NAME_WAMU_80000);
	introduction_date: date(1958,1,1);
	default_cargo_type: GOOD;
	cargo_capacity: 50;
	refittable_cargo_classes: bitmask(CC_COVERED, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [PASS, COAL, IORE, CORE, AORE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SGBT, SGCN, TOUR, VEHI, KAOL];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
graphics {
	cargo_capacity: return 50;
	default: switch_wamu_80000_loadstack;
	purchase: switch_wamu_80000_purchase;
	cargo_subtype_text: switch_wamu_80000_subtype_text;
	}
}


//wamu 48000

spriteset(spriteset_wamu_480000_jrf_purchase, "gfx/freight/wamu_80000.png") {
	template_purchase(268, 384)
}

spriteset(spriteset_wamu_480000_empty, "gfx/freight/wamu_80000.png") {
	template_2cc_anim(180, 224)
}

spriteset(spriteset_wamu_480000_half, "gfx/freight/wamu_80000.png") {
	template_2cc_anim(180, 256)
}

spriteset(spriteset_wamu_480000_full, "gfx/freight/wamu_80000.png") {
	template_2cc_anim(180, 288)
}

spriteset(spriteset_wamu_480000_tarp, "gfx/freight/wamu_80000.png") {
	template_2cc_anim(180, 320)
}


spritegroup spritegroup_wamu_480000_load {
    loading: [spriteset_wamu_480000_empty, spriteset_wamu_480000_half, spriteset_wamu_480000_full];
    loaded:  [spriteset_wamu_480000_empty, spriteset_wamu_480000_half, spriteset_wamu_480000_full, spriteset_wamu_480000_tarp];
}


//stacked sprites

switch(FEAT_TRAINS, SELF, switch_wamu_480000_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  spriteset_wamu_80000_brown4;
    1:  spritegroup_wamu_480000_load;
}


item (FEAT_TRAINS, wamu_480000, 1462) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1998,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_WAMU_480000);
	speed: 75 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 50; 
	refit_cost: 0;
//	default_cargo_type: COAL;
//	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED); 
	loading_speed: 40;
	cargo_allow_refit: [GRAI, FICR, WOOD, WOOL, BEAN, SGCN, SGBT, OLSD, MAIZ, PEAT, SEED, FRUT, FRVG, TATO];
	cargo_disallow_refit: [COAL, IORE, CORE, PORE, CMNT];
	non_refittable_cargo_classes: 0;
	weight: 15;
	cost_factor: 8;
	length: 6;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
graphics {
	cargo_capacity: return 50;
	default: switch_wamu_480000_loadstack;
	purchase: spriteset_wamu_480000_jrf_purchase;
	colour_mapping: switch_generic_recolour;
	}
}

spriteset(spriteset_hoki_650_stripe, "gfx/freight/hoki_650.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hoki_650_black, "gfx/freight/hoki_650.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_hoki_650_purchase, "gfx/freight/hoki_650.png") {
	template_purchase(1, 256)
}


random_switch(FEAT_TRAINS, SELF, random_hoki_650_stripe) {
	1: spriteset_hoki_650_stripe;
	1: spriteset_hoki_650_black;
	}


switch(FEAT_TRAINS, SELF, switch_hoki_650_livery, cargo_subtype) {
	1: spriteset_hoki_650_stripe;
	2: spriteset_hoki_650_black;
	random_hoki_650_stripe;
}

switch(FEAT_TRAINS, SELF, switch_hoki_650_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FSTRIPE);
	2: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
	}




item (FEAT_TRAINS, hoki_650, 1444) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1971,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_HOKI_650);
	speed: 75 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 45; 
	refit_cost: 0;
//	default_cargo_type: COAL;
	loading_speed: 40;
	refittable_cargo_classes: bitmask(CC_COVERED); 
	non_refittable_cargo_classes: 0;
	cargo_allow_refit: [IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SULP]; 
	cargo_disallow_refit: [GRAI, BEAN, SGBT, WDPR, FICR, WOOL, POWR, BAKE, FURN, GLAS, MPTS, PAPR, TEXT];
	weight: 15;
	cost_factor: 13;
	length: 5;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 45;
	default: switch_hoki_650_livery;
	cargo_subtype_text: switch_hoki_650_subtype_text;
	purchase: spriteset_hoki_650_purchase;
	}
}
spriteset(spriteset_hoki_1000_a, "gfx/freight/hoki_1000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hoki_1000_b, "gfx/freight/hoki_1000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_hoki_1000_c, "gfx/freight/hoki_1000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_hoki_1000_d, "gfx/freight/hoki_1000.png") {
	template_2cc_std(1, 96)
}


spriteset(spriteset_hoki_1000_purchase, "gfx/freight/hoki_1000.png") {
	template_purchase(1, 128)
}


random_switch(FEAT_TRAINS, SELF, switch_hoki_1000_livery) {
	3: spriteset_hoki_1000_a;
    1: spriteset_hoki_1000_b;
	1: spriteset_hoki_1000_c;
    1: spriteset_hoki_1000_d;
}



item (FEAT_TRAINS, hoki_1000, 1410) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_HOKI_1000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1990,1,1);
		speed: 100 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 72; 
		refit_cost: 0;
		default_cargo_type: CMNT;
		loading_speed: 40;
		refittable_cargo_classes: bitmask(CC_COVERED); 
		non_refittable_cargo_classes: 0;
		cargo_disallow_refit: [GRAI, SGBT, WOOL, MAIZ, POWR, FURN, MPTS, PAPR, TEXT];
		weight: 15;
		cost_factor: 11;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 72;
		default: switch_hoki_1000_livery;
		purchase: spriteset_hoki_1000_purchase;
		refit_cost: CB_RESULT_AUTOREFIT;
	}
}
spriteset(spriteset_hoki_2200_cream, "gfx/freight/hoki_covered.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hoki_2200_white, "gfx/freight/hoki_covered.png") {
	template_2cc_std(1, 32)
}


spriteset(spriteset_hoki_2200_purchase, "gfx/freight/hoki_covered.png") {
	template_purchase(1, 96)
}


random_switch(FEAT_TRAINS, SELF, random_hoki_2200_cream) {
	1: spriteset_hoki_2200_cream;
	1: spriteset_hoki_2200_white;
	}


switch(FEAT_TRAINS, SELF, switch_hoki_2200_livery, cargo_subtype) {
	1: spriteset_hoki_2200_cream;
	2: spriteset_hoki_2200_white;
	random_hoki_2200_cream;
}

switch(FEAT_TRAINS, SELF, switch_hoki_2200_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FCREAM);
	2: return string(STR_REFIT_FWHITE);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, hoki_2200, 1291) {

property {
	introduction_date: date(1966,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_HOKI_2200);
	speed: 100 km/h;
	loading_speed: 40;
//	refittable_cargo_classes: bitmask(CC_COVERED); 
	non_refittable_cargo_classes: 0;
	cargo_allow_refit: [FOOD, GRAI, FICR, WOOD, WOOL, BEAN, SGCN, SGBT, OLSD, MAIZ, PEAT, SEED, BAKE, POTA];
	cargo_disallow_refit: [WOOL, WOOD];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 58;
	default: switch_hoki_2200_livery;
	cargo_subtype_text: switch_hoki_2200_subtype_text;
	purchase: spriteset_hoki_2200_purchase;
	}
}
spriteset(spriteset_hoki_2500_red_empty, "gfx/freight/hoki_2500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hoki_2500_red_quarter, "gfx/freight/hoki_2500.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_hoki_2500_red_half, "gfx/freight/hoki_2500.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_hoki_2500_red_full, "gfx/freight/hoki_2500.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_hoki_2500_red_cover, "gfx/freight/hoki_2500.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_hoki_2500_jnr_purchase, "gfx/freight/hoki_2500.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_hoki_2500_jrf_purchase, "gfx/freight/hoki_2500.png") {
	template_purchase(89, 256)
}




spritegroup spritegroup_hoki_2500_red_bulk {
    loading: [spriteset_hoki_2500_red_empty, spriteset_hoki_2500_red_quarter, spriteset_hoki_2500_red_half, spriteset_hoki_2500_red_full];
    loaded:  [spriteset_hoki_2500_red_empty, spriteset_hoki_2500_red_quarter, spriteset_hoki_2500_red_half, spriteset_hoki_2500_red_full];
}

spritegroup spritegroup_hoki_2500_red_cover {
    loading: [spriteset_hoki_2500_red_empty, spriteset_hoki_2500_red_quarter, spriteset_hoki_2500_red_half, spriteset_hoki_2500_red_full];
    loaded:  [spriteset_hoki_2500_red_empty, spriteset_hoki_2500_red_cover];
}

random_switch(FEAT_TRAINS, SELF, random_hoki_2500_cover) {
	2: spritegroup_hoki_2500_red_cover;
	1: spritegroup_hoki_2500_red_bulk;
	}



switch(FEAT_TRAINS, SELF, switch_hoki_2500_livery, cargo_subtype) {
	1: spritegroup_hoki_2500_red_bulk;
	2: spritegroup_hoki_2500_red_cover;
	random_hoki_2500_cover;
}

switch(FEAT_TRAINS, SELF, switch_hoki_2500_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FOPEN);
	2: return string(STR_REFIT_FCOVER);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_hoki_2500_purchase, current_year) {
	0..1987: spriteset_hoki_2500_jnr_purchase;
	spriteset_hoki_2500_jrf_purchase;
	}


item (FEAT_TRAINS, hoki_2500, 42) {

property {
	introduction_date: date(1970,1,1);
	name: string(STR_NAME_HOKI_2500);
	speed: 100 km/h;
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [GRAI, BEAN, SGBT, WDPR, FICR, WOOL, POWR, BAKE, FURN, GLAS, MPTS, PAPR, TEXT];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 55;
	default: switch_hoki_2500_livery;
	purchase: switch_hoki_2500_purchase;
	cargo_subtype_text: switch_hoki_2500_subtype_text;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_hoki_8300_black, "gfx/freight/hoki_covered.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_hoki_8300_logo, "gfx/freight/hoki_covered.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_hoki_8300_cream, "gfx/freight/hoki_covered.png") {
	template_2cc_std(1, 192)
}


spriteset(spriteset_hoki_8300_purchase, "gfx/freight/hoki_covered.png") {
	template_purchase(1, 256)
}



random_switch(FEAT_TRAINS, SELF, random_hoki_8300_all) {
	1: spriteset_hoki_8300_cream;
	1: spriteset_hoki_8300_black;
	1: spriteset_hoki_8300_logo;
	}
	
random_switch(FEAT_TRAINS, SELF, random_hoki_8300_black) {
	1: spriteset_hoki_8300_black;
	1: spriteset_hoki_8300_logo;
	}


switch(FEAT_TRAINS, SELF, switch_hoki_8300_livery, cargo_subtype) {
	1: random_hoki_8300_black;
	2: spriteset_hoki_8300_cream;
	random_hoki_8300_all;
}

switch(FEAT_TRAINS, SELF, switch_hoki_8300_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FBLACK);
	2: return string(STR_REFIT_FCREAM);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, hoki_8300, 1290) {

property {
	introduction_date: date(1974,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_HOKI_8300);
	speed: 100 km/h;
	loading_speed: 40;
//	refittable_cargo_classes: bitmask(CC_COVERED); 
	non_refittable_cargo_classes: 0;
	cargo_allow_refit: [GRAI, FICR, WOOD, WOOL, BEAN, SGCN, SGBT, OLSD, MAIZ, PEAT, SEED];
	cargo_disallow_refit: [WOOL, GLAS, WDPR];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 65;
	default: switch_hoki_8300_livery;
	cargo_subtype_text: switch_hoki_8300_subtype_text;
	purchase: spriteset_hoki_8300_purchase;
	}
}
spriteset(spriteset_hoki_8500_red_empty, "gfx/freight/hoki_8500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hoki_8500_red_quarter, "gfx/freight/hoki_8500.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_hoki_8500_red_half, "gfx/freight/hoki_8500.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_hoki_8500_red_full, "gfx/freight/hoki_8500.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_hoki_8500_black_empty, "gfx/freight/hoki_8500.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_hoki_8500_black_quarter, "gfx/freight/hoki_8500.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_hoki_8500_black_half, "gfx/freight/hoki_8500.png") {
	template_2cc_anim(1, 192)
}

spriteset(spriteset_hoki_8500_black_full, "gfx/freight/hoki_8500.png") {
	template_2cc_anim(1, 224)
}

spriteset(spriteset_hoki_8500_jnr_purchase, "gfx/freight/hoki_8500.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_hoki_8500_jrf_purchase, "gfx/freight/hoki_8500.png") {
	template_purchase(89, 256)
}


spritegroup spritegroup_hoki_8500_red_bulk {
    loading: [spriteset_hoki_8500_red_empty, spriteset_hoki_8500_red_quarter, spriteset_hoki_8500_red_half, spriteset_hoki_8500_red_full];
    loaded:  [spriteset_hoki_8500_red_empty, spriteset_hoki_8500_red_quarter, spriteset_hoki_8500_red_half, spriteset_hoki_8500_red_full];
}

spritegroup spritegroup_hoki_8500_black_bulk {
    loading: [spriteset_hoki_8500_black_empty, spriteset_hoki_8500_black_quarter, spriteset_hoki_8500_black_half, spriteset_hoki_8500_black_full];
    loaded:  [spriteset_hoki_8500_black_empty, spriteset_hoki_8500_black_quarter, spriteset_hoki_8500_black_half, spriteset_hoki_8500_black_full];
}

random_switch(FEAT_TRAINS, SELF, random_hoki_8500_livery) {
	1: spritegroup_hoki_8500_red_bulk;
	1: spritegroup_hoki_8500_black_bulk;
}	





switch(FEAT_TRAINS, SELF, switch_hoki_8500_purchase, current_year) {
	0..1987: spriteset_hoki_8500_jnr_purchase;
	spriteset_hoki_8500_jrf_purchase;
	}


item (FEAT_TRAINS, hoki_8500, 1285) {

property {
	introduction_date: date(1967,1,1);
	name: string(STR_NAME_HOKI_8500);
	speed: 100 km/h;
	refittable_cargo_classes: bitmask(CC_BULK); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [GRAI, BEAN, MAIZ, SEED, WDPR, WOOL, FICR, BAKE, GLAS, WDPR];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 60;
	default: random_hoki_8500_livery;
	purchase: switch_hoki_8500_purchase;
//	cargo_subtype_text: switch_hoki_8500_subtype_text;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_hoki_10000_cc_empty, "gfx/freight/hoki_10000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_hoki_10000_cc_quarter, "gfx/freight/hoki_10000.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_hoki_10000_cc_half, "gfx/freight/hoki_10000.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_hoki_10000_cc_full, "gfx/freight/hoki_10000.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_hoki_10000_black_empty, "gfx/freight/hoki_10000.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_hoki_10000_black_quarter, "gfx/freight/hoki_10000.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_hoki_10000_black_half, "gfx/freight/hoki_10000.png") {
	template_2cc_anim(1, 192)
}

spriteset(spriteset_hoki_10000_black_full, "gfx/freight/hoki_10000.png") {
	template_2cc_anim(1, 224)
}

spriteset(spriteset_hoki_10000_jnr_purchase, "gfx/freight/hoki_10000.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_hoki_10000_jrf_purchase, "gfx/freight/hoki_10000.png") {
	template_purchase(89, 256)
}


spritegroup spritegroup_hoki_10000_cc_bulk {
    loading: [spriteset_hoki_10000_cc_empty, spriteset_hoki_10000_cc_quarter, spriteset_hoki_10000_cc_half, spriteset_hoki_10000_cc_full];
    loaded:  [spriteset_hoki_10000_cc_empty, spriteset_hoki_10000_cc_quarter, spriteset_hoki_10000_cc_half, spriteset_hoki_10000_cc_full];
}

spritegroup spritegroup_hoki_10000_black_bulk {
    loading: [spriteset_hoki_10000_black_empty, spriteset_hoki_10000_black_quarter, spriteset_hoki_10000_black_half, spriteset_hoki_10000_black_full];
    loaded:  [spriteset_hoki_10000_black_empty, spriteset_hoki_10000_black_quarter, spriteset_hoki_10000_black_half, spriteset_hoki_10000_black_full];
}

random_switch(FEAT_TRAINS, SELF, random_hoki_10000_livery) {
	1: spritegroup_hoki_10000_cc_bulk;
	1: spritegroup_hoki_10000_black_bulk;
}	





switch(FEAT_TRAINS, SELF, switch_hoki_10000_purchase, current_year) {
	0..1987: spriteset_hoki_10000_jnr_purchase;
	spriteset_hoki_10000_jrf_purchase;
	}


item (FEAT_TRAINS, hoki_10000, 52) {

property {
	introduction_date: date(1980,1,1);
	name: string(STR_NAME_HOKI_10000);
	speed: 100 km/h;
	refittable_cargo_classes: bitmask(CC_BULK); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [GRAI, BEAN, MAIZ, SEED, WDPR, WOOL, FICR, BAKE, GLAS, WDPR];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 70;
	default: random_hoki_10000_livery;
	purchase: switch_hoki_10000_purchase;
//	cargo_subtype_text: switch_hoki_10000_subtype_text;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_se_1_stripe_empty, "gfx/freight/se_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_se_1_stripe_half, "gfx/freight/se_1.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_se_1_stripe_full, "gfx/freight/se_1.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_se_1_logo_empty, "gfx/freight/se_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_se_1_logo_half, "gfx/freight/se_1.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_se_1_logo_full, "gfx/freight/se_1.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_se_1_black_empty, "gfx/freight/se_1.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_se_1_black_half, "gfx/freight/se_1.png") {
	template_2cc_anim(1, 224)
}

spriteset(spriteset_se_1_black_full, "gfx/freight/se_1.png") {
	template_2cc_anim(1, 256)
}


spriteset(spriteset_se_1_jgr_purchase, "gfx/freight/se_1.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_se_1_jnr_purchase, "gfx/freight/se_1.png") {
	template_purchase(89, 288)
}



spritegroup spritegroup_se_1_stripe_bulk {
    loading: [spriteset_se_1_stripe_empty, spriteset_se_1_stripe_half, spriteset_se_1_stripe_full];
    loaded:  [spriteset_se_1_stripe_empty, spriteset_se_1_stripe_half, spriteset_se_1_stripe_full];
}

spritegroup spritegroup_se_1_logo_bulk {
    loading: [spriteset_se_1_logo_empty, spriteset_se_1_logo_half, spriteset_se_1_logo_full];
    loaded:  [spriteset_se_1_logo_empty, spriteset_se_1_logo_half, spriteset_se_1_logo_full];
}

spritegroup spritegroup_se_1_black_bulk {
    loading: [spriteset_se_1_black_empty, spriteset_se_1_black_half, spriteset_se_1_black_full];
    loaded:  [spriteset_se_1_black_empty, spriteset_se_1_black_half, spriteset_se_1_black_full];
}


random_switch(FEAT_TRAINS, SELF, random_se_1_black) {
	1: spritegroup_se_1_logo_bulk;
	1: spritegroup_se_1_black_bulk;
	}
	
random_switch(FEAT_TRAINS, SELF, random_se_1_all) {
	1: spritegroup_se_1_logo_bulk;
	1: spritegroup_se_1_black_bulk;
	1: spritegroup_se_1_stripe_bulk;
	}



switch(FEAT_TRAINS, SELF, switch_se_1_livery, cargo_subtype) {
	1: spritegroup_se_1_stripe_bulk;
	2: random_se_1_black;
	random_se_1_all;
}

switch(FEAT_TRAINS, SELF, switch_se_1_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FSTRIPE);
	2: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, se_1, 1439) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1870,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_SE_1);
	speed: 60 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 20; 
	refit_cost: 0;
//	default_cargo_type: COAL;
	loading_speed: 40;
	refittable_cargo_classes: bitmask(CC_BULK); 
	non_refittable_cargo_classes: 0; 
//	cargo_allow_refit: [COAL, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, SULP, FRUT]; 
	cargo_disallow_refit: [GRAI, BEAN, MAIZ, SEED, WDPR, WOOL, FICR, BAKE, GLAS, WDPR];
	weight: 9;
	cost_factor: 6;
	length: 4;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 20;
	default: switch_se_1_livery;
	cargo_subtype_text: switch_se_1_subtype_text;
	purchase: spriteset_se_1_jgr_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_seki_1_stripe_empty, "gfx/freight/seki_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_seki_1_stripe_quarter, "gfx/freight/seki_1.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_seki_1_stripe_half, "gfx/freight/seki_1.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_seki_1_stripe_full, "gfx/freight/seki_1.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_seki_1_black_empty, "gfx/freight/seki_1.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_seki_1_black_quarter, "gfx/freight/seki_1.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_seki_1_black_half, "gfx/freight/seki_1.png") {
	template_2cc_anim(1, 192)
}

spriteset(spriteset_seki_1_black_full, "gfx/freight/seki_1.png") {
	template_2cc_anim(1, 224)
}


spriteset(spriteset_seki_1_purchase, "gfx/freight/seki_1.png") {
	template_purchase(89, 256)
}



spritegroup spritegroup_seki_1_stripe_bulk {
    loading: [spriteset_seki_1_stripe_empty, spriteset_seki_1_stripe_quarter, spriteset_seki_1_stripe_half, spriteset_seki_1_stripe_full];
    loaded:  [spriteset_seki_1_stripe_empty, spriteset_seki_1_stripe_quarter, spriteset_seki_1_stripe_half, spriteset_seki_1_stripe_full];
}


spritegroup spritegroup_seki_1_black_bulk {
    loading: [spriteset_seki_1_black_empty, spriteset_seki_1_black_quarter, spriteset_seki_1_black_half, spriteset_seki_1_black_full];
    loaded:  [spriteset_seki_1_black_empty, spriteset_seki_1_black_quarter, spriteset_seki_1_black_half, spriteset_seki_1_black_full];
}


random_switch(FEAT_TRAINS, SELF, random_seki_1_stripe) {
	1: spritegroup_seki_1_stripe_bulk;
	1: spritegroup_seki_1_black_bulk;
	}


switch(FEAT_TRAINS, SELF, switch_seki_1_livery, cargo_subtype) {
	1: spritegroup_seki_1_stripe_bulk;
	2: spritegroup_seki_1_black_bulk;
	random_seki_1_stripe;
}

switch(FEAT_TRAINS, SELF, switch_seki_1_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FSTRIPE);
	2: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, seki_1, 1441) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1911,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_SEKI_1);
	speed: 65 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 35; 
	refit_cost: 0;
//	default_cargo_type: COAL;
	loading_speed: 40;
	refittable_cargo_classes: bitmask(CC_BULK); 
	non_refittable_cargo_classes: 0; 
//	cargo_allow_refit: [COAL, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, SULP, FRUT]; 
	cargo_disallow_refit: [GRAI, BEAN, MAIZ, SEED, WDPR, WOOL, FICR, BAKE, GLAS, WDPR];
	weight: 13;
	cost_factor: 9;
	length: 5;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 35;
	default: switch_seki_1_livery;
	cargo_subtype_text: switch_seki_1_subtype_text;
	purchase: spriteset_seki_1_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_seki_1000_stripe, "gfx/freight/seki_1000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_seki_1000_black, "gfx/freight/seki_1000.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_seki_1000_purchase, "gfx/freight/seki_1000.png") {
	template_purchase(1, 256)
}



random_switch(FEAT_TRAINS, SELF, random_seki_1000_stripe) {
	1: spriteset_seki_1000_stripe;
	1: spriteset_seki_1000_black;
	}


switch(FEAT_TRAINS, SELF, switch_seki_1000_livery, cargo_subtype) {
	1: spriteset_seki_1000_stripe;
	2: spriteset_seki_1000_black;
	random_seki_1000_stripe;
}

switch(FEAT_TRAINS, SELF, switch_seki_1000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FSTRIPE);
	2: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, seki_1000, 1442) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1951,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_SEKI_1000);
	speed: 75 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 45; 
	refit_cost: 0;
//	default_cargo_type: COAL;
	loading_speed: 40;
	refittable_cargo_classes: bitmask(CC_COVERED); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [GRAI, BEAN, SGBT, WDPR, FICR, WOOL, POWR, BAKE, FURN, GLAS, MPTS, PAPR, TEXT];
	weight: 15;
	cost_factor: 13;
	length: 5;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 45;
	default: switch_seki_1000_livery;
	cargo_subtype_text: switch_seki_1000_subtype_text;
	purchase: spriteset_seki_1000_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_seki_3000_stripe_empty, "gfx/freight/seki_3000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_seki_3000_stripe_quarter, "gfx/freight/seki_3000.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_seki_3000_stripe_half, "gfx/freight/seki_3000.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_seki_3000_stripe_full, "gfx/freight/seki_3000.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_seki_3000_black_empty, "gfx/freight/seki_3000.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_seki_3000_black_quarter, "gfx/freight/seki_3000.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_seki_3000_black_half, "gfx/freight/seki_3000.png") {
	template_2cc_anim(1, 192)
}

spriteset(spriteset_seki_3000_black_full, "gfx/freight/seki_3000.png") {
	template_2cc_anim(1, 224)
}


spriteset(spriteset_seki_3000_purchase, "gfx/freight/seki_3000.png") {
	template_purchase(1, 256)
}



spritegroup spritegroup_seki_3000_stripe_bulk {
    loading: [spriteset_seki_3000_stripe_empty, spriteset_seki_3000_stripe_quarter, spriteset_seki_3000_stripe_half, spriteset_seki_3000_stripe_full];
    loaded:  [spriteset_seki_3000_stripe_empty, spriteset_seki_3000_stripe_quarter, spriteset_seki_3000_stripe_half, spriteset_seki_3000_stripe_full];
}


spritegroup spritegroup_seki_3000_black_bulk {
    loading: [spriteset_seki_3000_black_empty, spriteset_seki_3000_black_quarter, spriteset_seki_3000_black_half, spriteset_seki_3000_black_full];
    loaded:  [spriteset_seki_3000_black_empty, spriteset_seki_3000_black_quarter, spriteset_seki_3000_black_half, spriteset_seki_3000_black_full];
}


random_switch(FEAT_TRAINS, SELF, random_seki_3000_stripe) {
	1: spritegroup_seki_3000_stripe_bulk;
	1: spritegroup_seki_3000_black_bulk;
	}


switch(FEAT_TRAINS, SELF, switch_seki_3000_livery, cargo_subtype) {
	1: spritegroup_seki_3000_stripe_bulk;
	2: spritegroup_seki_3000_black_bulk;
	random_seki_3000_stripe;
}

switch(FEAT_TRAINS, SELF, switch_seki_3000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FSTRIPE);
	2: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, seki_3000, 1443) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1951,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_SEKI_3000);
	speed: 75 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 45; 
	refit_cost: 0;
//	default_cargo_type: COAL;
	loading_speed: 40;
	refittable_cargo_classes: bitmask(CC_BULK); 
	non_refittable_cargo_classes: 0; 
//	cargo_allow_refit: [COAL, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, SULP, FRUT]; 
	cargo_disallow_refit: [GRAI, BEAN, MAIZ, SEED, WDPR, WOOL, FICR, BAKE, GLAS, WDPR];
	weight: 14;
	cost_factor: 11;
	length: 5;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 45;
	default: switch_seki_3000_livery;
	cargo_subtype_text: switch_seki_3000_subtype_text;
	purchase: spriteset_seki_3000_purchase;
	colour_mapping: switch_generic_recolour;
	}
}

spriteset(spriteset_koki_71_empty, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_71_closed, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_71_purchase, "gfx/freight/koki_71_cars.png") {
	template_purchase(1, 352)
}



spriteset(spriteset_koki_71_cars_a_half, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_71_cars_a_full, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_71_cars_b_half, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_71_cars_b_full, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_koki_71_cars_c_half, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_71_cars_c_full, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 192)
}


spriteset(spriteset_koki_71_cars_d_half, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_71_cars_d_full, "gfx/freight/koki_71_cars.png") {
	template_2cc_std(1, 256)
}




spriteset(spriteset_koki_71_conts_a_half, "gfx/freight/koki_71_conts.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_71_conts_a_full, "gfx/freight/koki_71_conts.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_71_conts_b_half, "gfx/freight/koki_71_conts.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_71_conts_b_full, "gfx/freight/koki_71_conts.png") {
	template_2cc_std(1, 128)
}



spritegroup spritegroup_koki_71_cars_a {
    loading: [spriteset_koki_71_empty, spriteset_koki_71_cars_a_half, spriteset_koki_71_cars_a_full, spriteset_koki_71_closed];
    loaded: [spriteset_koki_71_empty, spriteset_koki_71_cars_a_half, spriteset_koki_71_cars_a_full, spriteset_koki_71_closed];
}

spritegroup spritegroup_koki_71_cars_b {
    loading: [spriteset_koki_71_empty, spriteset_koki_71_cars_b_half, spriteset_koki_71_cars_b_full, spriteset_koki_71_closed];
    loaded: [spriteset_koki_71_empty, spriteset_koki_71_cars_b_half, spriteset_koki_71_cars_b_full, spriteset_koki_71_closed];
}

spritegroup spritegroup_koki_71_cars_c {
    loading: [spriteset_koki_71_empty, spriteset_koki_71_cars_c_half, spriteset_koki_71_cars_c_full, spriteset_koki_71_closed];
    loaded: [spriteset_koki_71_empty, spriteset_koki_71_cars_c_half, spriteset_koki_71_cars_c_full, spriteset_koki_71_closed];
}

spritegroup spritegroup_koki_71_cars_d {
    loading: [spriteset_koki_71_empty, spriteset_koki_71_cars_d_half, spriteset_koki_71_cars_d_full, spriteset_koki_71_closed];
    loaded: [spriteset_koki_71_empty, spriteset_koki_71_cars_d_half, spriteset_koki_71_cars_d_full, spriteset_koki_71_closed];
}


spritegroup spritegroup_koki_71_conts_a {
    loading: [spriteset_koki_71_empty, spriteset_koki_71_conts_a_half, spriteset_koki_71_conts_a_full, spriteset_koki_71_closed];
    loaded: [spriteset_koki_71_empty, spriteset_koki_71_conts_a_half, spriteset_koki_71_conts_a_full, spriteset_koki_71_closed];
}

spritegroup spritegroup_koki_71_conts_b {
    loading: [spriteset_koki_71_empty, spriteset_koki_71_conts_b_half, spriteset_koki_71_conts_b_full, spriteset_koki_71_closed];
    loaded: [spriteset_koki_71_empty, spriteset_koki_71_conts_b_half, spriteset_koki_71_conts_b_full, spriteset_koki_71_closed];
}


random_switch(FEAT_TRAINS, SELF, switch_koki_71_cars_random) {
	1: spritegroup_koki_71_cars_a;
	1: spritegroup_koki_71_cars_b;
	1: spritegroup_koki_71_cars_c;
	1: spritegroup_koki_71_cars_d;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_71_conts_random) {
	1: spritegroup_koki_71_conts_a;
	1: spritegroup_koki_71_conts_b;
}

switch(FEAT_TRAINS, SELF, switch_koki_71_cargo_type, cargo_type_in_veh) {
	VEHI: switch_koki_71_cars_random;
	switch_koki_71_conts_random;
	}
	
	switch(FEAT_TRAINS, SELF, switch_koki_71_cargo_capacity, cargo_type_in_veh) {
	VEHI: return 50;
	return 75;
	}



item (FEAT_TRAINS, koki_71, 43) {

property {
	name: string(STR_NAME_KOKI_71);
	default_cargo_type: VEHI;
	refittable_cargo_classes: bitmask(CC_EXPRESS, CC_MAIL); 
	non_refittable_cargo_classes: 0; 
	cargo_allow_refit: [VEHI, VPTS, VBOD, PAPR, RCYC, PIPE, POWR]; 
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	default: switch_koki_71_cargo_type;
	purchase: spriteset_koki_71_purchase;
	cargo_capacity: switch_koki_71_cargo_capacity;
	}
}
spriteset(spriteset_ku_5000_jnr_purchase, "gfx/freight/ku_red_a.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_ku_5000_jrf_purchase, "gfx/freight/ku_rwb_a.png") {
	template_purchase(1, 256)
}


//RED

//a

spriteset(spriteset_ku_red_a_empty, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_red_a_1a, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_red_a_1b, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_red_a_1c, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_red_a_2a, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_red_a_2b, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_red_a_2c, "gfx/freight/ku_red_a.png") {
	template_2cc_std(1, 224)
}

//b

spriteset(spriteset_ku_red_b_empty, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_red_b_1a, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_red_b_1b, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_red_b_1c, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_red_b_2a, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_red_b_2b, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_red_b_2c, "gfx/freight/ku_red_b.png") {
	template_2cc_std(1, 224)
}


//flipped cars_a

//blue

spriteset(spriteset_flip_ku_red_a_empty, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_red_a_1a, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_red_a_1b, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_red_a_1c, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_red_a_2a, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_red_a_2b, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_red_a_2c, "gfx/freight/ku_red_a.png") {
	template_2cc_flip(1, 224)
}

//green

spriteset(spriteset_flip_ku_red_b_empty, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_red_b_1a, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_red_b_1b, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_red_b_1c, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_red_b_2a, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_red_b_2b, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_red_b_2c, "gfx/freight/ku_red_b.png") {
	template_2cc_flip(1, 224)
}


//cars spritegroups

spritegroup spritegroup_ku_red_a_1 {
    loading: [spriteset_ku_red_a_empty, spriteset_ku_red_a_1a, spriteset_ku_red_a_1b, spriteset_ku_red_a_1c];
    loaded: [spriteset_ku_red_a_empty, spriteset_ku_red_a_1a, spriteset_ku_red_a_1b, spriteset_ku_red_a_1c];
}

spritegroup spritegroup_ku_red_a_2 {
    loading: [spriteset_ku_red_a_empty, spriteset_ku_red_a_2a, spriteset_ku_red_a_2b, spriteset_ku_red_a_2c];
    loaded: [spriteset_ku_red_a_empty, spriteset_ku_red_a_2a, spriteset_ku_red_a_2b, spriteset_ku_red_a_2c];
}

spritegroup spritegroup_ku_red_a_3 {
    loading: [spriteset_ku_red_a_empty, spriteset_flip_ku_red_a_1a, spriteset_flip_ku_red_a_1b, spriteset_flip_ku_red_a_1c];
    loaded: [spriteset_ku_red_a_empty, spriteset_flip_ku_red_a_1a, spriteset_flip_ku_red_a_1b, spriteset_flip_ku_red_a_1c];
}

spritegroup spritegroup_ku_red_a_4 {
    loading: [spriteset_ku_red_a_empty, spriteset_flip_ku_red_a_2a, spriteset_flip_ku_red_a_2b, spriteset_flip_ku_red_a_2c];
    loaded: [spriteset_ku_red_a_empty, spriteset_flip_ku_red_a_2a, spriteset_flip_ku_red_a_2b, spriteset_flip_ku_red_a_2c];
}


spritegroup spritegroup_ku_red_b_1 {
    loading: [spriteset_ku_red_b_empty, spriteset_ku_red_b_1a, spriteset_ku_red_b_1b, spriteset_ku_red_b_1c];
    loaded: [spriteset_ku_red_b_empty, spriteset_ku_red_b_1a, spriteset_ku_red_b_1b, spriteset_ku_red_b_1c];
}

spritegroup spritegroup_ku_red_b_2 {
    loading: [spriteset_ku_red_b_empty, spriteset_ku_red_b_2a, spriteset_ku_red_b_2b, spriteset_ku_red_b_2c];
    loaded: [spriteset_ku_red_b_empty, spriteset_ku_red_b_2a, spriteset_ku_red_b_2b, spriteset_ku_red_b_2c];
}

spritegroup spritegroup_ku_red_b_3 {
    loading: [spriteset_ku_red_b_empty, spriteset_flip_ku_red_b_1a, spriteset_flip_ku_red_b_1b, spriteset_flip_ku_red_b_1c];
    loaded: [spriteset_ku_red_b_empty, spriteset_flip_ku_red_b_1a, spriteset_flip_ku_red_b_1b, spriteset_flip_ku_red_b_1c];
}

spritegroup spritegroup_ku_red_b_4 {
    loading: [spriteset_ku_red_b_empty, spriteset_flip_ku_red_b_2a, spriteset_flip_ku_red_b_2b, spriteset_flip_ku_red_b_2c];
    loaded: [spriteset_ku_red_b_empty, spriteset_flip_ku_red_b_2a, spriteset_flip_ku_red_b_2b, spriteset_flip_ku_red_b_2c];
}




//RWB Nissan

//a

spriteset(spriteset_ku_rwb_a_empty, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_rwb_a_1a, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_rwb_a_1b, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_rwb_a_1c, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_rwb_a_2a, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_rwb_a_2b, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_rwb_a_2c, "gfx/freight/ku_rwb_a.png") {
	template_2cc_std(1, 224)
}

//b

spriteset(spriteset_ku_rwb_b_empty, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_rwb_b_1a, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_rwb_b_1b, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_rwb_b_1c, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_rwb_b_2a, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_rwb_b_2b, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_rwb_b_2c, "gfx/freight/ku_rwb_b.png") {
	template_2cc_std(1, 224)
}


//flipped cars_a

//blue

spriteset(spriteset_flip_ku_rwb_a_empty, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_rwb_a_1a, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_rwb_a_1b, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_rwb_a_1c, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_rwb_a_2a, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_rwb_a_2b, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_rwb_a_2c, "gfx/freight/ku_rwb_a.png") {
	template_2cc_flip(1, 224)
}

//green

spriteset(spriteset_flip_ku_rwb_b_empty, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_rwb_b_1a, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_rwb_b_1b, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_rwb_b_1c, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_rwb_b_2a, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_rwb_b_2b, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_rwb_b_2c, "gfx/freight/ku_rwb_b.png") {
	template_2cc_flip(1, 224)
}


//cars spritegroups

spritegroup spritegroup_ku_rwb_a_1 {
    loading: [spriteset_ku_rwb_a_empty, spriteset_ku_rwb_a_1a, spriteset_ku_rwb_a_1b, spriteset_ku_rwb_a_1c];
    loaded: [spriteset_ku_rwb_a_empty, spriteset_ku_rwb_a_1a, spriteset_ku_rwb_a_1b, spriteset_ku_rwb_a_1c];
}

spritegroup spritegroup_ku_rwb_a_2 {
    loading: [spriteset_ku_rwb_a_empty, spriteset_ku_rwb_a_2a, spriteset_ku_rwb_a_2b, spriteset_ku_rwb_a_2c];
    loaded: [spriteset_ku_rwb_a_empty, spriteset_ku_rwb_a_2a, spriteset_ku_rwb_a_2b, spriteset_ku_rwb_a_2c];
}

spritegroup spritegroup_ku_rwb_a_3 {
    loading: [spriteset_ku_rwb_a_empty, spriteset_flip_ku_rwb_a_1a, spriteset_flip_ku_rwb_a_1b, spriteset_flip_ku_rwb_a_1c];
    loaded: [spriteset_ku_rwb_a_empty, spriteset_flip_ku_rwb_a_1a, spriteset_flip_ku_rwb_a_1b, spriteset_flip_ku_rwb_a_1c];
}

spritegroup spritegroup_ku_rwb_a_4 {
    loading: [spriteset_ku_rwb_a_empty, spriteset_flip_ku_rwb_a_2a, spriteset_flip_ku_rwb_a_2b, spriteset_flip_ku_rwb_a_2c];
    loaded: [spriteset_ku_rwb_a_empty, spriteset_flip_ku_rwb_a_2a, spriteset_flip_ku_rwb_a_2b, spriteset_flip_ku_rwb_a_2c];
}


spritegroup spritegroup_ku_rwb_b_1 {
    loading: [spriteset_ku_rwb_b_empty, spriteset_ku_rwb_b_1a, spriteset_ku_rwb_b_1b, spriteset_ku_rwb_b_1c];
    loaded: [spriteset_ku_rwb_b_empty, spriteset_ku_rwb_b_1a, spriteset_ku_rwb_b_1b, spriteset_ku_rwb_b_1c];
}

spritegroup spritegroup_ku_rwb_b_2 {
    loading: [spriteset_ku_rwb_b_empty, spriteset_ku_rwb_b_2a, spriteset_ku_rwb_b_2b, spriteset_ku_rwb_b_2c];
    loaded: [spriteset_ku_rwb_b_empty, spriteset_ku_rwb_b_2a, spriteset_ku_rwb_b_2b, spriteset_ku_rwb_b_2c];
}

spritegroup spritegroup_ku_rwb_b_3 {
    loading: [spriteset_ku_rwb_b_empty, spriteset_flip_ku_rwb_b_1a, spriteset_flip_ku_rwb_b_1b, spriteset_flip_ku_rwb_b_1c];
    loaded: [spriteset_ku_rwb_b_empty, spriteset_flip_ku_rwb_b_1a, spriteset_flip_ku_rwb_b_1b, spriteset_flip_ku_rwb_b_1c];
}

spritegroup spritegroup_ku_rwb_b_4 {
    loading: [spriteset_ku_rwb_b_empty, spriteset_flip_ku_rwb_b_2a, spriteset_flip_ku_rwb_b_2b, spriteset_flip_ku_rwb_b_2c];
    loaded: [spriteset_ku_rwb_b_empty, spriteset_flip_ku_rwb_b_2a, spriteset_flip_ku_rwb_b_2b, spriteset_flip_ku_rwb_b_2c];
}


//RED BLUE

//a

spriteset(spriteset_ku_rb_a_empty, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_rb_a_1a, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_rb_a_1b, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_rb_a_1c, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_rb_a_2a, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_rb_a_2b, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_rb_a_2c, "gfx/freight/ku_rb_a.png") {
	template_2cc_std(1, 224)
}

//b

spriteset(spriteset_ku_rb_b_empty, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_rb_b_1a, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_rb_b_1b, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_rb_b_1c, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_rb_b_2a, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_rb_b_2b, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_rb_b_2c, "gfx/freight/ku_rb_b.png") {
	template_2cc_std(1, 224)
}


//flipped cars_a

//blue

spriteset(spriteset_flip_ku_rb_a_empty, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_rb_a_1a, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_rb_a_1b, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_rb_a_1c, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_rb_a_2a, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_rb_a_2b, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_rb_a_2c, "gfx/freight/ku_rb_a.png") {
	template_2cc_flip(1, 224)
}

//green

spriteset(spriteset_flip_ku_rb_b_empty, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_rb_b_1a, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_rb_b_1b, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_rb_b_1c, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_rb_b_2a, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_rb_b_2b, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_rb_b_2c, "gfx/freight/ku_rb_b.png") {
	template_2cc_flip(1, 224)
}


//cars spritegroups

spritegroup spritegroup_ku_rb_a_1 {
    loading: [spriteset_ku_rb_a_empty, spriteset_ku_rb_a_1a, spriteset_ku_rb_a_1b, spriteset_ku_rb_a_1c];
    loaded: [spriteset_ku_rb_a_empty, spriteset_ku_rb_a_1a, spriteset_ku_rb_a_1b, spriteset_ku_rb_a_1c];
}

spritegroup spritegroup_ku_rb_a_2 {
    loading: [spriteset_ku_rb_a_empty, spriteset_ku_rb_a_2a, spriteset_ku_rb_a_2b, spriteset_ku_rb_a_2c];
    loaded: [spriteset_ku_rb_a_empty, spriteset_ku_rb_a_2a, spriteset_ku_rb_a_2b, spriteset_ku_rb_a_2c];
}

spritegroup spritegroup_ku_rb_a_3 {
    loading: [spriteset_ku_rb_a_empty, spriteset_flip_ku_rb_a_1a, spriteset_flip_ku_rb_a_1b, spriteset_flip_ku_rb_a_1c];
    loaded: [spriteset_ku_rb_a_empty, spriteset_flip_ku_rb_a_1a, spriteset_flip_ku_rb_a_1b, spriteset_flip_ku_rb_a_1c];
}

spritegroup spritegroup_ku_rb_a_4 {
    loading: [spriteset_ku_rb_a_empty, spriteset_flip_ku_rb_a_2a, spriteset_flip_ku_rb_a_2b, spriteset_flip_ku_rb_a_2c];
    loaded: [spriteset_ku_rb_a_empty, spriteset_flip_ku_rb_a_2a, spriteset_flip_ku_rb_a_2b, spriteset_flip_ku_rb_a_2c];
}


spritegroup spritegroup_ku_rb_b_1 {
    loading: [spriteset_ku_rb_b_empty, spriteset_ku_rb_b_1a, spriteset_ku_rb_b_1b, spriteset_ku_rb_b_1c];
    loaded: [spriteset_ku_rb_b_empty, spriteset_ku_rb_b_1a, spriteset_ku_rb_b_1b, spriteset_ku_rb_b_1c];
}

spritegroup spritegroup_ku_rb_b_2 {
    loading: [spriteset_ku_rb_b_empty, spriteset_ku_rb_b_2a, spriteset_ku_rb_b_2b, spriteset_ku_rb_b_2c];
    loaded: [spriteset_ku_rb_b_empty, spriteset_ku_rb_b_2a, spriteset_ku_rb_b_2b, spriteset_ku_rb_b_2c];
}

spritegroup spritegroup_ku_rb_b_3 {
    loading: [spriteset_ku_rb_b_empty, spriteset_flip_ku_rb_b_1a, spriteset_flip_ku_rb_b_1b, spriteset_flip_ku_rb_b_1c];
    loaded: [spriteset_ku_rb_b_empty, spriteset_flip_ku_rb_b_1a, spriteset_flip_ku_rb_b_1b, spriteset_flip_ku_rb_b_1c];
}

spritegroup spritegroup_ku_rb_b_4 {
    loading: [spriteset_ku_rb_b_empty, spriteset_flip_ku_rb_b_2a, spriteset_flip_ku_rb_b_2b, spriteset_flip_ku_rb_b_2c];
    loaded: [spriteset_ku_rb_b_empty, spriteset_flip_ku_rb_b_2a, spriteset_flip_ku_rb_b_2b, spriteset_flip_ku_rb_b_2c];
}

//CARS CC

//a

spriteset(spriteset_ku_cc_a_empty, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_cc_a_1a, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_cc_a_1b, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_cc_a_1c, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_cc_a_2a, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_cc_a_2b, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_cc_a_2c, "gfx/freight/ku_cc_a.png") {
	template_2cc_std(1, 224)
}

//b

spriteset(spriteset_ku_cc_b_empty, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ku_cc_b_1a, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ku_cc_b_1b, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ku_cc_b_1c, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ku_cc_b_2a, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_ku_cc_b_2b, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_ku_cc_b_2c, "gfx/freight/ku_cc_b.png") {
	template_2cc_std(1, 224)
}


//flipped cars_a

//blue

spriteset(spriteset_flip_ku_cc_a_empty, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_cc_a_1a, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_cc_a_1b, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_cc_a_1c, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_cc_a_2a, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_cc_a_2b, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_cc_a_2c, "gfx/freight/ku_cc_a.png") {
	template_2cc_flip(1, 224)
}

//green

spriteset(spriteset_flip_ku_cc_b_empty, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_ku_cc_b_1a, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_ku_cc_b_1b, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_ku_cc_b_1c, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_ku_cc_b_2a, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_ku_cc_b_2b, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_ku_cc_b_2c, "gfx/freight/ku_cc_b.png") {
	template_2cc_flip(1, 224)
}


//cars spritegroups

spritegroup spritegroup_ku_cc_a_1 {
    loading: [spriteset_ku_cc_a_empty, spriteset_ku_cc_a_1a, spriteset_ku_cc_a_1b, spriteset_ku_cc_a_1c];
    loaded: [spriteset_ku_cc_a_empty, spriteset_ku_cc_a_1a, spriteset_ku_cc_a_1b, spriteset_ku_cc_a_1c];
}

spritegroup spritegroup_ku_cc_a_2 {
    loading: [spriteset_ku_cc_a_empty, spriteset_ku_cc_a_2a, spriteset_ku_cc_a_2b, spriteset_ku_cc_a_2c];
    loaded: [spriteset_ku_cc_a_empty, spriteset_ku_cc_a_2a, spriteset_ku_cc_a_2b, spriteset_ku_cc_a_2c];
}

spritegroup spritegroup_ku_cc_a_3 {
    loading: [spriteset_ku_cc_a_empty, spriteset_flip_ku_cc_a_1a, spriteset_flip_ku_cc_a_1b, spriteset_flip_ku_cc_a_1c];
    loaded: [spriteset_ku_cc_a_empty, spriteset_flip_ku_cc_a_1a, spriteset_flip_ku_cc_a_1b, spriteset_flip_ku_cc_a_1c];
}

spritegroup spritegroup_ku_cc_a_4 {
    loading: [spriteset_ku_cc_a_empty, spriteset_flip_ku_cc_a_2a, spriteset_flip_ku_cc_a_2b, spriteset_flip_ku_cc_a_2c];
    loaded: [spriteset_ku_cc_a_empty, spriteset_flip_ku_cc_a_2a, spriteset_flip_ku_cc_a_2b, spriteset_flip_ku_cc_a_2c];
}


spritegroup spritegroup_ku_cc_b_1 {
    loading: [spriteset_ku_cc_b_empty, spriteset_ku_cc_b_1a, spriteset_ku_cc_b_1b, spriteset_ku_cc_b_1c];
    loaded: [spriteset_ku_cc_b_empty, spriteset_ku_cc_b_1a, spriteset_ku_cc_b_1b, spriteset_ku_cc_b_1c];
}

spritegroup spritegroup_ku_cc_b_2 {
    loading: [spriteset_ku_cc_b_empty, spriteset_ku_cc_b_2a, spriteset_ku_cc_b_2b, spriteset_ku_cc_b_2c];
    loaded: [spriteset_ku_cc_b_empty, spriteset_ku_cc_b_2a, spriteset_ku_cc_b_2b, spriteset_ku_cc_b_2c];
}

spritegroup spritegroup_ku_cc_b_3 {
    loading: [spriteset_ku_cc_b_empty, spriteset_flip_ku_cc_b_1a, spriteset_flip_ku_cc_b_1b, spriteset_flip_ku_cc_b_1c];
    loaded: [spriteset_ku_cc_b_empty, spriteset_flip_ku_cc_b_1a, spriteset_flip_ku_cc_b_1b, spriteset_flip_ku_cc_b_1c];
}

spritegroup spritegroup_ku_cc_b_4 {
    loading: [spriteset_ku_cc_b_empty, spriteset_flip_ku_cc_b_2a, spriteset_flip_ku_cc_b_2b, spriteset_flip_ku_cc_b_2c];
    loaded: [spriteset_ku_cc_b_empty, spriteset_flip_ku_cc_b_2a, spriteset_flip_ku_cc_b_2b, spriteset_flip_ku_cc_b_2c];
}


random_switch(FEAT_TRAINS, SELF, switch_ku_red_livery) {
	1: spritegroup_ku_red_a_1;
    1: spritegroup_ku_red_a_2;
	1: spritegroup_ku_red_a_3;
	1: spritegroup_ku_red_a_4;
	1: spritegroup_ku_red_b_1;
    1: spritegroup_ku_red_b_2;
	1: spritegroup_ku_red_b_3;
	1: spritegroup_ku_red_b_4;
}


random_switch(FEAT_TRAINS, SELF, switch_ku_cc_livery) {
	1: spritegroup_ku_cc_a_1;
    1: spritegroup_ku_cc_a_2;
	1: spritegroup_ku_cc_a_3;
	1: spritegroup_ku_cc_a_4;
	1: spritegroup_ku_cc_b_1;
    1: spritegroup_ku_cc_b_2;
	1: spritegroup_ku_cc_b_3;
	1: spritegroup_ku_cc_b_4;
}


random_switch(FEAT_TRAINS, SELF, switch_ku_rwb_livery) {
	1: spritegroup_ku_rwb_a_1;
    1: spritegroup_ku_rwb_a_2;
	1: spritegroup_ku_rwb_a_3;
	1: spritegroup_ku_rwb_a_4;
	1: spritegroup_ku_rwb_b_1;
    1: spritegroup_ku_rwb_b_2;
	1: spritegroup_ku_rwb_b_3;
	1: spritegroup_ku_rwb_b_4;
}


random_switch(FEAT_TRAINS, SELF, switch_ku_rb_livery) {
	1: spritegroup_ku_rb_a_1;
    1: spritegroup_ku_rb_a_2;
	1: spritegroup_ku_rb_a_3;
	1: spritegroup_ku_rb_a_4;
	1: spritegroup_ku_rb_b_1;
    1: spritegroup_ku_rb_b_2;
	1: spritegroup_ku_rb_b_3;
	1: spritegroup_ku_rb_b_4;
}

random_switch(FEAT_TRAINS, SELF, switch_ku_random_livery) {
	1: switch_ku_red_livery;
	1: switch_ku_rwb_livery;
	1: switch_ku_rb_livery;
}


switch(FEAT_TRAINS, SELF, switch_ku_5000_yeardep, current_year) {
	0..1990: switch_ku_red_livery;
	switch_ku_rwb_livery;
	}


switch(FEAT_TRAINS, SELF, switch_ku_5000_livery, cargo_subtype) {
	1: switch_ku_red_livery;
	2: switch_ku_rwb_livery;
	3: switch_ku_rb_livery;
	4: switch_ku_cc_livery;
	5: switch_ku_random_livery;
	switch_ku_5000_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_ku_5000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_RED);
	2: return string(STR_REFIT_KU_NISSAN);
	3: return string(STR_REFIT_KU_REDBLUE);
	4: return string(STR_REFIT_CC);
	5: return string(STR_REFIT_RANDOM);
	   return CB_RESULT_NO_TEXT;
	}


switch(FEAT_TRAINS, SELF, switch_ku_5000_purchase, current_year) {
	0..1990: spriteset_ku_5000_jnr_purchase;
	spriteset_ku_5000_jrf_purchase;
	}


item (FEAT_TRAINS, ku_5000, 44) {

property {
	name: string(STR_NAME_KU_5000);
	introduction_date: date(1966,1,1);
	default_cargo_type: VEHI;
	refittable_cargo_classes: 0; 
	non_refittable_cargo_classes: 0; 
	cargo_allow_refit: [VEHI]; 
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 40;
	default: switch_ku_5000_livery;
	purchase: switch_ku_5000_purchase;
	cargo_subtype_text: switch_ku_5000_subtype_text;
	}
}

spriteset(spriteset_dmt_proto_purchase, "gfx/freight/dmt_front.png") {
	template_purchase(1, 416)
}

spriteset(spriteset_dmt_jrf_purchase, "gfx/freight/dmt_front.png") {
	template_purchase(89, 416)
}

spriteset(spriteset_dmt_rear, "gfx/freight/dmt_front.png") {
	template_2cc_dmt(180, 1)
}


spriteset(spriteset_dmt_front_a, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_dmt_front_b, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_dmt_front_c, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_dmt_front_d, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_dmt_front_e, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_dmt_front_f, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_dmt_front_g, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_dmt_front_h, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_dmt_front_i, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_dmt_front_j, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_dmt_front_k, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_dmt_front_l, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 352)
}

spriteset(spriteset_dmt_front_m, "gfx/freight/dmt_front.png") {
	template_2cc_std(1, 384)
}


//mids


spriteset(spriteset_dmt_mid_a, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_dmt_mid_b, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_dmt_mid_c, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_dmt_mid_d, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_dmt_mid_e, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_dmt_mid_f, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_dmt_mid_g, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_dmt_mid_h, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_dmt_mid_i, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_dmt_mid_j, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_dmt_mid_k, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_dmt_mid_l, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 352)
}

spriteset(spriteset_dmt_mid_m, "gfx/freight/dmt_mid.png") {
	template_2cc_std(1, 384)
}





random_switch(FEAT_TRAINS, SELF, switch_dmt_front_random_all) {
	1: spriteset_dmt_front_a;
    1: spriteset_dmt_front_b;
	1: spriteset_dmt_front_c;
    1: spriteset_dmt_front_d;
	1: spriteset_dmt_front_e;
	1: spriteset_dmt_front_f;
	1: spriteset_dmt_front_g;
	1: spriteset_dmt_front_h;
	1: spriteset_dmt_front_i;
	1: spriteset_dmt_front_j;
	1: spriteset_dmt_front_k;
	1: spriteset_dmt_front_l;
	1: spriteset_dmt_front_m;
}

random_switch(FEAT_TRAINS, SELF, switch_dmt_middle_random_all) {
	1: spriteset_dmt_mid_a;
    1: spriteset_dmt_mid_b;
	1: spriteset_dmt_mid_c;
    1: spriteset_dmt_mid_d;
	1: spriteset_dmt_mid_e;
	1: spriteset_dmt_mid_f;
	1: spriteset_dmt_mid_g;
	1: spriteset_dmt_mid_h;
	1: spriteset_dmt_mid_i;
	1: spriteset_dmt_mid_j;
	1: spriteset_dmt_mid_k;
	1: spriteset_dmt_mid_l;
	1: spriteset_dmt_mid_m;
}



random_switch(FEAT_TRAINS, SELF, switch_dmt_front_random_nocc) {
	1: spriteset_dmt_front_a;
    1: spriteset_dmt_front_b;
	1: spriteset_dmt_front_c;
    1: spriteset_dmt_front_d;
	1: spriteset_dmt_front_e;
	1: spriteset_dmt_front_f;
	1: spriteset_dmt_front_g;
}

random_switch(FEAT_TRAINS, SELF, switch_dmt_middle_random_nocc) {
	1: spriteset_dmt_mid_a;
    1: spriteset_dmt_mid_b;
	1: spriteset_dmt_mid_c;
    1: spriteset_dmt_mid_d;
	1: spriteset_dmt_mid_e;
	1: spriteset_dmt_mid_f;
	1: spriteset_dmt_mid_g;
}


random_switch(FEAT_TRAINS, SELF, switch_dmt_front_random_proto) {
	1: spriteset_dmt_front_h;
	1: spriteset_dmt_front_i;
	1: spriteset_dmt_front_j;
}

random_switch(FEAT_TRAINS, SELF, switch_dmt_middle_random_proto) {
	1: spriteset_dmt_mid_h;
	1: spriteset_dmt_mid_i;
	1: spriteset_dmt_mid_j;
}

random_switch(FEAT_TRAINS, SELF, switch_dmt_front_random_cc) {
	1: spriteset_dmt_front_k;
	1: spriteset_dmt_front_l;
	1: spriteset_dmt_front_m;
}

random_switch(FEAT_TRAINS, SELF, switch_dmt_middle_random_cc) {
	1: spriteset_dmt_mid_k;
	1: spriteset_dmt_mid_l;
	1: spriteset_dmt_mid_m;
}


/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_dmt_articulated_part, extra_callback_info1) {
	1: return dmt_middle;
	2: return dmt_middle;
    3: return dmt_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch (FEAT_TRAINS, SELF, switch_dmt_front_yeardep, build_year) {
	0..2002: switch_dmt_front_random_proto;
	switch_dmt_front_random_nocc;
}
	
switch (FEAT_TRAINS, SELF, switch_dmt_middle_yeardep, build_year) {
	0..2002: switch_dmt_middle_random_proto;
	switch_dmt_middle_random_nocc;
}


switch(FEAT_TRAINS, SELF, switch_dmt_front_livery, cargo_subtype) {
	1: spriteset_dmt_front_a;
	2: spriteset_dmt_front_b;
	3: spriteset_dmt_front_c;
	4: spriteset_dmt_front_d;
	5: spriteset_dmt_front_e;
	6: spriteset_dmt_front_f;
	7: spriteset_dmt_front_g;
	8: spriteset_dmt_front_h;
	9: switch_dmt_front_random_proto;
	10:  switch_dmt_front_random_cc;
	11: switch_dmt_front_random_all;
	switch_dmt_front_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_dmt_middle_livery, cargo_subtype) {
	1: spriteset_dmt_mid_a;
	2: spriteset_dmt_mid_b;
	3: spriteset_dmt_mid_c;
	4: spriteset_dmt_mid_d;
	5: spriteset_dmt_mid_e;
	6: spriteset_dmt_mid_f;
	7: spriteset_dmt_mid_g;
	8: spriteset_dmt_mid_h;
	9: switch_dmt_middle_random_proto;
	10: switch_dmt_middle_random_cc;
	11: switch_dmt_middle_random_all;
	switch_dmt_middle_yeardep;
}



switch(FEAT_TRAINS, SELF, switch_dmt_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_DMT_SAGAWA);
	2: return string(STR_REFIT_DMT_JRF);
	3: return string(STR_REFIT_DMT_YAMATO);
	4: return string(STR_REFIT_DMT_SEINO);
	5: return string(STR_REFIT_DMT_FUKUYAMA);
	6: return string(STR_REFIT_DMT_FISH);
	7: return string(STR_REFIT_DMT_NITTSU);
	8: return string(STR_REFIT_DMT_SEINO);
	9: return string(STR_REFIT_DMT_PROTO);
	10: return string(STR_REFIT_CC);
	11: return string(STR_REFIT_RANDOM);
	   return CB_RESULT_NO_TEXT;
	}





switch (FEAT_TRAINS, SELF, switch_dmt_middle_length, position_in_vehid_chain_from_end) {
	0: return 8;
	return 7;
}

switch (FEAT_TRAINS, SELF, switch_dmt_yeardep_purchase, current_year) {
	0..2002: spriteset_dmt_proto_purchase;
	spriteset_dmt_jrf_purchase;
	}


item (FEAT_TRAINS, dmt_middle, 1408) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_ROADRAILER);
		climates_available: NO_CLIMATE;
		loading_speed: 40;
		cargo_capacity: 90; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 60;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [MAIL, GOOD, VALU, GOLD, DIAM, PAPR, FOOD, FRUT, WATR, SUGR, TOYS, BATT, STEL, METL, SWET, TOFF, CTCD, BUBL, PLST, BEER, COPR, FICR, BDMT, DYES, ENSP, FERT, FISH, FMSP, FRVG, GLAS, MILK, MNSP, PLAS, RCYC, WDPR, WOOL, VEHI, EOIL, JAVA]; 
		cargo_disallow_refit: [PASS, COAL, LVST, WOOD, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, RFPR, VEHI];
		weight: 15;
		cost_factor: 11;
		introduction_date: date(1992,1,1);
		length: 7;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
		length: switch_dmt_middle_length;
		default: switch_dmt_middle_livery;
	}
}

item (FEAT_TRAINS, dmt_rear, 1409) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_ROADRAILER);
		climates_available: NO_CLIMATE;
		introduction_date: date(1992,1,1);
		weight: 1;
		length: 1;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
		default: spriteset_dmt_rear;
	}
}



item (FEAT_TRAINS, dmt, 1407) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_ROADRAILER);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1992,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 90; 
		refit_cost: 0;
		default_cargo_type: MAIL;
		loading_speed: 60;
		refittable_cargo_classes: bitmask(CC_MAIL, CC_PIECE_GOODS, CC_EXPRESS, CC_REFRIGERATED); 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [MAIL, GOOD, VALU, GOLD, DIAM, PAPR, FOOD, FRUT, WATR, SUGR, TOYS, BATT, STEL, METL, SWET, TOFF, CTCD, BUBL, PLST, BEER, COPR, FICR, BDMT, DYES, ENSP, FERT, FISH, FMSP, FRVG, GLAS, MILK, MNSP, PLAS, RCYC, WDPR, WOOL, VEHI, EOIL, JAVA]; 
		cargo_disallow_refit: [PASS, COAL, LVST, WOOD, IORE, CORE, AORE, BRCK, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, RFPR, VEHI];
		weight: 15;
		cost_factor: 11;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
//		cargo_capacity: return 50;
		default: switch_dmt_front_livery;
		purchase: switch_dmt_yeardep_purchase;
//		length: switch_dmt_rear_length;
		refit_cost: CB_RESULT_AUTOREFIT;
		articulated_part: switch_dmt_articulated_part;
		cargo_subtype_text: switch_dmt_subtype_text;
	}
}
spriteset(spriteset_koki_5500_purchase, "gfx/koki_5500_1.png") {
	template_purchase(1, 352)
}

//Light brown

spriteset(spriteset_koki_5500_empty_1, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_5500_goods_1_half, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_5500_goods_1_full, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_5500_mail_1_half, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_5500_mail_1_full, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_5500_mixed_1_half, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_5500_mixed_1_full, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_5500_food_1_half, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_5500_food_1_full, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_5500_oil_1_half, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_5500_oil_1_full, "gfx/koki_5500_1.png") {
	template_2cc_std(1, 320)
}

//

spriteset(spriteset_koki_5500_empty_2, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_5500_goods_2_half, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_5500_goods_2_full, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_5500_mail_2_half, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_5500_mail_2_full, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_5500_mixed_2_half, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_5500_mixed_2_full, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_5500_food_2_half, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_5500_food_2_full, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_5500_oil_2_half, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_5500_oil_2_full, "gfx/koki_5500_2.png") {
	template_2cc_std(1, 320)
}

//KOKI 5500 spritegroups

spritegroup spritegroup_koki_5500_goods_1 {
    loading: [spriteset_koki_5500_empty_1, spriteset_koki_5500_goods_1_half, spriteset_koki_5500_goods_1_full];
    loaded: [spriteset_koki_5500_empty_1, spriteset_koki_5500_goods_1_half, spriteset_koki_5500_goods_1_full];
}

spritegroup spritegroup_koki_5500_mail_1 {
    loading: [spriteset_koki_5500_empty_1, spriteset_koki_5500_mail_1_half, spriteset_koki_5500_mail_1_full];
    loaded: [spriteset_koki_5500_empty_1, spriteset_koki_5500_mail_1_half, spriteset_koki_5500_mail_1_full];
}

spritegroup spritegroup_koki_5500_mixed_1 {
    loading: [spriteset_koki_5500_empty_1, spriteset_koki_5500_mixed_1_half, spriteset_koki_5500_mixed_1_full];
    loaded: [spriteset_koki_5500_empty_1, spriteset_koki_5500_mixed_1_half, spriteset_koki_5500_mixed_1_full];
}

spritegroup spritegroup_koki_5500_food_1 {
    loading: [spriteset_koki_5500_empty_1, spriteset_koki_5500_food_1_half, spriteset_koki_5500_food_1_full];
    loaded: [spriteset_koki_5500_empty_1, spriteset_koki_5500_food_1_half, spriteset_koki_5500_food_1_full];
}

spritegroup spritegroup_koki_5500_oil_1 {
    loading: [spriteset_koki_5500_empty_1, spriteset_koki_5500_oil_1_half, spriteset_koki_5500_oil_1_full];
    loaded: [spriteset_koki_5500_empty_1, spriteset_koki_5500_oil_1_half, spriteset_koki_5500_oil_1_full];
}



spritegroup spritegroup_koki_5500_goods_2 {
    loading: [spriteset_koki_5500_empty_2, spriteset_koki_5500_goods_2_half, spriteset_koki_5500_goods_2_full];
    loaded: [spriteset_koki_5500_empty_2, spriteset_koki_5500_goods_2_half, spriteset_koki_5500_goods_2_full];
}

spritegroup spritegroup_koki_5500_mail_2 {
    loading: [spriteset_koki_5500_empty_2, spriteset_koki_5500_mail_2_half, spriteset_koki_5500_mail_2_full];
    loaded: [spriteset_koki_5500_empty_2, spriteset_koki_5500_mail_2_half, spriteset_koki_5500_mail_2_full];
}

spritegroup spritegroup_koki_5500_mixed_2 {
    loading: [spriteset_koki_5500_empty_2, spriteset_koki_5500_mixed_2_half, spriteset_koki_5500_mixed_2_full];
    loaded: [spriteset_koki_5500_empty_2, spriteset_koki_5500_mixed_2_half, spriteset_koki_5500_mixed_2_full];
}

spritegroup spritegroup_koki_5500_food_2 {
    loading: [spriteset_koki_5500_empty_2, spriteset_koki_5500_food_2_half, spriteset_koki_5500_food_2_full];
    loaded: [spriteset_koki_5500_empty_2, spriteset_koki_5500_food_2_half, spriteset_koki_5500_food_2_full];
}

spritegroup spritegroup_koki_5500_oil_2 {
    loading: [spriteset_koki_5500_empty_2, spriteset_koki_5500_oil_2_half, spriteset_koki_5500_oil_2_full];
    loaded: [spriteset_koki_5500_empty_2, spriteset_koki_5500_oil_2_half, spriteset_koki_5500_oil_2_full];
}


//insert flip here
spriteset(spriteset_koki_5500_flip_empty_1, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_koki_5500_flip_goods_1_half, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_koki_5500_flip_goods_1_full, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_koki_5500_flip_mail_1_half, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_koki_5500_flip_mail_1_full, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_koki_5500_flip_mixed_1_half, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_koki_5500_flip_mixed_1_full, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_koki_5500_flip_food_1_half, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_koki_5500_flip_food_1_full, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_koki_5500_flip_oil_1_half, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 288)
}

spriteset(spriteset_koki_5500_flip_oil_1_full, "gfx/koki_5500_1.png") {
	template_2cc_flip(1, 320)
}

//

spriteset(spriteset_koki_5500_flip_empty_2, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_koki_5500_flip_goods_2_half, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_koki_5500_flip_goods_2_full, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_koki_5500_flip_mail_2_half, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_koki_5500_flip_mail_2_full, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_koki_5500_flip_mixed_2_half, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_koki_5500_flip_mixed_2_full, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_koki_5500_flip_food_2_half, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_koki_5500_flip_food_2_full, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_koki_5500_flip_oil_2_half, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 288)
}

spriteset(spriteset_koki_5500_flip_oil_2_full, "gfx/koki_5500_2.png") {
	template_2cc_flip(1, 320)
}

//KOKI 5500 spritegroups

spritegroup spritegroup_koki_5500_flip_goods_1 {
    loading: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_goods_1_half, spriteset_koki_5500_flip_goods_1_full];
    loaded: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_goods_1_half, spriteset_koki_5500_flip_goods_1_full];
}

spritegroup spritegroup_koki_5500_flip_mail_1 {
    loading: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_mail_1_half, spriteset_koki_5500_flip_mail_1_full];
    loaded: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_mail_1_half, spriteset_koki_5500_flip_mail_1_full];
}

spritegroup spritegroup_koki_5500_flip_mixed_1 {
    loading: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_mixed_1_half, spriteset_koki_5500_flip_mixed_1_full];
    loaded: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_mixed_1_half, spriteset_koki_5500_flip_mixed_1_full];
}

spritegroup spritegroup_koki_5500_flip_food_1 {
    loading: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_food_1_half, spriteset_koki_5500_flip_food_1_full];
    loaded: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_food_1_half, spriteset_koki_5500_flip_food_1_full];
}

spritegroup spritegroup_koki_5500_flip_oil_1 {
    loading: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_oil_1_half, spriteset_koki_5500_flip_oil_1_full];
    loaded: [spriteset_koki_5500_flip_empty_1, spriteset_koki_5500_flip_oil_1_half, spriteset_koki_5500_flip_oil_1_full];
}



spritegroup spritegroup_koki_5500_flip_goods_2 {
    loading: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_goods_2_half, spriteset_koki_5500_flip_goods_2_full];
    loaded: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_goods_2_half, spriteset_koki_5500_flip_goods_2_full];
}

spritegroup spritegroup_koki_5500_flip_mail_2 {
    loading: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_mail_2_half, spriteset_koki_5500_flip_mail_2_full];
    loaded: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_mail_2_half, spriteset_koki_5500_flip_mail_2_full];
}

spritegroup spritegroup_koki_5500_flip_mixed_2 {
    loading: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_mixed_2_half, spriteset_koki_5500_flip_mixed_2_full];
    loaded: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_mixed_2_half, spriteset_koki_5500_flip_mixed_2_full];
}

spritegroup spritegroup_koki_5500_flip_food_2 {
    loading: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_food_2_half, spriteset_koki_5500_flip_food_2_full];
    loaded: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_food_2_half, spriteset_koki_5500_flip_food_2_full];
}

spritegroup spritegroup_koki_5500_flip_oil_2 {
    loading: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_oil_2_half, spriteset_koki_5500_flip_oil_2_full];
    loaded: [spriteset_koki_5500_flip_empty_2, spriteset_koki_5500_flip_oil_2_half, spriteset_koki_5500_flip_oil_2_full];
}






//randoms
random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_mail) {
	1: spritegroup_koki_5500_mail_1;
    1: spritegroup_koki_5500_mail_2;
	1: spritegroup_koki_5500_flip_mail_1;
	1: spritegroup_koki_5500_flip_mail_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_goods) {
	1: spritegroup_koki_5500_goods_1;
    1: spritegroup_koki_5500_goods_2;
	1: spritegroup_koki_5500_flip_goods_1;
	1: spritegroup_koki_5500_flip_goods_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_food) {
	1: spritegroup_koki_5500_food_1;
    1: spritegroup_koki_5500_food_2;
	1: spritegroup_koki_5500_flip_food_1;
	1: spritegroup_koki_5500_flip_food_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_oil) {
	1: spritegroup_koki_5500_oil_1;
    1: spritegroup_koki_5500_oil_2;
	1: spritegroup_koki_5500_flip_oil_1;
	1: spritegroup_koki_5500_flip_oil_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_alcohol) {
	1: spritegroup_koki_5500_oil_1;
    1: spritegroup_koki_5500_oil_2;
	1: spritegroup_koki_5500_flip_oil_1;
	1: spritegroup_koki_5500_flip_oil_2;
	1: spritegroup_koki_5500_mixed_1;
    1: spritegroup_koki_5500_mixed_2;
	1: spritegroup_koki_5500_flip_mixed_1;
	1: spritegroup_koki_5500_flip_mixed_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_general_dry) {
	1: spritegroup_koki_5500_mail_1;
    1: spritegroup_koki_5500_mail_2;
	1: spritegroup_koki_5500_flip_mail_1;
	1: spritegroup_koki_5500_flip_mail_2;
	1: spritegroup_koki_5500_goods_1;
    1: spritegroup_koki_5500_goods_2;
	1: spritegroup_koki_5500_flip_goods_1;
	1: spritegroup_koki_5500_flip_goods_2;
	1: spritegroup_koki_5500_mixed_1;
    1: spritegroup_koki_5500_mixed_2;
	1: spritegroup_koki_5500_flip_mixed_1;
	1: spritegroup_koki_5500_flip_mixed_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_general_fluid) {
	1: spritegroup_koki_5500_oil_1;
    1: spritegroup_koki_5500_oil_2;
	1: spritegroup_koki_5500_flip_oil_1;
	1: spritegroup_koki_5500_flip_oil_2;
	1: spritegroup_koki_5500_goods_1;
    1: spritegroup_koki_5500_goods_2;
	1: spritegroup_koki_5500_flip_goods_1;
	1: spritegroup_koki_5500_flip_goods_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_edible_fluid) {
	1: spritegroup_koki_5500_oil_1;
    1: spritegroup_koki_5500_oil_2;
	1: spritegroup_koki_5500_flip_oil_1;
	1: spritegroup_koki_5500_flip_oil_2;
	1: spritegroup_koki_5500_food_1;
    1: spritegroup_koki_5500_food_2;
	1: spritegroup_koki_5500_flip_food_1;
	1: spritegroup_koki_5500_flip_food_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_general_refrigerated) {
	1: spritegroup_koki_5500_food_1;
    1: spritegroup_koki_5500_food_2;
	1: spritegroup_koki_5500_flip_food_1;
	1: spritegroup_koki_5500_flip_food_2;
	1: spritegroup_koki_5500_mixed_1;
    1: spritegroup_koki_5500_mixed_2;
	1: spritegroup_koki_5500_flip_mixed_1;
	1: spritegroup_koki_5500_flip_mixed_2;
}




switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_class, cargo_classes) {
	bitmask(CC_LIQUID): switch_koki_5500_cargo_general_fluid;
	bitmask(CC_REFRIGERATED): switch_koki_5500_cargo_general_refrigerated;
	bitmask(CC_EXPRESS): switch_koki_5500_cargo_goods;
	
	switch_koki_5500_cargo_general_dry;
}

switch(FEAT_TRAINS, SELF, switch_koki_5500_cargo_selection, cargo_type_in_veh) {
	MAIL: switch_koki_5500_cargo_mail;
	GOOD: switch_koki_5500_cargo_goods;
	FOOD: switch_koki_5500_cargo_food;
	OIL_: switch_koki_5500_cargo_oil;
	BEER: switch_koki_5500_cargo_alcohol;
	VEHI: switch_koki_5500_cargo_goods;
	
	MILK: switch_koki_5500_cargo_edible_fluid;
	EOIL: switch_koki_5500_cargo_edible_fluid;
	
	ACID: switch_koki_5500_cargo_general_fluid;
	SULP: switch_koki_5500_cargo_general_fluid;
	CHLO: switch_koki_5500_cargo_general_fluid;
	
	FRUT: switch_koki_5500_cargo_general_refrigerated;
	FISH: switch_koki_5500_cargo_general_refrigerated;
	
	switch_koki_5500_cargo_class;
}


item (FEAT_TRAINS, koki_5500, 1412) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_KOKI_5500);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1959,1,1);
		speed: 85 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 70; 
		refit_cost: 0;
		default_cargo_type: GOOD;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PIECE_GOODS, CC_EXPRESS, CC_LIQUID); 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [MAIL, GOOD, OIL_, PAPR, FOOD, RUBR, FRUT, WATR, SUGR, TOYS, BATT, STEL, METL, SWET, TOFF, COLA, CTCD, BUBL, PLST, FZDR, BEER, COPR, FICR, BDMT, CERA, CMNT, DYES, ENSP, FERT, FISH, FMSP, FRVG, GLAS, MILK, MNSP, PETR, PLAS, RCYC, RFPR, SULP, WDPR, WOOL, VEHI, EOIL, ACID, CHLO]; 
		cargo_disallow_refit: [PASS, COAL, LVST, GRAI, WOOD, IORE, VALU, WHEA, GOLD, MAIZ, CORE, DIAM, AORE, BRCK, CERE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, JAVA];
		weight: 20;
		cost_factor: 8;
		running_cost_factor: 9;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 70;
		default: switch_koki_5500_cargo_selection;
		purchase: spriteset_koki_5500_purchase;
		refit_cost: CB_RESULT_AUTOREFIT;
	}
}
spriteset(spriteset_koki_10000_purchase, "gfx/koki_10000_1.png") {
	template_purchase(1, 352)
}

//Light blue

spriteset(spriteset_koki_10000_empty_1, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_10000_goods_1_half, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_10000_goods_1_full, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_10000_mail_1_half, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_10000_mail_1_full, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_10000_mixed_1_half, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_10000_mixed_1_full, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_10000_food_1_half, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_10000_food_1_full, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_10000_oil_1_half, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_10000_oil_1_full, "gfx/koki_10000_1.png") {
	template_2cc_std(1, 320)
}

//cabeese 


spriteset(spriteset_koki_10000_empty_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_10000_goods_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_10000_food_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_10000_mixed_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_10000_oil_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 288)
}





//

spriteset(spriteset_koki_10000_empty_2, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_10000_goods_2_half, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_10000_goods_2_full, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_10000_mail_2_half, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_10000_mail_2_full, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_10000_mixed_2_half, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_10000_mixed_2_full, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_10000_food_2_half, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_10000_food_2_full, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_10000_oil_2_half, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_10000_oil_2_full, "gfx/koki_10000_2.png") {
	template_2cc_std(1, 320)
}

//cabesse

spriteset(spriteset_koki_10000_empty_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_10000_goods_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_10000_food_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_10000_mixed_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_10000_oil_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_std(1, 128)
}





//KOKI 10000 spritegroups

spritegroup spritegroup_koki_10000_goods_1 {
    loading: [spriteset_koki_10000_empty_1, spriteset_koki_10000_goods_1_half, spriteset_koki_10000_goods_1_full];
    loaded: [spriteset_koki_10000_empty_1, spriteset_koki_10000_goods_1_half, spriteset_koki_10000_goods_1_full];
}

spritegroup spritegroup_koki_10000_mail_1 {
    loading: [spriteset_koki_10000_empty_1, spriteset_koki_10000_mail_1_half, spriteset_koki_10000_mail_1_full];
    loaded: [spriteset_koki_10000_empty_1, spriteset_koki_10000_mail_1_half, spriteset_koki_10000_mail_1_full];
}

spritegroup spritegroup_koki_10000_mixed_1 {
    loading: [spriteset_koki_10000_empty_1, spriteset_koki_10000_mixed_1_half, spriteset_koki_10000_mixed_1_full];
    loaded: [spriteset_koki_10000_empty_1, spriteset_koki_10000_mixed_1_half, spriteset_koki_10000_mixed_1_full];
}

spritegroup spritegroup_koki_10000_food_1 {
    loading: [spriteset_koki_10000_empty_1, spriteset_koki_10000_food_1_half, spriteset_koki_10000_food_1_full];
    loaded: [spriteset_koki_10000_empty_1, spriteset_koki_10000_food_1_half, spriteset_koki_10000_food_1_full];
}

spritegroup spritegroup_koki_10000_oil_1 {
    loading: [spriteset_koki_10000_empty_1, spriteset_koki_10000_oil_1_half, spriteset_koki_10000_oil_1_full];
    loaded: [spriteset_koki_10000_empty_1, spriteset_koki_10000_oil_1_half, spriteset_koki_10000_oil_1_full];
}


spritegroup spritegroup_koki_10000_goods_caboose_1 {
    loading: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_goods_caboose_1];
    loaded: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_goods_caboose_1];
}

spritegroup spritegroup_koki_10000_food_caboose_1 {
    loading: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_food_caboose_1];
    loaded: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_food_caboose_1];
}

spritegroup spritegroup_koki_10000_mixed_caboose_1 {
    loading: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_mixed_caboose_1];
    loaded: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_mixed_caboose_1];
}

spritegroup spritegroup_koki_10000_oil_caboose_1 {
    loading: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_oil_caboose_1];
    loaded: [spriteset_koki_10000_empty_caboose_1, spriteset_koki_10000_oil_caboose_1];
}





spritegroup spritegroup_koki_10000_goods_2 {
    loading: [spriteset_koki_10000_empty_2, spriteset_koki_10000_goods_2_half, spriteset_koki_10000_goods_2_full];
    loaded: [spriteset_koki_10000_empty_2, spriteset_koki_10000_goods_2_half, spriteset_koki_10000_goods_2_full];
}

spritegroup spritegroup_koki_10000_mail_2 {
    loading: [spriteset_koki_10000_empty_2, spriteset_koki_10000_mail_2_half, spriteset_koki_10000_mail_2_full];
    loaded: [spriteset_koki_10000_empty_2, spriteset_koki_10000_mail_2_half, spriteset_koki_10000_mail_2_full];
}

spritegroup spritegroup_koki_10000_mixed_2 {
    loading: [spriteset_koki_10000_empty_2, spriteset_koki_10000_mixed_2_half, spriteset_koki_10000_mixed_2_full];
    loaded: [spriteset_koki_10000_empty_2, spriteset_koki_10000_mixed_2_half, spriteset_koki_10000_mixed_2_full];
}

spritegroup spritegroup_koki_10000_food_2 {
    loading: [spriteset_koki_10000_empty_2, spriteset_koki_10000_food_2_half, spriteset_koki_10000_food_2_full];
    loaded: [spriteset_koki_10000_empty_2, spriteset_koki_10000_food_2_half, spriteset_koki_10000_food_2_full];
}

spritegroup spritegroup_koki_10000_oil_2 {
    loading: [spriteset_koki_10000_empty_2, spriteset_koki_10000_oil_2_half, spriteset_koki_10000_oil_2_full];
    loaded: [spriteset_koki_10000_empty_2, spriteset_koki_10000_oil_2_half, spriteset_koki_10000_oil_2_full];
}



spritegroup spritegroup_koki_10000_goods_caboose_2 {
    loading: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_goods_caboose_2];
    loaded: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_goods_caboose_2];
}

spritegroup spritegroup_koki_10000_food_caboose_2 {
    loading: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_food_caboose_2];
    loaded: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_food_caboose_2];
}

spritegroup spritegroup_koki_10000_mixed_caboose_2 {
    loading: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_mixed_caboose_2];
    loaded: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_mixed_caboose_2];
}

spritegroup spritegroup_koki_10000_oil_caboose_2 {
    loading: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_oil_caboose_2];
    loaded: [spriteset_koki_10000_empty_caboose_2, spriteset_koki_10000_oil_caboose_2];
}





//insert flip here
spriteset(spriteset_koki_10000_flip_empty_1, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_koki_10000_flip_goods_1_half, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_koki_10000_flip_goods_1_full, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_koki_10000_flip_mail_1_half, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_koki_10000_flip_mail_1_full, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_koki_10000_flip_mixed_1_half, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_koki_10000_flip_mixed_1_full, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_koki_10000_flip_food_1_half, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_koki_10000_flip_food_1_full, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_koki_10000_flip_oil_1_half, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 288)
}

spriteset(spriteset_koki_10000_flip_oil_1_full, "gfx/koki_10000_1.png") {
	template_2cc_flip(1, 320)
}

//cabeese

spriteset(spriteset_koki_10000_flip_empty_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_koki_10000_flip_goods_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_koki_10000_flip_food_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_koki_10000_flip_mixed_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_koki_10000_flip_oil_caboose_1, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 288)
}


//

spriteset(spriteset_koki_10000_flip_empty_2, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_koki_10000_flip_goods_2_half, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_koki_10000_flip_goods_2_full, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_koki_10000_flip_mail_2_half, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_koki_10000_flip_mail_2_full, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_koki_10000_flip_mixed_2_half, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_koki_10000_flip_mixed_2_full, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_koki_10000_flip_food_2_half, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_koki_10000_flip_food_2_full, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_koki_10000_flip_oil_2_half, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 288)
}

spriteset(spriteset_koki_10000_flip_oil_2_full, "gfx/koki_10000_2.png") {
	template_2cc_flip(1, 320)
}

//cabeese

spriteset(spriteset_koki_10000_flip_empty_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_koki_10000_flip_goods_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_koki_10000_flip_food_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_koki_10000_flip_mixed_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_koki_10000_flip_oil_caboose_2, "gfx/koki_10000_caboose.png") {
	template_2cc_flip(1, 288)
}




//KOKI 10000 spritegroups

spritegroup spritegroup_koki_10000_flip_goods_1 {
    loading: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_goods_1_half, spriteset_koki_10000_flip_goods_1_full];
    loaded: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_goods_1_half, spriteset_koki_10000_flip_goods_1_full];
}

spritegroup spritegroup_koki_10000_flip_mail_1 {
    loading: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_mail_1_half, spriteset_koki_10000_flip_mail_1_full];
    loaded: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_mail_1_half, spriteset_koki_10000_flip_mail_1_full];
}

spritegroup spritegroup_koki_10000_flip_mixed_1 {
    loading: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_mixed_1_half, spriteset_koki_10000_flip_mixed_1_full];
    loaded: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_mixed_1_half, spriteset_koki_10000_flip_mixed_1_full];
}

spritegroup spritegroup_koki_10000_flip_food_1 {
    loading: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_food_1_half, spriteset_koki_10000_flip_food_1_full];
    loaded: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_food_1_half, spriteset_koki_10000_flip_food_1_full];
}

spritegroup spritegroup_koki_10000_flip_oil_1 {
    loading: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_oil_1_half, spriteset_koki_10000_flip_oil_1_full];
    loaded: [spriteset_koki_10000_flip_empty_1, spriteset_koki_10000_flip_oil_1_half, spriteset_koki_10000_flip_oil_1_full];
}


spritegroup spritegroup_koki_10000_flip_goods_caboose_1 {
    loading: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_goods_caboose_1];
    loaded: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_goods_caboose_1];
}

spritegroup spritegroup_koki_10000_flip_food_caboose_1 {
    loading: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_food_caboose_1];
    loaded: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_food_caboose_1];
}

spritegroup spritegroup_koki_10000_flip_mixed_caboose_1 {
    loading: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_mixed_caboose_1];
    loaded: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_mixed_caboose_1];
}

spritegroup spritegroup_koki_10000_flip_oil_caboose_1 {
    loading: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_oil_caboose_1];
    loaded: [spriteset_koki_10000_flip_empty_caboose_1, spriteset_koki_10000_flip_oil_caboose_1];
}




spritegroup spritegroup_koki_10000_flip_goods_2 {
    loading: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_goods_2_half, spriteset_koki_10000_flip_goods_2_full];
    loaded: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_goods_2_half, spriteset_koki_10000_flip_goods_2_full];
}

spritegroup spritegroup_koki_10000_flip_mail_2 {
    loading: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_mail_2_half, spriteset_koki_10000_flip_mail_2_full];
    loaded: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_mail_2_half, spriteset_koki_10000_flip_mail_2_full];
}

spritegroup spritegroup_koki_10000_flip_mixed_2 {
    loading: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_mixed_2_half, spriteset_koki_10000_flip_mixed_2_full];
    loaded: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_mixed_2_half, spriteset_koki_10000_flip_mixed_2_full];
}

spritegroup spritegroup_koki_10000_flip_food_2 {
    loading: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_food_2_half, spriteset_koki_10000_flip_food_2_full];
    loaded: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_food_2_half, spriteset_koki_10000_flip_food_2_full];
}

spritegroup spritegroup_koki_10000_flip_oil_2 {
    loading: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_oil_2_half, spriteset_koki_10000_flip_oil_2_full];
    loaded: [spriteset_koki_10000_flip_empty_2, spriteset_koki_10000_flip_oil_2_half, spriteset_koki_10000_flip_oil_2_full];
}


spritegroup spritegroup_koki_10000_flip_goods_caboose_2 {
    loading: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_goods_caboose_2];
    loaded: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_goods_caboose_2];
}

spritegroup spritegroup_koki_10000_flip_food_caboose_2 {
    loading: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_food_caboose_2];
    loaded: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_food_caboose_2];
}

spritegroup spritegroup_koki_10000_flip_mixed_caboose_2 {
    loading: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_mixed_caboose_2];
    loaded: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_mixed_caboose_2];
}

spritegroup spritegroup_koki_10000_flip_oil_caboose_2 {
    loading: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_oil_caboose_2];
    loaded: [spriteset_koki_10000_flip_empty_caboose_2, spriteset_koki_10000_flip_oil_caboose_2];
}




//randoms
random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_mail) {
	1: spritegroup_koki_10000_mail_1;
    1: spritegroup_koki_10000_mail_2;
	1: spritegroup_koki_10000_flip_mail_1;
	1: spritegroup_koki_10000_flip_mail_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_goods) {
	1: spritegroup_koki_10000_goods_1;
    1: spritegroup_koki_10000_goods_2;
	1: spritegroup_koki_10000_flip_goods_1;
	1: spritegroup_koki_10000_flip_goods_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_food) {
	1: spritegroup_koki_10000_food_1;
    1: spritegroup_koki_10000_food_2;
	1: spritegroup_koki_10000_flip_food_1;
	1: spritegroup_koki_10000_flip_food_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_oil) {
	1: spritegroup_koki_10000_oil_1;
    1: spritegroup_koki_10000_oil_2;
	1: spritegroup_koki_10000_flip_oil_1;
	1: spritegroup_koki_10000_flip_oil_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_alcohol) {
	1: spritegroup_koki_10000_oil_1;
    1: spritegroup_koki_10000_oil_2;
	1: spritegroup_koki_10000_flip_oil_1;
	1: spritegroup_koki_10000_flip_oil_2;
	1: spritegroup_koki_10000_mixed_1;
    1: spritegroup_koki_10000_mixed_2;
	1: spritegroup_koki_10000_flip_mixed_1;
	1: spritegroup_koki_10000_flip_mixed_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_general_dry) {
	1: spritegroup_koki_10000_mail_1;
    1: spritegroup_koki_10000_mail_2;
	1: spritegroup_koki_10000_flip_mail_1;
	1: spritegroup_koki_10000_flip_mail_2;
	1: spritegroup_koki_10000_goods_1;
    1: spritegroup_koki_10000_goods_2;
	1: spritegroup_koki_10000_flip_goods_1;
	1: spritegroup_koki_10000_flip_goods_2;
	1: spritegroup_koki_10000_mixed_1;
    1: spritegroup_koki_10000_mixed_2;
	1: spritegroup_koki_10000_flip_mixed_1;
	1: spritegroup_koki_10000_flip_mixed_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_general_fluid) {
	1: spritegroup_koki_10000_oil_1;
    1: spritegroup_koki_10000_oil_2;
	1: spritegroup_koki_10000_flip_oil_1;
	1: spritegroup_koki_10000_flip_oil_2;
	1: spritegroup_koki_10000_goods_1;
    1: spritegroup_koki_10000_goods_2;
	1: spritegroup_koki_10000_flip_goods_1;
	1: spritegroup_koki_10000_flip_goods_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_edible_fluid) {
	1: spritegroup_koki_10000_oil_1;
    1: spritegroup_koki_10000_oil_2;
	1: spritegroup_koki_10000_flip_oil_1;
	1: spritegroup_koki_10000_flip_oil_2;
	1: spritegroup_koki_10000_food_1;
    1: spritegroup_koki_10000_food_2;
	1: spritegroup_koki_10000_flip_food_1;
	1: spritegroup_koki_10000_flip_food_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_general_refrigerated) {
	1: spritegroup_koki_10000_food_1;
    1: spritegroup_koki_10000_food_2;
	1: spritegroup_koki_10000_flip_food_1;
	1: spritegroup_koki_10000_flip_food_2;
	1: spritegroup_koki_10000_mixed_1;
    1: spritegroup_koki_10000_mixed_2;
	1: spritegroup_koki_10000_flip_mixed_1;
	1: spritegroup_koki_10000_flip_mixed_2;
}

//cabooseses

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_goods_caboose) {
	1: spritegroup_koki_10000_goods_caboose_1;
    1: spritegroup_koki_10000_goods_caboose_2;
	1: spritegroup_koki_10000_flip_goods_caboose_1;
	1: spritegroup_koki_10000_flip_goods_caboose_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_food_caboose) {
	1: spritegroup_koki_10000_food_caboose_1;
    1: spritegroup_koki_10000_food_caboose_2;
	1: spritegroup_koki_10000_flip_food_caboose_1;
	1: spritegroup_koki_10000_flip_food_caboose_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_mixed_caboose) {
	1: spritegroup_koki_10000_mixed_caboose_1;
    1: spritegroup_koki_10000_mixed_caboose_2;
	1: spritegroup_koki_10000_flip_mixed_caboose_1;
	1: spritegroup_koki_10000_flip_mixed_caboose_2;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_10000_oil_caboose) {
	1: spritegroup_koki_10000_oil_caboose_1;
    1: spritegroup_koki_10000_oil_caboose_2;
	1: spritegroup_koki_10000_flip_oil_caboose_1;
	1: spritegroup_koki_10000_flip_oil_caboose_2;
}



switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_class, cargo_classes) {
	bitmask(CC_LIQUID): switch_koki_10000_cargo_general_fluid;
	bitmask(CC_REFRIGERATED): switch_koki_10000_cargo_general_refrigerated;
	bitmask(CC_EXPRESS): switch_koki_10000_cargo_goods;
	
	switch_koki_10000_cargo_general_dry;
}

switch(FEAT_TRAINS, SELF, switch_koki_10000_cargo_selection, cargo_type_in_veh) {
	MAIL: switch_koki_10000_cargo_mail;
	GOOD: switch_koki_10000_cargo_goods;
	FOOD: switch_koki_10000_cargo_food;
	OIL_: switch_koki_10000_cargo_oil;
	BEER: switch_koki_10000_cargo_alcohol;
	VEHI: switch_koki_10000_cargo_goods;
	
	MILK: switch_koki_10000_cargo_edible_fluid;
	EOIL: switch_koki_10000_cargo_edible_fluid;
	
	ACID: switch_koki_10000_cargo_general_fluid;
	SULP: switch_koki_10000_cargo_general_fluid;
	CHLO: switch_koki_10000_cargo_general_fluid;
	
	FRUT: switch_koki_10000_cargo_general_refrigerated;
	FISH: switch_koki_10000_cargo_general_refrigerated;
	
	switch_koki_10000_cargo_class;
}



switch(FEAT_TRAINS, SELF, switch_koki_10000_caboose_cargo_class, cargo_classes) {
	bitmask(CC_LIQUID): switch_koki_10000_oil_caboose;
	bitmask(CC_REFRIGERATED): switch_koki_10000_food_caboose;
	bitmask(CC_EXPRESS): switch_koki_10000_goods_caboose;
	
	switch_koki_10000_mixed_caboose;
}

switch(FEAT_TRAINS, SELF, switch_koki_10000_caboose, position_in_vehid_chain_from_end) {
	0: switch_koki_10000_caboose_cargo_class;
	switch_koki_10000_cargo_selection;
	}
	
switch(FEAT_TRAINS, SELF, switch_koki_10000_caboose_front, position_in_vehid_chain) {
	0: switch_koki_10000_caboose_cargo_class;
	switch_koki_10000_caboose;
	}


item (FEAT_TRAINS, koki_10000, 1413) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_KOKI_10000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1966,1,1);
		speed: 100 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 70; 
		refit_cost: 0;
		default_cargo_type: GOOD;
		loading_speed: 35;
		refittable_cargo_classes: bitmask(CC_PIECE_GOODS, CC_EXPRESS, CC_LIQUID); 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [MAIL, GOOD, OIL_, PAPR, FOOD, RUBR, FRUT, WATR, SUGR, TOYS, BATT, STEL, METL, SWET, TOFF, COLA, CTCD, BUBL, PLST, FZDR, BEER, COPR, FICR, BDMT, CERA, CMNT, DYES, ENSP, FERT, FISH, FMSP, FRVG, GLAS, MILK, MNSP, PETR, PLAS, RCYC, RFPR, SULP, WDPR, WOOL, VEHI, EOIL, ACID, CHLO]; 
		cargo_disallow_refit: [PASS, COAL, LVST, GRAI, WOOD, IORE, VALU, WHEA, GOLD, MAIZ, CORE, DIAM, AORE, CERE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, JAVA];
		weight: 20;
		cost_factor: 9;
		running_cost_factor: 11;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 70;
		default: switch_koki_10000_caboose_front;
		purchase: spriteset_koki_10000_purchase;
		refit_cost: CB_RESULT_AUTOREFIT;
	}
}
spriteset(spriteset_koki_50000_purchase, "gfx/freight/koki_test.png") {
	template_purchase(1, 352)
}

//base
spriteset(spriteset_koki_50000_empty_a, "gfx/freight/koki_test.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_50000_empty_b, "gfx/freight/koki_test.png") {
	template_2cc_std(1, 32)
}

//handrail

spriteset(spriteset_koki_50000_handrail, "gfx/freight/koki_test.png") {
	template_2cc_std(1, 320)
}


//conts

spriteset(spriteset_koki_conts_1_a, "gfx/freight/koki_test.png") {
	template_container_1(1, 64)
}

spriteset(spriteset_koki_conts_2_a, "gfx/freight/koki_test.png") {
	template_container_2(1, 64)
}

spriteset(spriteset_koki_conts_3_a, "gfx/freight/koki_test.png") {
	template_container_3(1, 64)
}

spriteset(spriteset_koki_conts_4_a, "gfx/freight/koki_test.png") {
	template_container_4(1, 64)
}


spriteset(spriteset_koki_conts_1_b, "gfx/freight/koki_test.png") {
	template_container_1(1, 128)
}

spriteset(spriteset_koki_conts_2_b, "gfx/freight/koki_test.png") {
	template_container_2(1, 128)
}

spriteset(spriteset_koki_conts_3_b, "gfx/freight/koki_test.png") {
	template_container_3(1, 128)
}

spriteset(spriteset_koki_conts_4_b, "gfx/freight/koki_test.png") {
	template_container_4(1, 128)
}

spriteset(spriteset_koki_conts_1_c, "gfx/freight/koki_test.png") {
	template_container_1(1, 160)
}

spriteset(spriteset_koki_conts_2_c, "gfx/freight/koki_test.png") {
	template_container_2(1, 160)
}

spriteset(spriteset_koki_conts_3_c, "gfx/freight/koki_test.png") {
	template_container_3(1, 160)
}

spriteset(spriteset_koki_conts_4_c, "gfx/freight/koki_test.png") {
	template_container_4(1, 160)
}

spriteset(spriteset_koki_conts_1_d, "gfx/freight/koki_test.png") {
	template_container_1(1, 96)
}

spriteset(spriteset_koki_conts_2_d, "gfx/freight/koki_test.png") {
	template_container_2(1, 96)
}

spriteset(spriteset_koki_conts_3_d, "gfx/freight/koki_test.png") {
	template_container_3(1, 96)
}

spriteset(spriteset_koki_conts_4_d, "gfx/freight/koki_test.png") {
	template_container_4(1, 96)
}


random_switch (FEAT_TRAINS, SELF, random_koki_50000_brown) {
	2: spriteset_koki_50000_empty_a;
	1: spriteset_koki_50000_empty_b;
}

random_switch (FEAT_TRAINS, SELF, random_koki_50000_conts_1) {
	1: spriteset_koki_conts_1_a;
	1: spriteset_koki_conts_1_b;
	1: spriteset_koki_conts_1_c;
	1: spriteset_koki_conts_1_d;
}

random_switch (FEAT_TRAINS, SELF, random_koki_50000_conts_2) {
	independent: random_koki_50000_conts_1;
	1: spriteset_koki_conts_2_a;
	1: spriteset_koki_conts_2_b;
	1: spriteset_koki_conts_2_c;
	1: spriteset_koki_conts_2_d;
}

random_switch (FEAT_TRAINS, SELF, random_koki_50000_conts_3) {
	independent: random_koki_50000_conts_2;
	independent: random_koki_50000_conts_1;
	1: spriteset_koki_conts_3_a;
	1: spriteset_koki_conts_3_b;
	1: spriteset_koki_conts_3_c;
	1: spriteset_koki_conts_3_d;
}

random_switch (FEAT_TRAINS, SELF, random_koki_50000_conts_4) {
	independent: random_koki_50000_conts_3;
	independent: random_koki_50000_conts_2;
	independent: random_koki_50000_conts_1;
	1: spriteset_koki_conts_4_a;
	1: spriteset_koki_conts_4_b;
	1: spriteset_koki_conts_4_c;
	1: spriteset_koki_conts_4_d;
}



switch(FEAT_TRAINS, SELF, switch_koki_50000_up_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 5 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  random_koki_50000_brown;
    1:  random_koki_50000_conts_1;
	2:	random_koki_50000_conts_2;
	3:	random_koki_50000_conts_3;
	4:	random_koki_50000_conts_4;
	5:  spriteset_koki_50000_handrail;
}

switch(FEAT_TRAINS, SELF, switch_koki_50000_down_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 5 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  random_koki_50000_brown;
    1:  random_koki_50000_conts_4;
	2:	random_koki_50000_conts_3;
	3:	random_koki_50000_conts_2;
	4:	random_koki_50000_conts_1;
	5:  spriteset_koki_50000_handrail;
}

switch(FEAT_TRAINS, SELF, switch_koki_50000_direction, direction) {
	DIRECTION_SOUTHEAST: switch_koki_50000_down_loadstack;
	DIRECTION_SOUTH: switch_koki_50000_down_loadstack;
	DIRECTION_SOUTHWEST: switch_koki_50000_down_loadstack;
	switch_koki_50000_up_loadstack;
}


item (FEAT_TRAINS, koki_50000, 1414) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_KOKI_50000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1966,1,1);
		speed: 100 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 70; 
		refit_cost: 0;
		default_cargo_type: GOOD;
		loading_speed: 35;
		refittable_cargo_classes: bitmask(CC_PIECE_GOODS, CC_EXPRESS, CC_LIQUID); 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [MAIL, GOOD, OIL_, PAPR, FOOD, RUBR, FRUT, WATR, SUGR, TOYS, BATT, STEL, METL, SWET, TOFF, COLA, CTCD, BUBL, PLST, FZDR, BEER, COPR, FICR, BDMT, CERA, CMNT, DYES, ENSP, FERT, FISH, FMSP, FRVG, GLAS, MILK, MNSP, PETR, PLAS, RCYC, RFPR, SULP, WDPR, WOOL, VEHI, EOIL, ACID, CHLO]; 
		cargo_disallow_refit: [PASS, COAL, LVST, GRAI, WOOD, IORE, VALU, WHEA, GOLD, MAIZ, CORE, DIAM, AORE, CERE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, JAVA];
		weight: 20;
		cost_factor: 9;
		running_cost_factor: 11;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
		cargo_capacity: return 70;
		default: switch_koki_50000_direction;
		purchase: spriteset_koki_50000_purchase;
		refit_cost: CB_RESULT_AUTOREFIT;
	}
}
spriteset(spriteset_koki_purchase, "gfx/cont_red.png") {
	template_purchase(1, 352)
}

//cc
spriteset(spriteset_koki_cc_empty, "gfx/cont_cc.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_cc_tank_a_1, "gfx/cont_cc.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_cc_tank_a_2, "gfx/cont_cc.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_cc_cont_a_1, "gfx/cont_cc.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_cc_cont_a_2, "gfx/cont_cc.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_cc_cont_a_3, "gfx/cont_cc.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_cc_cont_b_1, "gfx/cont_cc.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_cc_cont_b_2, "gfx/cont_cc.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_cc_cont_c_1, "gfx/cont_cc.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_cc_cont_c_2, "gfx/cont_cc.png") {
	template_2cc_std(1, 288)
}


//red
spriteset(spriteset_koki_red_empty, "gfx/cont_red.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_red_tank_a_1, "gfx/cont_red.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_red_tank_a_2, "gfx/cont_red.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_red_tank_b_1, "gfx/cont_red.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_red_tank_b_2, "gfx/cont_red.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_red_tank_b_3, "gfx/cont_red.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_red_cont_a_1, "gfx/cont_red.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_red_cont_a_2, "gfx/cont_red.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_red_cont_a_3, "gfx/cont_red.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_red_cont_b_1, "gfx/cont_red.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_red_cont_b_2, "gfx/cont_red.png") {
	template_2cc_std(1, 320)
}


//blue
spriteset(spriteset_koki_blue_empty, "gfx/cont_blue.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_blue_cont_a_1, "gfx/cont_blue.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_blue_cont_a_2, "gfx/cont_blue.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_blue_tank_a_1, "gfx/cont_blue.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_blue_tank_a_2, "gfx/cont_blue.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_blue_tank_b_1, "gfx/cont_blue.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_blue_tank_b_2, "gfx/cont_blue.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_blue_cont_b_1, "gfx/cont_blue.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_blue_cont_b_2, "gfx/cont_blue.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_blue_cont_c_1, "gfx/cont_blue.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_koki_blue_cont_c_2, "gfx/cont_blue.png") {
	template_2cc_std(1, 320)
}

//grey

spriteset(spriteset_koki_grey_empty, "gfx/cont_grey.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_grey_tank_a_1, "gfx/cont_grey.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_grey_tank_a_2, "gfx/cont_grey.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_grey_tank_a_3, "gfx/cont_grey.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_grey_cont_a_1, "gfx/cont_grey.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_grey_cont_a_2, "gfx/cont_grey.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_grey_cont_b_1, "gfx/cont_grey.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_grey_cont_b_2, "gfx/cont_grey.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_grey_cont_c_1, "gfx/cont_grey.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_koki_grey_cont_c_2, "gfx/cont_grey.png") {
	template_2cc_std(1, 288)
}


//brown

spriteset(spriteset_koki_brown_empty, "gfx/cont_brown.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_koki_brown_tank_a_1, "gfx/cont_brown.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_koki_brown_tank_a_2, "gfx/cont_brown.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_koki_brown_tank_a_3, "gfx/cont_brown.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_koki_brown_cont_a_1, "gfx/cont_brown.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_koki_brown_cont_a_2, "gfx/cont_brown.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_koki_brown_cont_a_3, "gfx/cont_brown.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_koki_brown_cont_b_1, "gfx/cont_brown.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_koki_brown_cont_b_2, "gfx/cont_brown.png") {
	template_2cc_std(1, 256)
}


//FLIPPED wagon spritesets

//cc
spriteset(spriteset_flip_cc_empty, "gfx/cont_cc.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_cc_tank_a_1, "gfx/cont_cc.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_cc_tank_a_2, "gfx/cont_cc.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_cc_cont_a_1, "gfx/cont_cc.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_cc_cont_a_2, "gfx/cont_cc.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_flip_cc_cont_a_3, "gfx/cont_cc.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_cc_cont_b_1, "gfx/cont_cc.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_cc_cont_b_2, "gfx/cont_cc.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_flip_cc_cont_c_1, "gfx/cont_cc.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_flip_cc_cont_c_2, "gfx/cont_cc.png") {
	template_2cc_flip(1, 288)
}


//red
spriteset(spriteset_flip_red_empty, "gfx/cont_red.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_red_tank_a_1, "gfx/cont_red.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_red_tank_a_2, "gfx/cont_red.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_red_tank_b_1, "gfx/cont_red.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_red_tank_b_2, "gfx/cont_red.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_flip_red_tank_b_3, "gfx/cont_red.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_red_cont_a_1, "gfx/cont_red.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_red_cont_a_2, "gfx/cont_red.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_flip_red_cont_a_3, "gfx/cont_red.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_flip_red_cont_b_1, "gfx/cont_red.png") {
	template_2cc_flip(1, 288)
}

spriteset(spriteset_flip_red_cont_b_2, "gfx/cont_red.png") {
	template_2cc_flip(1, 320)
}


//blue
spriteset(spriteset_flip_blue_empty, "gfx/cont_blue.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_blue_cont_a_1, "gfx/cont_blue.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_blue_cont_a_2, "gfx/cont_blue.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_blue_tank_a_1, "gfx/cont_blue.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_blue_tank_a_2, "gfx/cont_blue.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_flip_blue_tank_b_1, "gfx/cont_blue.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_blue_tank_b_2, "gfx/cont_blue.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_blue_cont_b_1, "gfx/cont_blue.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_flip_blue_cont_b_2, "gfx/cont_blue.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_flip_blue_cont_c_1, "gfx/cont_blue.png") {
	template_2cc_flip(1, 288)
}

spriteset(spriteset_flip_blue_cont_c_2, "gfx/cont_blue.png") {
	template_2cc_flip(1, 320)
}

//grey

spriteset(spriteset_flip_grey_empty, "gfx/cont_grey.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_grey_tank_a_1, "gfx/cont_grey.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_grey_tank_a_2, "gfx/cont_grey.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_grey_tank_a_3, "gfx/cont_grey.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_grey_cont_a_1, "gfx/cont_grey.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_flip_grey_cont_a_2, "gfx/cont_grey.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_grey_cont_b_1, "gfx/cont_grey.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_grey_cont_b_2, "gfx/cont_grey.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_flip_grey_cont_c_1, "gfx/cont_grey.png") {
	template_2cc_flip(1, 256)
}

spriteset(spriteset_flip_grey_cont_c_2, "gfx/cont_grey.png") {
	template_2cc_flip(1, 288)
}


//brown

spriteset(spriteset_flip_brown_empty, "gfx/cont_brown.png") {
	template_2cc_flip(1, 1)
}

spriteset(spriteset_flip_brown_tank_a_1, "gfx/cont_brown.png") {
	template_2cc_flip(1, 32)
}

spriteset(spriteset_flip_brown_tank_a_2, "gfx/cont_brown.png") {
	template_2cc_flip(1, 64)
}

spriteset(spriteset_flip_brown_tank_a_3, "gfx/cont_brown.png") {
	template_2cc_flip(1, 96)
}

spriteset(spriteset_flip_brown_cont_a_1, "gfx/cont_brown.png") {
	template_2cc_flip(1, 128)
}

spriteset(spriteset_flip_brown_cont_a_2, "gfx/cont_brown.png") {
	template_2cc_flip(1, 160)
}

spriteset(spriteset_flip_brown_cont_a_3, "gfx/cont_brown.png") {
	template_2cc_flip(1, 192)
}

spriteset(spriteset_flip_brown_cont_b_1, "gfx/cont_brown.png") {
	template_2cc_flip(1, 224)
}

spriteset(spriteset_flip_brown_cont_b_2, "gfx/cont_brown.png") {
	template_2cc_flip(1, 256)
}


//spritegroups 

//cc

spritegroup spritegroup_koki_cc_tank_a {
    loading: [spriteset_koki_cc_empty, spriteset_koki_cc_tank_a_1, spriteset_koki_cc_tank_a_2];
    loaded: [spriteset_koki_cc_empty, spriteset_koki_cc_tank_a_1, spriteset_koki_cc_tank_a_2];
}

spritegroup spritegroup_koki_cc_cont_a {
    loading: [spriteset_koki_cc_empty, spriteset_koki_cc_cont_a_1, spriteset_koki_cc_cont_a_2, spriteset_koki_cc_cont_a_3];
    loaded: [spriteset_koki_cc_empty, spriteset_koki_cc_cont_a_1, spriteset_koki_cc_cont_a_2, spriteset_koki_cc_cont_a_3];
}

spritegroup spritegroup_koki_cc_cont_b {
    loading: [spriteset_koki_cc_empty, spriteset_koki_cc_cont_b_1, spriteset_koki_cc_cont_b_2];
    loaded: [spriteset_koki_cc_empty, spriteset_koki_cc_cont_b_1, spriteset_koki_cc_cont_b_2];
}

spritegroup spritegroup_koki_cc_cont_c {
    loading: [spriteset_koki_cc_empty, spriteset_koki_cc_cont_c_1, spriteset_koki_cc_cont_c_2];
    loaded: [spriteset_koki_cc_empty, spriteset_koki_cc_cont_c_1, spriteset_koki_cc_cont_c_2];
}

//red

spritegroup spritegroup_koki_red_tank_a {
    loading: [spriteset_koki_red_empty, spriteset_koki_red_tank_a_1, spriteset_koki_red_tank_a_2];
    loaded: [spriteset_koki_red_empty, spriteset_koki_red_tank_a_1, spriteset_koki_red_tank_a_2];
}

spritegroup spritegroup_koki_red_tank_b {
    loading: [spriteset_koki_red_empty, spriteset_koki_red_tank_b_1, spriteset_koki_red_tank_b_2, spriteset_koki_red_tank_b_3];
    loaded: [spriteset_koki_red_empty, spriteset_koki_red_tank_b_1, spriteset_koki_red_tank_b_2, spriteset_koki_red_tank_b_3];
}

spritegroup spritegroup_koki_red_cont_a {
    loading: [spriteset_koki_red_empty, spriteset_koki_red_cont_a_1, spriteset_koki_red_cont_a_2, spriteset_koki_red_cont_a_3];
    loaded: [spriteset_koki_red_empty, spriteset_koki_red_cont_a_1, spriteset_koki_red_cont_a_2, spriteset_koki_red_cont_a_3];
}

spritegroup spritegroup_koki_red_cont_b {
    loading: [spriteset_koki_red_empty, spriteset_koki_red_cont_b_1, spriteset_koki_red_cont_b_2];
    loaded: [spriteset_koki_red_empty, spriteset_koki_red_cont_b_1, spriteset_koki_red_cont_b_2];
}

//blue

spritegroup spritegroup_koki_blue_cont_a {
    loading: [spriteset_koki_blue_empty, spriteset_koki_blue_cont_a_1, spriteset_koki_blue_cont_a_2];
    loaded: [spriteset_koki_blue_empty, spriteset_koki_blue_cont_a_1, spriteset_koki_blue_cont_a_2];
}

spritegroup spritegroup_koki_blue_tank_a {
    loading: [spriteset_koki_blue_empty, spriteset_koki_blue_tank_a_1, spriteset_koki_blue_tank_a_2];
    loaded: [spriteset_koki_blue_empty, spriteset_koki_blue_tank_a_1, spriteset_koki_blue_tank_a_2];
}

spritegroup spritegroup_koki_blue_tank_b {
    loading: [spriteset_koki_blue_empty, spriteset_koki_blue_tank_b_1, spriteset_koki_blue_tank_b_2];
    loaded: [spriteset_koki_blue_empty, spriteset_koki_blue_tank_b_1, spriteset_koki_blue_tank_b_2];
}

spritegroup spritegroup_koki_blue_cont_b {
    loading: [spriteset_koki_blue_empty, spriteset_koki_blue_cont_b_1, spriteset_koki_blue_cont_b_2];
    loaded: [spriteset_koki_blue_empty, spriteset_koki_blue_cont_b_1, spriteset_koki_blue_cont_b_2];
}

spritegroup spritegroup_koki_blue_cont_c {
    loading: [spriteset_koki_blue_empty, spriteset_koki_blue_cont_c_1, spriteset_koki_blue_cont_c_2];
    loaded: [spriteset_koki_blue_empty, spriteset_koki_blue_cont_c_1, spriteset_koki_blue_cont_c_2];
}

//grey

spritegroup spritegroup_koki_grey_tank_a {
    loading: [spriteset_koki_grey_empty, spriteset_koki_grey_tank_a_1, spriteset_koki_grey_tank_a_2, spriteset_koki_grey_tank_a_3];
    loaded: [spriteset_koki_grey_empty, spriteset_koki_grey_tank_a_1, spriteset_koki_grey_tank_a_2, spriteset_koki_grey_tank_a_3];
}

spritegroup spritegroup_koki_grey_cont_a {
    loading: [spriteset_koki_grey_empty, spriteset_koki_grey_cont_a_1, spriteset_koki_grey_cont_a_2];
    loaded: [spriteset_koki_grey_empty, spriteset_koki_grey_cont_a_1, spriteset_koki_grey_cont_a_2];
}

spritegroup spritegroup_koki_grey_cont_b {
    loading: [spriteset_koki_grey_empty, spriteset_koki_grey_cont_b_1, spriteset_koki_grey_cont_b_2];
    loaded: [spriteset_koki_grey_empty, spriteset_koki_grey_cont_b_1, spriteset_koki_grey_cont_b_2];
}

spritegroup spritegroup_koki_grey_cont_c {
    loading: [spriteset_koki_grey_empty, spriteset_koki_grey_cont_c_1, spriteset_koki_grey_cont_c_2];
    loaded: [spriteset_koki_grey_empty, spriteset_koki_grey_cont_c_1, spriteset_koki_grey_cont_c_2];
}

//brown

spritegroup spritegroup_koki_brown_tank_a {
    loading: [spriteset_koki_brown_empty, spriteset_koki_brown_tank_a_1, spriteset_koki_brown_tank_a_2, spriteset_koki_brown_tank_a_3];
    loaded: [spriteset_koki_brown_empty, spriteset_koki_brown_tank_a_1, spriteset_koki_brown_tank_a_2, spriteset_koki_brown_tank_a_3];
}

spritegroup spritegroup_koki_brown_cont_a {
    loading: [spriteset_koki_brown_empty, spriteset_koki_brown_cont_a_1, spriteset_koki_brown_cont_a_2, spriteset_koki_brown_cont_a_3];
    loaded: [spriteset_koki_brown_empty, spriteset_koki_brown_cont_a_1, spriteset_koki_brown_cont_a_2, spriteset_koki_brown_cont_a_3];
}

spritegroup spritegroup_koki_brown_cont_b {
    loading: [spriteset_koki_brown_empty, spriteset_koki_brown_cont_b_1, spriteset_koki_brown_cont_b_2];
    loaded: [spriteset_koki_brown_empty, spriteset_koki_brown_cont_b_1, spriteset_koki_brown_cont_b_2];
}

//spritegroups FLIPPED

//cc

spritegroup spritegroup_flip_cc_tank_a {
    loading: [spriteset_flip_cc_empty, spriteset_flip_cc_tank_a_1, spriteset_flip_cc_tank_a_2];
    loaded: [spriteset_flip_cc_empty, spriteset_flip_cc_tank_a_1, spriteset_flip_cc_tank_a_2];
}

spritegroup spritegroup_flip_cc_cont_a {
    loading: [spriteset_flip_cc_empty, spriteset_flip_cc_cont_a_1, spriteset_flip_cc_cont_a_2, spriteset_flip_cc_cont_a_3];
    loaded: [spriteset_flip_cc_empty, spriteset_flip_cc_cont_a_1, spriteset_flip_cc_cont_a_2, spriteset_flip_cc_cont_a_3];
}

spritegroup spritegroup_flip_cc_cont_b {
    loading: [spriteset_flip_cc_empty, spriteset_flip_cc_cont_b_1, spriteset_flip_cc_cont_b_2];
    loaded: [spriteset_flip_cc_empty, spriteset_flip_cc_cont_b_1, spriteset_flip_cc_cont_b_2];
}

spritegroup spritegroup_flip_cc_cont_c {
    loading: [spriteset_flip_cc_empty, spriteset_flip_cc_cont_c_1, spriteset_flip_cc_cont_c_2];
    loaded: [spriteset_flip_cc_empty, spriteset_flip_cc_cont_c_1, spriteset_flip_cc_cont_c_2];
}

//red

spritegroup spritegroup_flip_red_tank_a {
    loading: [spriteset_flip_red_empty, spriteset_flip_red_tank_a_1, spriteset_flip_red_tank_a_2];
    loaded: [spriteset_flip_red_empty, spriteset_flip_red_tank_a_1, spriteset_flip_red_tank_a_2];
}

spritegroup spritegroup_flip_red_tank_b {
    loading: [spriteset_flip_red_empty, spriteset_flip_red_tank_b_1, spriteset_flip_red_tank_b_2, spriteset_flip_red_tank_b_3];
    loaded: [spriteset_flip_red_empty, spriteset_flip_red_tank_b_1, spriteset_flip_red_tank_b_2, spriteset_flip_red_tank_b_3];
}

spritegroup spritegroup_flip_red_cont_a {
    loading: [spriteset_flip_red_empty, spriteset_flip_red_cont_a_1, spriteset_flip_red_cont_a_2, spriteset_flip_red_cont_a_3];
    loaded: [spriteset_flip_red_empty, spriteset_flip_red_cont_a_1, spriteset_flip_red_cont_a_2, spriteset_flip_red_cont_a_3];
}

spritegroup spritegroup_flip_red_cont_b {
    loading: [spriteset_flip_red_empty, spriteset_flip_red_cont_b_1, spriteset_flip_red_cont_b_2];
    loaded: [spriteset_flip_red_empty, spriteset_flip_red_cont_b_1, spriteset_flip_red_cont_b_2];
}

//blue

spritegroup spritegroup_flip_blue_cont_a {
    loading: [spriteset_flip_blue_empty, spriteset_flip_blue_cont_a_1, spriteset_flip_blue_cont_a_2];
    loaded: [spriteset_flip_blue_empty, spriteset_flip_blue_cont_a_1, spriteset_flip_blue_cont_a_2];
}

spritegroup spritegroup_flip_blue_tank_a {
    loading: [spriteset_flip_blue_empty, spriteset_flip_blue_tank_a_1, spriteset_flip_blue_tank_a_2];
    loaded: [spriteset_flip_blue_empty, spriteset_flip_blue_tank_a_1, spriteset_flip_blue_tank_a_2];
}

spritegroup spritegroup_flip_blue_tank_b {
    loading: [spriteset_flip_blue_empty, spriteset_flip_blue_tank_b_1, spriteset_flip_blue_tank_b_2];
    loaded: [spriteset_flip_blue_empty, spriteset_flip_blue_tank_b_1, spriteset_flip_blue_tank_b_2];
}

spritegroup spritegroup_flip_blue_cont_b {
    loading: [spriteset_flip_blue_empty, spriteset_flip_blue_cont_b_1, spriteset_flip_blue_cont_b_2];
    loaded: [spriteset_flip_blue_empty, spriteset_flip_blue_cont_b_1, spriteset_flip_blue_cont_b_2];
}

spritegroup spritegroup_flip_blue_cont_c {
    loading: [spriteset_flip_blue_empty, spriteset_flip_blue_cont_c_1, spriteset_flip_blue_cont_c_2];
    loaded: [spriteset_flip_blue_empty, spriteset_flip_blue_cont_c_1, spriteset_flip_blue_cont_c_2];
}


//grey

spritegroup spritegroup_flip_grey_tank_a {
    loading: [spriteset_flip_grey_empty, spriteset_flip_grey_tank_a_1, spriteset_flip_grey_tank_a_2, spriteset_flip_grey_tank_a_3];
    loaded: [spriteset_flip_grey_empty, spriteset_flip_grey_tank_a_1, spriteset_flip_grey_tank_a_2, spriteset_flip_grey_tank_a_3];
}

spritegroup spritegroup_flip_grey_cont_a {
    loading: [spriteset_flip_grey_empty, spriteset_flip_grey_cont_a_1, spriteset_flip_grey_cont_a_2];
    loaded: [spriteset_flip_grey_empty, spriteset_flip_grey_cont_a_1, spriteset_flip_grey_cont_a_2];
}

spritegroup spritegroup_flip_grey_cont_b {
    loading: [spriteset_flip_grey_empty, spriteset_flip_grey_cont_b_1, spriteset_flip_grey_cont_b_2];
    loaded: [spriteset_flip_grey_empty, spriteset_flip_grey_cont_b_1, spriteset_flip_grey_cont_b_2];
}

spritegroup spritegroup_flip_grey_cont_c {
    loading: [spriteset_flip_grey_empty, spriteset_flip_grey_cont_c_1, spriteset_flip_grey_cont_c_2];
    loaded: [spriteset_flip_grey_empty, spriteset_flip_grey_cont_c_1, spriteset_flip_grey_cont_c_2];
}

//brown

spritegroup spritegroup_flip_brown_tank_a {
    loading: [spriteset_flip_brown_empty, spriteset_flip_brown_tank_a_1, spriteset_flip_brown_tank_a_2, spriteset_flip_brown_tank_a_3];
    loaded: [spriteset_flip_brown_empty, spriteset_flip_brown_tank_a_1, spriteset_flip_brown_tank_a_2, spriteset_flip_brown_tank_a_3];
}

spritegroup spritegroup_flip_brown_cont_a {
    loading: [spriteset_flip_brown_empty, spriteset_flip_brown_cont_a_1, spriteset_flip_brown_cont_a_2, spriteset_flip_brown_cont_a_3];
    loaded: [spriteset_flip_brown_empty, spriteset_flip_brown_cont_a_1, spriteset_flip_brown_cont_a_2, spriteset_flip_brown_cont_a_3];
}

spritegroup spritegroup_flip_brown_cont_b {
    loading: [spriteset_flip_brown_empty, spriteset_flip_brown_cont_b_1, spriteset_flip_brown_cont_b_2];
    loaded: [spriteset_flip_brown_empty, spriteset_flip_brown_cont_b_1, spriteset_flip_brown_cont_b_2];
}


//random switches




random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_mail) {
	1: spritegroup_koki_red_cont_a;
    1: spritegroup_koki_cc_cont_a;
	1: spritegroup_koki_blue_cont_b;
	1: spritegroup_koki_grey_cont_a;
	1: spritegroup_koki_grey_cont_b;
	1: spritegroup_koki_brown_cont_a;
	1: spritegroup_koki_brown_cont_b;
	1: spritegroup_flip_red_cont_a;
    1: spritegroup_flip_cc_cont_a;
	1: spritegroup_flip_blue_cont_b;
	1: spritegroup_flip_grey_cont_a;
	1: spritegroup_flip_grey_cont_b;
	1: spritegroup_flip_brown_cont_a;
	1: spritegroup_flip_brown_cont_b;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_goods) {
	1: spritegroup_koki_red_cont_a;
	1: spritegroup_koki_red_cont_b;
    1: spritegroup_koki_cc_cont_a;
	1: spritegroup_koki_cc_tank_a;
	1: spritegroup_koki_blue_cont_b;
	1: spritegroup_koki_blue_cont_c;
	1: spritegroup_koki_grey_cont_a;
	1: spritegroup_koki_grey_cont_b;
	1: spritegroup_koki_brown_cont_a;
	1: spritegroup_koki_brown_cont_b;
	1: spritegroup_flip_red_cont_a;
	1: spritegroup_flip_red_cont_b;
    1: spritegroup_flip_cc_cont_a;
	1: spritegroup_flip_cc_tank_a;
	1: spritegroup_flip_blue_cont_b;
	1: spritegroup_flip_blue_cont_c;
	1: spritegroup_flip_grey_cont_a;
	1: spritegroup_flip_grey_cont_b;
	1: spritegroup_flip_brown_cont_a;
	1: spritegroup_flip_brown_cont_b;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_food) {
    1: spritegroup_koki_red_cont_b;
    1: spritegroup_koki_cc_tank_a;	
	1: spritegroup_koki_cc_cont_b;	
	1: spritegroup_koki_cc_cont_c;	
	1: spritegroup_koki_blue_cont_a;
	1: spritegroup_koki_blue_cont_b;
	1: spritegroup_koki_blue_tank_a;
	1: spritegroup_koki_blue_tank_b;
	1: spritegroup_koki_grey_cont_c;
    1: spritegroup_flip_red_cont_b;
    1: spritegroup_flip_cc_tank_a;	
	1: spritegroup_flip_cc_cont_b;	
	1: spritegroup_flip_cc_cont_c;	
	1: spritegroup_flip_blue_cont_a;
	1: spritegroup_flip_blue_cont_b;
	1: spritegroup_flip_blue_tank_a;
	1: spritegroup_flip_blue_tank_b;
	1: spritegroup_flip_grey_cont_c;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_oil) {
	1: spritegroup_koki_red_tank_a;
    1: spritegroup_koki_red_tank_b;
	1: spritegroup_koki_grey_tank_a;
	1: spritegroup_koki_brown_tank_a;
	1: spritegroup_flip_red_tank_a;
    1: spritegroup_flip_red_tank_b;
	1: spritegroup_flip_grey_tank_a;
	1: spritegroup_flip_brown_tank_a;	
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_alcohol) {
    1: spritegroup_koki_red_cont_b;
    1: spritegroup_koki_cc_tank_a;	
	1: spritegroup_koki_cc_cont_b;	
	1: spritegroup_koki_cc_cont_c;	
	1: spritegroup_koki_blue_cont_a;
	1: spritegroup_koki_blue_cont_b;
	1: spritegroup_koki_blue_tank_a;
	1: spritegroup_koki_blue_tank_b;
	1: spritegroup_koki_grey_cont_c;
	1: spritegroup_koki_grey_tank_a;
	1: spritegroup_koki_brown_tank_a;
    1: spritegroup_flip_red_cont_b;
    1: spritegroup_flip_cc_tank_a;	
	1: spritegroup_flip_cc_cont_b;	
	1: spritegroup_flip_cc_cont_c;	
	1: spritegroup_flip_blue_cont_a;
	1: spritegroup_flip_blue_cont_b;
	1: spritegroup_flip_blue_tank_a;
	1: spritegroup_flip_blue_tank_b;
	1: spritegroup_flip_grey_cont_c;
	1: spritegroup_flip_grey_tank_a;
	1: spritegroup_flip_brown_tank_a;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_general_dry) {
	1: spritegroup_koki_red_cont_a;
	1: spritegroup_koki_red_cont_b;
    1: spritegroup_koki_cc_cont_a;
    1: spritegroup_koki_cc_cont_b;
	1: spritegroup_koki_blue_cont_b;
	1: spritegroup_koki_blue_cont_c;
	1: spritegroup_koki_grey_cont_a;
	1: spritegroup_koki_grey_cont_b;
	1: spritegroup_koki_brown_cont_a;
	1: spritegroup_koki_brown_cont_b;
	1: spritegroup_flip_red_cont_a;
	1: spritegroup_flip_red_cont_b;
    1: spritegroup_flip_cc_cont_a;
    1: spritegroup_flip_cc_cont_b;
	1: spritegroup_flip_blue_cont_b;
	1: spritegroup_flip_blue_cont_c;
	1: spritegroup_flip_grey_cont_a;
	1: spritegroup_flip_grey_cont_b;
	1: spritegroup_flip_brown_cont_a;
	1: spritegroup_flip_brown_cont_b;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_general_fluid) {
	1: spritegroup_koki_red_tank_a;
    1: spritegroup_koki_red_tank_b;
	1: spritegroup_koki_cc_tank_a;	
	1: spritegroup_koki_blue_tank_a;	
	1: spritegroup_koki_blue_tank_b;	
	1: spritegroup_koki_grey_tank_a;
	1: spritegroup_koki_brown_tank_a;
	1: spritegroup_flip_red_tank_a;
    1: spritegroup_flip_red_tank_b;
	1: spritegroup_flip_cc_tank_a;	
	1: spritegroup_flip_blue_tank_a;	
	1: spritegroup_flip_blue_tank_b;	
	1: spritegroup_flip_grey_tank_a;
	1: spritegroup_flip_brown_tank_a;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_edible_fluid) {
	1: spritegroup_koki_cc_cont_c;
    1: spritegroup_koki_red_tank_b;
	1: spritegroup_koki_cc_tank_a;	
	1: spritegroup_koki_blue_tank_a;	
	1: spritegroup_koki_blue_tank_b;	
	1: spritegroup_koki_blue_cont_a;
	1: spritegroup_koki_brown_tank_a;
	1: spritegroup_flip_cc_cont_c;
    1: spritegroup_flip_red_tank_b;
	1: spritegroup_flip_cc_tank_a;	
	1: spritegroup_flip_blue_tank_a;	
	1: spritegroup_flip_blue_tank_b;	
	1: spritegroup_flip_blue_cont_a;
	1: spritegroup_flip_brown_tank_a;
}

random_switch(FEAT_TRAINS, SELF, switch_koki_cargo_general_refrigerated) {
    1: spritegroup_koki_red_cont_b;	
	1: spritegroup_koki_cc_cont_b;	
	1: spritegroup_koki_cc_cont_c;	
	1: spritegroup_koki_blue_cont_a;
	1: spritegroup_koki_blue_cont_b;
	1: spritegroup_koki_grey_cont_c;
    1: spritegroup_flip_red_cont_b;
	1: spritegroup_flip_cc_cont_b;	
	1: spritegroup_flip_cc_cont_c;	
	1: spritegroup_flip_blue_cont_a;
	1: spritegroup_flip_blue_cont_b;
	1: spritegroup_flip_grey_cont_c;
}



switch(FEAT_TRAINS, SELF, switch_koki_cargo_class, cargo_classes) {
	bitmask(CC_LIQUID): switch_koki_cargo_general_fluid;
	bitmask(CC_REFRIGERATED): switch_koki_cargo_general_refrigerated;
	bitmask(CC_EXPRESS): switch_koki_cargo_goods;
	
	switch_koki_cargo_general_dry;
}

switch(FEAT_TRAINS, SELF, switch_koki_cargo_selection, cargo_type_in_veh) {
	MAIL: switch_koki_cargo_mail;
	GOOD: switch_koki_cargo_goods;
	FOOD: switch_koki_cargo_food;
	OIL_: switch_koki_cargo_oil;
	BEER: switch_koki_cargo_alcohol;
	VEHI: switch_koki_cargo_goods;
	
	MILK: switch_koki_cargo_edible_fluid;
	EOIL: switch_koki_cargo_edible_fluid;
	
	ACID: switch_koki_cargo_general_fluid;
	SULP: switch_koki_cargo_general_fluid;
	CHLO: switch_koki_cargo_general_fluid;
	
	FRUT: switch_koki_cargo_general_refrigerated;
	FISH: switch_koki_cargo_general_refrigerated;
	
	switch_koki_cargo_class;
}

//container wagons
//FIX LOAD SPEEDvvv, check for food bug
item (FEAT_TRAINS, koki_100, 1400) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_CONTAINER);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1985,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 90; 
		refit_cost: 0;
		default_cargo_type: GOOD;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_PIECE_GOODS, CC_EXPRESS, CC_LIQUID); 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [MAIL, GOOD, OIL_, PAPR, FOOD, RUBR, FRUT, WATR, SUGR, TOYS, BATT, STEL, METL, SWET, TOFF, COLA, CTCD, BUBL, PLST, FZDR, BEER, COPR, FICR, BDMT, CERA, CMNT, DYES, ENSP, FERT, FISH, FMSP, FRVG, GLAS, MILK, MNSP, PETR, PLAS, RCYC, RFPR, SULP, WDPR, WOOL, VEHI, EOIL, ACID, CHLO]; 
		cargo_disallow_refit: [PASS, COAL, LVST, GRAI, WOOD, IORE, VALU, WHEA, GOLD, MAIZ, CORE, DIAM, AORE, BRCK, CERE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, JAVA];
		weight: 20;
		cost_factor: 23;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 90;
		default: switch_koki_cargo_selection;
		purchase: spriteset_koki_purchase;
		refit_cost: CB_RESULT_AUTOREFIT;
	}
}

spriteset(spriteset_coilcarrier_purchase, "gfx/freight/steel_coilcarrier_a.png") {
	template_purchase(1, 256)
}

//a

spriteset(spriteset_coilcarrier_a_empty, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_coilcarrier_coils_a_half, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_coilcarrier_coils_a_full, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_coilcarrier_sheets_a_half, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_coilcarrier_sheets_a_full, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_coilcarrier_rods_a_half, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_coilcarrier_rods_a_full, "gfx/freight/steel_coilcarrier_a.png") {
	template_2cc_std(1, 192)
}

//b

spriteset(spriteset_coilcarrier_b_empty, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_coilcarrier_coils_b_half, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_coilcarrier_coils_b_full, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_coilcarrier_sheets_b_half, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_coilcarrier_sheets_b_full, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_coilcarrier_rods_b_half, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_coilcarrier_rods_b_full, "gfx/freight/steel_coilcarrier_b.png") {
	template_2cc_std(1, 192)
}

//coilcarrier spritegroups

spritegroup spritegroup_coilcarrier_coils_a {
    loading: [spriteset_coilcarrier_a_empty, spriteset_coilcarrier_coils_a_half, spriteset_coilcarrier_coils_a_full];
    loaded: [spriteset_coilcarrier_a_empty, spriteset_coilcarrier_coils_a_half, spriteset_coilcarrier_coils_a_full];
}

spritegroup spritegroup_coilcarrier_sheets_a {
    loading: [spriteset_coilcarrier_a_empty, spriteset_coilcarrier_sheets_a_half, spriteset_coilcarrier_sheets_a_full];
    loaded: [spriteset_coilcarrier_a_empty, spriteset_coilcarrier_sheets_a_half, spriteset_coilcarrier_sheets_a_full];
}

spritegroup spritegroup_coilcarrier_rods_a {
    loading: [spriteset_coilcarrier_a_empty, spriteset_coilcarrier_rods_a_half, spriteset_coilcarrier_rods_a_full];
    loaded: [spriteset_coilcarrier_a_empty, spriteset_coilcarrier_rods_a_half, spriteset_coilcarrier_rods_a_full];
}

spritegroup spritegroup_coilcarrier_coils_b {
    loading: [spriteset_coilcarrier_b_empty, spriteset_coilcarrier_coils_b_half, spriteset_coilcarrier_coils_b_full];
    loaded: [spriteset_coilcarrier_b_empty, spriteset_coilcarrier_coils_b_half, spriteset_coilcarrier_coils_b_full];
}

spritegroup spritegroup_coilcarrier_sheets_b {
    loading: [spriteset_coilcarrier_b_empty, spriteset_coilcarrier_sheets_b_half, spriteset_coilcarrier_sheets_b_full];
    loaded: [spriteset_coilcarrier_b_empty, spriteset_coilcarrier_sheets_b_half, spriteset_coilcarrier_sheets_b_full];
}

spritegroup spritegroup_coilcarrier_rods_b {
    loading: [spriteset_coilcarrier_b_empty, spriteset_coilcarrier_rods_b_half, spriteset_coilcarrier_rods_b_full];
    loaded: [spriteset_coilcarrier_b_empty, spriteset_coilcarrier_rods_b_half, spriteset_coilcarrier_rods_b_full];
}


random_switch(FEAT_TRAINS, SELF, random_coilcarrier_coils_livery) {
	1: spritegroup_coilcarrier_coils_a;
    1: spritegroup_coilcarrier_coils_b;
}

random_switch(FEAT_TRAINS, SELF, random_coilcarrier_sheets_livery) {
	1: spritegroup_coilcarrier_sheets_a;
    1: spritegroup_coilcarrier_sheets_b;
}

random_switch(FEAT_TRAINS, SELF, random_coilcarrier_rods_livery) {
	1: spritegroup_coilcarrier_rods_a;
    1: spritegroup_coilcarrier_rods_b;
}

random_switch(FEAT_TRAINS, SELF, random_coilcarrier_sections) {
	1: random_coilcarrier_sheets_livery;
    1: random_coilcarrier_rods_livery;
}

random_switch(FEAT_TRAINS, SELF, random_coilcarrier_metals) {
	1: random_coilcarrier_coils_livery;
    1: random_coilcarrier_sheets_livery;
}

random_switch(FEAT_TRAINS, SELF, random_coilcarrier_all) {
	1: random_coilcarrier_coils_livery;
    1: random_coilcarrier_sheets_livery;
    1: random_coilcarrier_rods_livery;
}




switch(FEAT_TRAINS, SELF, switch_coilcarrier_cargo_selection, cargo_type_in_veh) {
	STEL: random_coilcarrier_coils_livery;
	METL: random_coilcarrier_metals;
	ZINC: random_coilcarrier_metals;
	COPR: random_coilcarrier_metals;
	IRON: random_coilcarrier_sheets_livery;
	NICK: random_coilcarrier_metals;
	STST: random_coilcarrier_metals;
	STAL: random_coilcarrier_metals;
	STCB: random_coilcarrier_metals;
	STSE: random_coilcarrier_sections;
	STSH: random_coilcarrier_sheets_livery;
	STWR: random_coilcarrier_rods_livery;
	
	random_coilcarrier_all;
}


item (FEAT_TRAINS, coil_carrier, 1402) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_COIL_CARRIER);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1920,1,1);
		speed: 65 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 42; 
		refit_cost: 0;
		default_cargo_type: STEL;
		loading_speed: 20;
		refittable_cargo_classes: 0; 
		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [STEL, METL, COPR, ZINC, IRON, NICK, STAL, STCB, STSE, STSH, STST, STWR]; 
		cargo_disallow_refit: [PASS, COAL, LVST, GRAI, WOOD, IORE, VALU, WHEA, GOLD, MAIZ, CORE, DIAM, AORE, BRCK, CERE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SCMT, SGBT, SGCN, TOUR, JAVA, MAIL, OIL_, PAPR, FOOD, RUBR, FRUT, WATR, SUGR, TOYS, BATT, SWET, TOFF, COLA, CTCD, BUBL, PLST, FZDR, BEER, FICR, BDMT, CERA, CMNT, DYES, FERT, FISH, FRVG, GLAS, MILK, MNSP, PETR, PLAS, RCYC, RFPR, SULP, WDPR, WOOL, EOIL, ACID, CHLO];
		weight: 10;
		cost_factor: 6;
		length: 6;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 42;
		default: switch_coilcarrier_cargo_selection;
		purchase: spriteset_coilcarrier_purchase;
		colour_mapping: switch_generic_recolour;
		refit_cost: CB_RESULT_AUTOREFIT;
	}
}

spriteset(spriteset_slag_ladle_old_empty, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_slag_ladle_old_half, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(1, 192)
}

spriteset(spriteset_slag_ladle_old_full, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(1, 224)
}


spriteset(spriteset_slag_ladle_new_empty, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(180, 160)
}

spriteset(spriteset_slag_ladle_new_half, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(180, 192)
}

spriteset(spriteset_slag_ladle_new_full, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(180, 224)
}


spriteset(spriteset_slag_ladle_yawata_old_purchase, "gfx/freight/steel_wagons.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_slag_ladle_yawata_new_purchase, "gfx/freight/steel_wagons.png") {
	template_purchase(180, 288)
}

spriteset(spriteset_slag_ladle_nippon_purchase, "gfx/freight/steel_wagons.png") {
	template_purchase(89, 288)
}

spritegroup spritegroup_slag_ladle_old {
    loading: [spriteset_slag_ladle_old_empty, spriteset_slag_ladle_old_half, spriteset_slag_ladle_old_full];
    loaded:  [spriteset_slag_ladle_old_empty, spriteset_slag_ladle_old_half, spriteset_slag_ladle_old_full];
}

spritegroup spritegroup_slag_ladle_new {
    loading: [spriteset_slag_ladle_new_empty, spriteset_slag_ladle_new_half, spriteset_slag_ladle_new_full];
    loaded:  [spriteset_slag_ladle_new_empty, spriteset_slag_ladle_new_half, spriteset_slag_ladle_new_full];
}

switch(FEAT_TRAINS, SELF, switch_slag_ladle_yeardep, build_year) {
	0..1950: spritegroup_slag_ladle_old;
	spritegroup_slag_ladle_new;
}

switch(FEAT_TRAINS, SELF, switch_slag_ladle_purchase, current_year) {
	0..1950: spriteset_slag_ladle_yawata_old_purchase;
	1950..1990: spriteset_slag_ladle_yawata_new_purchase;
	spriteset_slag_ladle_nippon_purchase;
	}

item (FEAT_TRAINS, slag_ladle, 1420) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_SLAG_LADLE);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1900,1,1);
		speed: 60 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 38; 
		refit_cost: 0;
		default_cargo_type: SLAG;
		loading_speed: 40;
		cargo_allow_refit: [SLAG, IRON, METL]; 
		weight: 30;
		cost_factor: 10;
		length: 4;
//		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 38;
		default: switch_slag_ladle_yeardep;
		purchase: switch_slag_ladle_purchase;
	}
}
spriteset(spriteset_torpedo_old_front, "gfx/freight/steel_wagons.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_torpedo_old_rear, "gfx/freight/steel_wagons.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_torpedo_new_front, "gfx/freight/steel_wagons.png") {
	template_2cc_std(180, 1)
}

spriteset(spriteset_torpedo_new_rear, "gfx/freight/steel_wagons.png") {
	template_2cc_std(180, 32)
}


spriteset(spriteset_torpedo_empty, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_torpedo_half, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_torpedo_full, "gfx/freight/steel_wagons.png") {
	template_2cc_anim(1, 128)
}



spriteset(spriteset_torpedo_yawata_old_purchase, "gfx/freight/steel_wagons.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_torpedo_yawata_new_purchase, "gfx/freight/steel_wagons.png") {
	template_purchase(180, 256)
}

spriteset(spriteset_torpedo_nippon_purchase, "gfx/freight/steel_wagons.png") {
	template_purchase(89, 256)
}

switch(FEAT_TRAINS, SELF, switch_torpedo_purchase, current_year) {
	0..1950: spriteset_torpedo_yawata_old_purchase;
	1950..1990: spriteset_torpedo_yawata_new_purchase;
	spriteset_torpedo_nippon_purchase;
	}

/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_torpedo_articulated_part, extra_callback_info1) {
	1: return torpedo_car_middle;
    2: return torpedo_car_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, switch_torpedo_front_yeardep, build_year) {
	0..1950: spriteset_torpedo_old_front;
	spriteset_torpedo_new_front;
}

switch(FEAT_TRAINS, SELF, switch_torpedo_rear_yeardep, build_year) {
	0..1950: spriteset_torpedo_old_rear;
	spriteset_torpedo_new_rear;
}



switch(FEAT_TRAINS, SELF, switch_torpedo_loading, cargo_count) {
	0..19: spriteset_torpedo_empty;
	20..39: spriteset_torpedo_half;
	40..60: spriteset_torpedo_full;
	CB_FAILED;
}

item (FEAT_TRAINS, torpedo_car_middle, 1422) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TORPEDO);
		climates_available: NO_CLIMATE;
		cargo_capacity: 59; 
		refit_cost: 0;
		default_cargo_type: IRON;
		loading_speed: 40;
//		refittable_cargo_classes: bitmask(CC_COVERED, CC_BULK); 
//		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [IRON, METL]; 
		introduction_date: date(1920,1,1);
		length: 6;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
	}
	graphics {
		cargo_capacity: return 59;
		default: switch_torpedo_loading;
	}
}

item (FEAT_TRAINS, torpedo_car_rear, 1423) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TORPEDO);
		climates_available: NO_CLIMATE;
		introduction_date: date(1920,1,1);
		length: 3;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
	}
	graphics {
		default: switch_torpedo_rear_yeardep;
	}
}



item (FEAT_TRAINS, torpedo_car, 1421) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TORPEDO);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1920,1,1);
		speed: 65 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 1; 
		refit_cost: 0;
		default_cargo_type: IRON;
		loading_speed: 40;
//		refittable_cargo_classes: bitmask(CC_COVERED, CC_BULK); 
//		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [IRON, METL]; 
//		cargo_disallow_refit: [WDPR, WOOL];
		weight: 120;
		cost_factor: 73;
		length: 3;
//		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
	}
	graphics {
		cargo_capacity: return 1;
		default: switch_torpedo_front_yeardep;
		purchase: switch_torpedo_purchase;
		articulated_part: switch_torpedo_articulated_part;
	}
}
spriteset(spriteset_shiki_800_black_front, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_shiki_800_black_rear, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_shiki_800_blue_front, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_shiki_800_blue_rear, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_shiki_800_black_filler, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_shiki_800_blue_filler, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_shiki_800_load, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_shiki_800_blank, "gfx/freight/superheavy.png") {
	template_2cc_std(1, 224)
}


spriteset(spriteset_shiki_800_jnr_purchase, "gfx/freight/superheavy.png") {
	template_purchase(1, 256)
}

spriteset(spriteset_shiki_800_jrf_purchase, "gfx/freight/superheavy.png") {
	template_purchase(89, 256)
}

spriteset(spriteset_shiki_800_nippon_purchase, "gfx/freight/superheavy.png") {
	template_purchase(1, 288)
}


spritegroup spritegroup_shiki_800_load {
    loading: [spriteset_shiki_800_blank];
    loaded:  [spriteset_shiki_800_load];
}



/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, switch_shiki_800_articulated_part, extra_callback_info1) {
	1: return shiki_800_rear;
    2: return shiki_800_rear;
	3: return shiki_800_rear;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

//livery and yeardep switches

switch(FEAT_TRAINS, SELF, switch_shiki_800_front_yeardep, build_year) {
	1987..2008: spriteset_shiki_800_blue_front;
	spriteset_shiki_800_black_front;
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_front_livery, cargo_subtype) {
	1: spriteset_shiki_800_black_front;
	2: spriteset_shiki_800_blue_front;
	switch_shiki_800_front_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_rear_yeardep, build_year) {
	1987..2008: spriteset_shiki_800_blue_rear;
	spriteset_shiki_800_black_rear;
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_rear_livery, cargo_subtype) {
	1: spriteset_shiki_800_black_rear;
	2: spriteset_shiki_800_blue_rear;
	switch_shiki_800_rear_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_filler_yeardep, build_year) {
	1987..2008: spriteset_shiki_800_blue_filler;
	spriteset_shiki_800_black_filler;
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_filler_livery, cargo_subtype) {
	1: spriteset_shiki_800_black_filler;
	2: spriteset_shiki_800_blue_filler;
	switch_shiki_800_filler_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_shiki_8000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_YEARDEP);
	1: return string(STR_REFIT_FBLACK);
	2: return string(STR_REFIT_FBLUE);
	   return CB_RESULT_NO_TEXT;
}

//make brake van invisible if it's the last wagon

switch(FEAT_TRAINS, SELF, switch_shiki_800_blank_end, position_in_consist_from_end) {
	0: spriteset_shiki_800_blank;
	switch_shiki_800_filler_livery;
}


//switch to read cargo count of lead vehicle

switch (FEAT_TRAINS, SELF, switch_read_shiki_800_cargo_count, 
                                            [STORE_TEMP(-1 * position_in_articulated_veh, 0x10F), var[0x61, 0, 0x0000FFFF, 0xBC]]) {
    return;
}

//shift graphics depending on cargo count

switch(FEAT_TRAINS, SELF, switch_shiki_800_part_1, switch_read_shiki_800_cargo_count() ) {
	0: switch_shiki_800_rear_livery;
	1..50: spritegroup_shiki_800_load;
	spriteset_shiki_800_load; 
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_part_2, switch_read_shiki_800_cargo_count() ) {
	0: spriteset_shiki_800_blank;
	switch_shiki_800_rear_livery;
}

switch(FEAT_TRAINS, SELF, switch_shiki_800_part_3, switch_read_shiki_800_cargo_count() ) {
	0: switch_shiki_800_blank_end;
	spriteset_shiki_800_blank; 
}

//articulated vehicle parts

switch(FEAT_TRAINS, SELF, switch_shiki_800_position, position_in_articulated_veh) {
	1: switch_shiki_800_part_1;
	2: switch_shiki_800_part_2;
	3: switch_shiki_800_part_3;
	switch_shiki_800_front_livery;
}

//purchase
switch(FEAT_TRAINS, SELF, switch_shiki_800_purchase, current_year) {
	0..1987: spriteset_shiki_800_jnr_purchase;
	1987..2008: spriteset_shiki_800_jrf_purchase;
	spriteset_shiki_800_nippon_purchase;
	}

//articulated part

item (FEAT_TRAINS, shiki_800_rear, 1651) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_SHIKI_800);
		climates_available: NO_CLIMATE;
		introduction_date: date(1920,1,1);
		cargo_capacity: 1; 
		default_cargo_type: GOOD;
		cargo_allow_refit: [GOOD, POWR, ENSP, VPTS, MPTS, SESP, URAN, NUKF, NUKW, NWST];
		length: 4;
		visual_effect_and_powered: (VISUAL_EFFECT_DISABLE);
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_shiki_800_position;
	}
}

//main item

item (FEAT_TRAINS, shiki_800, 50) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_SHIKI_800);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1973,1,1);
		speed: 75 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 155; 
		refit_cost: 0;
		default_cargo_type: GOOD;
//		loading_speed: 40;
//		refittable_cargo_classes: bitmask(CC_COVERED, CC_BULK); 
//		non_refittable_cargo_classes: 0; 
		cargo_allow_refit: [GOOD, POWR, ENSP, VPTS, MPTS, SESP, URAN, NUKF, NUKW, NWST]; 
//		cargo_disallow_refit: [WDPR, WOOL];
		weight: 100;
//		cost_factor: 73;
		length: 8;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 155;
		default: switch_shiki_800_front_livery;
		purchase: switch_shiki_800_purchase;
		articulated_part: switch_shiki_800_articulated_part;
		cargo_subtype_text: switch_shiki_8000_subtype_text;
	}
}


spriteset(spriteset_to_1_a_empty, "gfx/freight/to_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_to_1_a_bulk_quarter, "gfx/freight/to_1.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_to_1_a_bulk_half, "gfx/freight/to_1.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_to_1_a_bulk_full, "gfx/freight/to_1.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_to_1_a_piece_half, "gfx/freight/to_1.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_to_1_a_piece_full, "gfx/freight/to_1.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_to_1_a_crates_full, "gfx/freight/to_1.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_to_1_a_tarpa, "gfx/freight/to_1.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_to_1_a_tarpb, "gfx/freight/to_1.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_to_1_a_tarpc, "gfx/freight/to_1.png") {
	template_2cc_std(1, 288)
}



spriteset(spriteset_to_1_purchase, "gfx/freight/to_1.png") {
	template_purchase(1, 320)
}




spritegroup spritegroup_to_1_a_bulk {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_bulk_quarter, spriteset_to_1_a_bulk_half, spriteset_to_1_a_bulk_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_bulk_quarter, spriteset_to_1_a_bulk_half, spriteset_to_1_a_bulk_full];
}

spritegroup spritegroup_to_1_a_bulk_covered_a {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_bulk_quarter, spriteset_to_1_a_bulk_half, spriteset_to_1_a_bulk_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_tarpa];
}

spritegroup spritegroup_to_1_a_bulk_covered_b {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_bulk_quarter, spriteset_to_1_a_bulk_half, spriteset_to_1_a_bulk_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_tarpb];
}

spritegroup spritegroup_to_1_a_bulk_covered_c {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_bulk_quarter, spriteset_to_1_a_bulk_half, spriteset_to_1_a_bulk_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_tarpc];
}

spritegroup spritegroup_to_1_a_piece {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_piece_half, spriteset_to_1_a_piece_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_piece_half, spriteset_to_1_a_piece_full];
}

spritegroup spritegroup_to_1_a_piece_covered_a {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_piece_half, spriteset_to_1_a_piece_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_tarpa];
}

spritegroup spritegroup_to_1_a_piece_covered_b {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_piece_half, spriteset_to_1_a_piece_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_tarpb];
}

spritegroup spritegroup_to_1_a_piece_covered_c {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_piece_half, spriteset_to_1_a_piece_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_tarpc];
}


spritegroup spritegroup_to_1_a_crates {
    loading: [spriteset_to_1_a_empty, spriteset_to_1_a_crates_full];
    loaded:  [spriteset_to_1_a_empty, spriteset_to_1_a_crates_full];
}



//b 


//random switches




random_switch (FEAT_TRAINS, SELF, random_to_1_metal) {
 4: spritegroup_to_1_a_piece;
 1: spritegroup_to_1_a_piece_covered_a;
 1: spritegroup_to_1_a_piece_covered_b;
 1: spritegroup_to_1_a_piece_covered_c;
}

random_switch (FEAT_TRAINS, SELF, random_to_1_supplies) {
 1: spritegroup_to_1_a_piece;
 4: spritegroup_to_1_a_crates;
 1: spritegroup_to_1_a_piece_covered_a;
 1: spritegroup_to_1_a_piece_covered_b;
 1: spritegroup_to_1_a_piece_covered_c;
}

random_switch (FEAT_TRAINS, SELF, random_to_1_piece) {
 4: spritegroup_to_1_a_piece;
 2: spritegroup_to_1_a_crates;
 1: spritegroup_to_1_a_piece_covered_a;
 1: spritegroup_to_1_a_piece_covered_b;
 1: spritegroup_to_1_a_piece_covered_c;
}


random_switch (FEAT_TRAINS, SELF, random_to_1_covered) {
 1: spritegroup_to_1_a_bulk_covered_a;
 1: spritegroup_to_1_a_bulk_covered_b;
 1: spritegroup_to_1_a_bulk_covered_c;
}



//todo fix


switch(FEAT_TRAINS, SELF, switch_to_1_cargo_type, cargo_type_in_veh) {
	IRON: random_to_1_metal;
	STEL: random_to_1_metal;
	METL: random_to_1_metal;
	ZINC: random_to_1_metal;
	COPR: random_to_1_metal;
	STST: random_to_1_metal;
	STSH: random_to_1_metal;
	STAL: random_to_1_metal;
	STCB: random_to_1_metal;
	
	ENSP: random_to_1_supplies;
	FMSP: random_to_1_supplies;
	MNSP: random_to_1_supplies;
	POWR: random_to_1_supplies;
	VPTS: random_to_1_supplies;
	MPTS: random_to_1_supplies;
	GOOD: random_to_1_supplies;
	
	BDMT: random_to_1_piece;
	WDPR: random_to_1_piece;
	GLAS: random_to_1_piece;
	BRCK: random_to_1_piece;
	STWR: random_to_1_piece;
	STSE: random_to_1_piece;
	
	PAPR: random_to_1_supplies;
	TYRE: random_to_1_supplies;
	WOOL: random_to_1_supplies;
	TEXT: random_to_1_supplies;
	
	SCMT: spritegroup_to_1_a_bulk;
	SULP: random_to_1_covered;
	SEED: random_to_1_covered;
	FERT: random_to_1_covered;
	SASH: random_to_1_covered;
	FRUT: random_to_1_covered;
	FRVG: random_to_1_covered;
	TATO: random_to_1_covered;
	
	FICR: spritegroup_to_1_a_crates;
	
	spritegroup_to_1_a_piece;
}

switch(FEAT_TRAINS, SELF, switch_to_1_cargo_class, cargo_classes) {
	bitmask(CC_BULK): spritegroup_to_1_a_bulk;
	bitmask(CC_BULK, CC_COVERED): random_to_1_covered;

	switch_to_1_cargo_type;
}


item (FEAT_TRAINS, to_1, 1469) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	introduction_date: date(1870,1,1);
	climates_available: ALL_CLIMATES;
	name: string(STR_NAME_TO_1);
	speed: 60 km/h;
	air_drag_coefficient: 0;
	power: 0;
	dual_headed: 0;
	cargo_capacity: 15; 
	refit_cost: 0;
//	default_cargo_type: COAL;
	loading_speed: 40;
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED, CC_PIECE_GOODS); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [BAKE, PCL_, BEER, CHSE, MEAT, OYST, EOIL, LVST, BOOM, VBOD, VEHI];
	weight: 9;
	cost_factor: 6;
	length: 4;
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 15;
	default: switch_to_1_cargo_class;
	purchase: spriteset_to_1_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_toki_900_black_empty, "gfx/freight/toki_900.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_toki_900_black_bulk_quarter, "gfx/freight/toki_900.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_toki_900_black_bulk_half, "gfx/freight/toki_900.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_toki_900_black_bulk_full, "gfx/freight/toki_900.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_toki_900_black_piece_half, "gfx/freight/toki_900.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_toki_900_black_piece_full, "gfx/freight/toki_900.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_toki_900_black_crates_full, "gfx/freight/toki_900.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_toki_900_black_coils_full, "gfx/freight/toki_900.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_toki_900_black_tarpa, "gfx/freight/toki_900.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_toki_900_black_tarpb, "gfx/freight/toki_900.png") {
	template_2cc_std(1, 288)
}



spriteset(spriteset_toki_900_purchase, "gfx/freight/toki_900.png") {
	template_purchase(1, 320)
}




spritegroup spritegroup_toki_900_black_bulk {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_bulk_quarter, spriteset_toki_900_black_bulk_half, spriteset_toki_900_black_bulk_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_bulk_quarter, spriteset_toki_900_black_bulk_half, spriteset_toki_900_black_bulk_full];
}

spritegroup spritegroup_toki_900_black_bulk_covered_a {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_bulk_quarter, spriteset_toki_900_black_bulk_half, spriteset_toki_900_black_bulk_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_tarpa];
}

spritegroup spritegroup_toki_900_black_bulk_covered_b {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_bulk_quarter, spriteset_toki_900_black_bulk_half, spriteset_toki_900_black_bulk_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_tarpb];
}

spritegroup spritegroup_toki_900_black_piece {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_piece_half, spriteset_toki_900_black_piece_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_piece_half, spriteset_toki_900_black_piece_full];
}

spritegroup spritegroup_toki_900_black_piece_covered_a {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_piece_half, spriteset_toki_900_black_piece_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_piece_half, spriteset_toki_900_black_tarpa];
}

spritegroup spritegroup_toki_900_black_piece_covered_b {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_piece_half, spriteset_toki_900_black_piece_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_piece_half, spriteset_toki_900_black_tarpb];
}



spritegroup spritegroup_toki_900_black_crates {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_crates_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_crates_full];
}

spritegroup spritegroup_toki_900_black_coils {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_coils_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_coils_full];
}

spritegroup spritegroup_toki_900_black_paper {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_coils_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_coils_full, spriteset_toki_900_black_tarpa];
}


spritegroup spritegroup_toki_900_black_wool {
    loading: [spriteset_toki_900_black_empty, spriteset_toki_900_black_crates_full];
    loaded:  [spriteset_toki_900_black_empty, spriteset_toki_900_black_crates_full, spriteset_toki_900_black_tarpa];
}

//wood 

spriteset(spriteset_toki_900_wood_empty, "gfx/freight/toki_900_wood.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_toki_900_wood_bulk_quarter, "gfx/freight/toki_900_wood.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_toki_900_wood_bulk_half, "gfx/freight/toki_900_wood.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_toki_900_wood_bulk_full, "gfx/freight/toki_900_wood.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_toki_900_wood_piece_half, "gfx/freight/toki_900_wood.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_toki_900_wood_piece_full, "gfx/freight/toki_900_wood.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_toki_900_wood_crates_full, "gfx/freight/toki_900_wood.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_toki_900_wood_coils_full, "gfx/freight/toki_900_wood.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_toki_900_wood_tarpa, "gfx/freight/toki_900_wood.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_toki_900_wood_tarpb, "gfx/freight/toki_900_wood.png") {
	template_2cc_std(1, 288)
}



spritegroup spritegroup_toki_900_wood_bulk {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_bulk_quarter, spriteset_toki_900_wood_bulk_half, spriteset_toki_900_wood_bulk_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_bulk_quarter, spriteset_toki_900_wood_bulk_half, spriteset_toki_900_wood_bulk_full];
}

spritegroup spritegroup_toki_900_wood_bulk_covered_a {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_bulk_quarter, spriteset_toki_900_wood_bulk_half, spriteset_toki_900_wood_bulk_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_tarpa];
}

spritegroup spritegroup_toki_900_wood_bulk_covered_b {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_bulk_quarter, spriteset_toki_900_wood_bulk_half, spriteset_toki_900_wood_bulk_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_tarpb];
}

spritegroup spritegroup_toki_900_wood_piece {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_piece_half, spriteset_toki_900_wood_piece_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_piece_half, spriteset_toki_900_wood_piece_full];
}

spritegroup spritegroup_toki_900_wood_piece_covered_a {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_piece_half, spriteset_toki_900_wood_piece_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_piece_half, spriteset_toki_900_wood_tarpa];
}
spritegroup spritegroup_toki_900_wood_piece_covered_b {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_piece_half, spriteset_toki_900_wood_piece_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_piece_half, spriteset_toki_900_wood_tarpb];
}



spritegroup spritegroup_toki_900_wood_crates {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_crates_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_crates_full];
}

spritegroup spritegroup_toki_900_wood_coils {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_coils_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_coils_full];
}

spritegroup spritegroup_toki_900_wood_paper {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_coils_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_coils_full, spriteset_toki_900_wood_tarpa];
}


spritegroup spritegroup_toki_900_wood_wool {
    loading: [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_crates_full];
    loaded:  [spriteset_toki_900_wood_empty, spriteset_toki_900_wood_crates_full, spriteset_toki_900_wood_tarpa];
}


//todo open sides



//random switches

//todo refits?

random_switch (FEAT_TRAINS, SELF, random_toki_900_metal) {
 1: spritegroup_toki_900_black_piece;
 3: spritegroup_toki_900_black_coils;
 1: spritegroup_toki_900_black_piece_covered_a;
 1: spritegroup_toki_900_black_piece_covered_b;
 1: spritegroup_toki_900_wood_piece;
 2: spritegroup_toki_900_wood_coils;
 1: spritegroup_toki_900_wood_piece_covered_a;
 1: spritegroup_toki_900_wood_piece_covered_b;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_supplies) {
 1: spritegroup_toki_900_black_piece;
 2: spritegroup_toki_900_black_crates;
 1: spritegroup_toki_900_black_piece_covered_a;
 1: spritegroup_toki_900_black_piece_covered_b;
 1: spritegroup_toki_900_wood_piece;
 2: spritegroup_toki_900_wood_crates;
 1: spritegroup_toki_900_wood_piece_covered_a;
 1: spritegroup_toki_900_wood_piece_covered_b;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_piece) {
 3: spritegroup_toki_900_black_piece;
 2: spritegroup_toki_900_black_crates;
 1: spritegroup_toki_900_black_piece_covered_a;
 1: spritegroup_toki_900_black_piece_covered_b;
 3: spritegroup_toki_900_wood_piece;
 2: spritegroup_toki_900_wood_crates;
 1: spritegroup_toki_900_wood_piece_covered_a;
 1: spritegroup_toki_900_wood_piece_covered_b;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_wool) {
 2: spritegroup_toki_900_black_wool;
 1: spritegroup_toki_900_wood_wool;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_paper) {
 2: spritegroup_toki_900_black_paper;
 1: spritegroup_toki_900_wood_paper;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_rods) {
 2: spritegroup_toki_900_black_piece;
 1: spritegroup_toki_900_wood_piece;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_bulk) {
 2: spritegroup_toki_900_black_bulk;
 1: spritegroup_toki_900_wood_bulk;
}

random_switch (FEAT_TRAINS, SELF, random_toki_900_covered) {
 2: spritegroup_toki_900_black_bulk_covered_a;
 1: spritegroup_toki_900_wood_bulk_covered_a;
 2: spritegroup_toki_900_black_bulk_covered_b;
 1: spritegroup_toki_900_wood_bulk_covered_b;
}



//todo fix


switch(FEAT_TRAINS, SELF, switch_toki_900_cargo_type, cargo_type_in_veh) {
	IRON: random_toki_900_metal;
	STEL: random_toki_900_metal;
	METL: random_toki_900_metal;
	ZINC: random_toki_900_metal;
	COPR: random_toki_900_metal;
	STST: random_toki_900_metal;
	STSH: random_toki_900_metal;
	STAL: random_toki_900_metal;
	STCB: random_toki_900_metal;
	
	ENSP: random_toki_900_supplies;
	FMSP: random_toki_900_supplies;
	MNSP: random_toki_900_supplies;
	POWR: random_toki_900_supplies;
	VPTS: random_toki_900_supplies;
	MPTS: random_toki_900_supplies;
	GOOD: random_toki_900_supplies;
	
	BDMT: random_toki_900_piece;
	WDPR: random_toki_900_piece;
	GLAS: random_toki_900_piece;
	BRCK: random_toki_900_piece;
	STWR: random_toki_900_piece;
	STSE: random_toki_900_piece;
	
	PAPR: random_toki_900_paper;
	TYRE: random_toki_900_paper;
	WOOL: random_toki_900_wool;
	TEXT: random_toki_900_wool;
	
	SCMT: random_toki_900_bulk;
	SULP: random_toki_900_covered;
	SEED: random_toki_900_covered;
	FERT: random_toki_900_covered;
	SASH: random_toki_900_covered;
	FRUT: random_toki_900_covered;
	FRVG: random_toki_900_covered;
	TATO: random_toki_900_covered;
	
	random_toki_900_rods;
}

switch(FEAT_TRAINS, SELF, switch_toki_900_cargo_class, cargo_classes) {
	bitmask(CC_BULK): random_toki_900_bulk;
	bitmask(CC_BULK, CC_COVERED): random_toki_900_covered;

	switch_toki_900_cargo_type;
}


item (FEAT_TRAINS, toki_900, 1284) {

property {
//	introduction_date: date(1940,1,1);
//	default_cargo_type: FOOD;
	speed: 65 km/h;
	name: string(STR_NAME_TOKI_900);
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED, CC_PIECE_GOODS); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [BAKE, PCL_, BEER, CHSE, MEAT, OYST, EOIL, LVST, BOOM, VBOD, VEHI];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 45;
	default: switch_toki_900_cargo_class;
	purchase: spriteset_toki_900_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_tomu_1_a_empty, "gfx/freight/tomu_1_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tomu_1_a_bulk_quarter, "gfx/freight/tomu_1_a.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_tomu_1_a_bulk_half, "gfx/freight/tomu_1_a.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_tomu_1_a_bulk_full, "gfx/freight/tomu_1_a.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_tomu_1_a_piece_half, "gfx/freight/tomu_1_a.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_tomu_1_a_piece_full, "gfx/freight/tomu_1_a.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_tomu_1_a_crates_full, "gfx/freight/tomu_1_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tomu_1_a_coils_full, "gfx/freight/tomu_1_a.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_tomu_1_a_tarpa, "gfx/freight/tomu_1_a.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tomu_1_a_tarpb, "gfx/freight/tomu_1_a.png") {
	template_2cc_std(1, 288)
}



spriteset(spriteset_tomu_1_purchase, "gfx/freight/tomu_1_a.png") {
	template_purchase(1, 320)
}




spritegroup spritegroup_tomu_1_a_bulk {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_bulk_quarter, spriteset_tomu_1_a_bulk_half, spriteset_tomu_1_a_bulk_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_bulk_quarter, spriteset_tomu_1_a_bulk_half, spriteset_tomu_1_a_bulk_full];
}

spritegroup spritegroup_tomu_1_a_bulk_covered_a {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_bulk_quarter, spriteset_tomu_1_a_bulk_half, spriteset_tomu_1_a_bulk_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_tarpa];
}

spritegroup spritegroup_tomu_1_a_bulk_covered_b {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_bulk_quarter, spriteset_tomu_1_a_bulk_half, spriteset_tomu_1_a_bulk_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_tarpb];
}

spritegroup spritegroup_tomu_1_a_piece {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_piece_half, spriteset_tomu_1_a_piece_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_piece_half, spriteset_tomu_1_a_piece_full];
}

spritegroup spritegroup_tomu_1_a_piece_covered {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_piece_half, spriteset_tomu_1_a_piece_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_piece_half, spriteset_tomu_1_a_tarpa];
}


spritegroup spritegroup_tomu_1_a_crates {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_crates_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_crates_full];
}

spritegroup spritegroup_tomu_1_a_coils {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_coils_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_coils_full];
}

spritegroup spritegroup_tomu_1_a_paper {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_coils_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_coils_full, spriteset_tomu_1_a_tarpa];
}


spritegroup spritegroup_tomu_1_a_wool {
    loading: [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_crates_full];
    loaded:  [spriteset_tomu_1_a_empty, spriteset_tomu_1_a_crates_full, spriteset_tomu_1_a_tarpa];
}

//b 

spriteset(spriteset_tomu_1_b_empty, "gfx/freight/tomu_1_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tomu_1_b_bulk_quarter, "gfx/freight/tomu_1_b.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_tomu_1_b_bulk_half, "gfx/freight/tomu_1_b.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_tomu_1_b_bulk_full, "gfx/freight/tomu_1_b.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_tomu_1_b_piece_half, "gfx/freight/tomu_1_b.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_tomu_1_b_piece_full, "gfx/freight/tomu_1_b.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_tomu_1_b_crates_full, "gfx/freight/tomu_1_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tomu_1_b_coils_full, "gfx/freight/tomu_1_b.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_tomu_1_b_tarpa, "gfx/freight/tomu_1_b.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tomu_1_b_tarpb, "gfx/freight/tomu_1_b.png") {
	template_2cc_std(1, 288)
}



spritegroup spritegroup_tomu_1_b_bulk {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_bulk_quarter, spriteset_tomu_1_b_bulk_half, spriteset_tomu_1_b_bulk_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_bulk_quarter, spriteset_tomu_1_b_bulk_half, spriteset_tomu_1_b_bulk_full];
}

spritegroup spritegroup_tomu_1_b_bulk_covered_a {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_bulk_quarter, spriteset_tomu_1_b_bulk_half, spriteset_tomu_1_b_bulk_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_tarpa];
}

spritegroup spritegroup_tomu_1_b_bulk_covered_b {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_bulk_quarter, spriteset_tomu_1_b_bulk_half, spriteset_tomu_1_b_bulk_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_tarpb];
}

spritegroup spritegroup_tomu_1_b_piece {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_piece_half, spriteset_tomu_1_b_piece_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_piece_half, spriteset_tomu_1_b_piece_full];
}

spritegroup spritegroup_tomu_1_b_piece_covered {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_piece_half, spriteset_tomu_1_b_piece_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_piece_half, spriteset_tomu_1_b_tarpa];
}


spritegroup spritegroup_tomu_1_b_crates {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_crates_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_crates_full];
}

spritegroup spritegroup_tomu_1_b_coils {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_coils_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_coils_full];
}

spritegroup spritegroup_tomu_1_b_paper {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_coils_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_coils_full, spriteset_tomu_1_b_tarpa];
}


spritegroup spritegroup_tomu_1_b_wool {
    loading: [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_crates_full];
    loaded:  [spriteset_tomu_1_b_empty, spriteset_tomu_1_b_crates_full, spriteset_tomu_1_b_tarpa];
}


//todo open sides



//random switches




random_switch (FEAT_TRAINS, SELF, random_tomu_1_a_metal) {
 1: spritegroup_tomu_1_a_piece;
 2: spritegroup_tomu_1_a_coils;
 1: spritegroup_tomu_1_a_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_a_supplies) {
 1: spritegroup_tomu_1_a_piece;
 2: spritegroup_tomu_1_a_crates;
 1: spritegroup_tomu_1_a_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_a_piece) {
 2: spritegroup_tomu_1_a_piece;
 1: spritegroup_tomu_1_a_crates;
 2: spritegroup_tomu_1_a_piece_covered;
}


random_switch (FEAT_TRAINS, SELF, random_tomu_1_b_metal) {
 1: spritegroup_tomu_1_b_piece;
 2: spritegroup_tomu_1_b_coils;
 1: spritegroup_tomu_1_b_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_b_supplies) {
 1: spritegroup_tomu_1_b_piece;
 2: spritegroup_tomu_1_b_crates;
 1: spritegroup_tomu_1_b_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_b_piece) {
 2: spritegroup_tomu_1_b_piece;
 1: spritegroup_tomu_1_b_crates;
 2: spritegroup_tomu_1_b_piece_covered;
}



random_switch (FEAT_TRAINS, SELF, random_tomu_1_metal) {
 2: random_tomu_1_a_metal;
 1: random_tomu_1_b_metal;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_supplies) {
 2: random_tomu_1_a_supplies;
 1: random_tomu_1_b_supplies;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_piece) {
 2: random_tomu_1_a_piece;
 1: random_tomu_1_b_piece;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_wool) {
 2: spritegroup_tomu_1_a_wool;
 1: spritegroup_tomu_1_b_wool;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_paper) {
 2: spritegroup_tomu_1_a_paper;
 1: spritegroup_tomu_1_b_paper;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_rods) {
 2: spritegroup_tomu_1_a_piece;
 1: spritegroup_tomu_1_b_piece;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_bulk) {
 2: spritegroup_tomu_1_a_bulk;
 1: spritegroup_tomu_1_b_bulk;
}

random_switch (FEAT_TRAINS, SELF, random_tomu_1_covered) {
 2: spritegroup_tomu_1_a_bulk_covered_a;
 1: spritegroup_tomu_1_b_bulk_covered_a;
 2: spritegroup_tomu_1_a_bulk_covered_b;
 1: spritegroup_tomu_1_b_bulk_covered_b;
}



//todo fix


switch(FEAT_TRAINS, SELF, switch_tomu_1_cargo_type, cargo_type_in_veh) {
	IRON: random_tomu_1_metal;
	STEL: random_tomu_1_metal;
	METL: random_tomu_1_metal;
	ZINC: random_tomu_1_metal;
	COPR: random_tomu_1_metal;
	STST: random_tomu_1_metal;
	STSH: random_tomu_1_metal;
	STAL: random_tomu_1_metal;
	STCB: random_tomu_1_metal;
	
	ENSP: random_tomu_1_supplies;
	FMSP: random_tomu_1_supplies;
	MNSP: random_tomu_1_supplies;
	POWR: random_tomu_1_supplies;
	VPTS: random_tomu_1_supplies;
	MPTS: random_tomu_1_supplies;
	GOOD: random_tomu_1_supplies;
	
	BDMT: random_tomu_1_piece;
	WDPR: random_tomu_1_piece;
	GLAS: random_tomu_1_piece;
	BRCK: random_tomu_1_piece;
	STWR: random_tomu_1_piece;
	STSE: random_tomu_1_piece;
	
	PAPR: random_tomu_1_paper;
	TYRE: random_tomu_1_paper;
	WOOL: random_tomu_1_wool;
	TEXT: random_tomu_1_wool;
	
	SCMT: random_tomu_1_bulk;
	SULP: random_tomu_1_covered;
	SEED: random_tomu_1_covered;
	FERT: random_tomu_1_covered;
	SASH: random_tomu_1_covered;
	FRUT: random_tomu_1_covered;
	FRVG: random_tomu_1_covered;
	TATO: random_tomu_1_covered;
	
	random_tomu_1_rods;
}

switch(FEAT_TRAINS, SELF, switch_tomu_1_cargo_class, cargo_classes) {
	bitmask(CC_BULK): random_tomu_1_bulk;
	bitmask(CC_BULK, CC_COVERED): random_tomu_1_covered;

	switch_tomu_1_cargo_type;
}


item (FEAT_TRAINS, tomu_1, 29) {

property {
	introduction_date: date(1911,1,1);
	speed: 65 km/h;
	name: string(STR_NAME_TOMU_1);
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED, CC_PIECE_GOODS); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [BAKE, PCL_, BEER, CHSE, MEAT, OYST, EOIL, LVST, BOOM, VBOD, VEHI];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 30;
	default: switch_tomu_1_cargo_class;
	purchase: spriteset_tomu_1_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_tora_5000_a_empty, "gfx/freight/tora_5000_a.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tora_5000_a_bulk_quarter, "gfx/freight/tora_5000_a.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_tora_5000_a_bulk_half, "gfx/freight/tora_5000_a.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_tora_5000_a_bulk_full, "gfx/freight/tora_5000_a.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_tora_5000_a_piece_half, "gfx/freight/tora_5000_a.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_tora_5000_a_piece_full, "gfx/freight/tora_5000_a.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_tora_5000_a_crates_full, "gfx/freight/tora_5000_a.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tora_5000_a_coils_full, "gfx/freight/tora_5000_a.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_tora_5000_a_tarpa, "gfx/freight/tora_5000_a.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tora_5000_a_tarpb, "gfx/freight/tora_5000_a.png") {
	template_2cc_std(1, 288)
}



spriteset(spriteset_tora_5000_purchase, "gfx/freight/tora_5000_a.png") {
	template_purchase(1, 320)
}




spritegroup spritegroup_tora_5000_a_bulk {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_bulk_quarter, spriteset_tora_5000_a_bulk_half, spriteset_tora_5000_a_bulk_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_bulk_quarter, spriteset_tora_5000_a_bulk_half, spriteset_tora_5000_a_bulk_full];
}

spritegroup spritegroup_tora_5000_a_bulk_covered_a {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_bulk_quarter, spriteset_tora_5000_a_bulk_half, spriteset_tora_5000_a_bulk_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_tarpa];
}

spritegroup spritegroup_tora_5000_a_bulk_covered_b {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_bulk_quarter, spriteset_tora_5000_a_bulk_half, spriteset_tora_5000_a_bulk_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_tarpb];
}

spritegroup spritegroup_tora_5000_a_piece {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_piece_half, spriteset_tora_5000_a_piece_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_piece_half, spriteset_tora_5000_a_piece_full];
}

spritegroup spritegroup_tora_5000_a_piece_covered {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_piece_half, spriteset_tora_5000_a_piece_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_piece_half, spriteset_tora_5000_a_tarpa];
}


spritegroup spritegroup_tora_5000_a_crates {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_crates_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_crates_full];
}

spritegroup spritegroup_tora_5000_a_coils {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_coils_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_coils_full];
}

spritegroup spritegroup_tora_5000_a_paper {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_coils_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_coils_full, spriteset_tora_5000_a_tarpa];
}


spritegroup spritegroup_tora_5000_a_wool {
    loading: [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_crates_full];
    loaded:  [spriteset_tora_5000_a_empty, spriteset_tora_5000_a_crates_full, spriteset_tora_5000_a_tarpa];
}

//b 

spriteset(spriteset_tora_5000_b_empty, "gfx/freight/tora_5000_b.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tora_5000_b_bulk_quarter, "gfx/freight/tora_5000_b.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_tora_5000_b_bulk_half, "gfx/freight/tora_5000_b.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_tora_5000_b_bulk_full, "gfx/freight/tora_5000_b.png") {
	template_2cc_anim(1, 96)
}

spriteset(spriteset_tora_5000_b_piece_half, "gfx/freight/tora_5000_b.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_tora_5000_b_piece_full, "gfx/freight/tora_5000_b.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_tora_5000_b_crates_full, "gfx/freight/tora_5000_b.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tora_5000_b_coils_full, "gfx/freight/tora_5000_b.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_tora_5000_b_tarpa, "gfx/freight/tora_5000_b.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tora_5000_b_tarpb, "gfx/freight/tora_5000_b.png") {
	template_2cc_std(1, 288)
}



spritegroup spritegroup_tora_5000_b_bulk {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_bulk_quarter, spriteset_tora_5000_b_bulk_half, spriteset_tora_5000_b_bulk_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_bulk_quarter, spriteset_tora_5000_b_bulk_half, spriteset_tora_5000_b_bulk_full];
}

spritegroup spritegroup_tora_5000_b_bulk_covered_a {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_bulk_quarter, spriteset_tora_5000_b_bulk_half, spriteset_tora_5000_b_bulk_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_tarpa];
}

spritegroup spritegroup_tora_5000_b_bulk_covered_b {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_bulk_quarter, spriteset_tora_5000_b_bulk_half, spriteset_tora_5000_b_bulk_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_tarpb];
}

spritegroup spritegroup_tora_5000_b_piece {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_piece_half, spriteset_tora_5000_b_piece_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_piece_half, spriteset_tora_5000_b_piece_full];
}

spritegroup spritegroup_tora_5000_b_piece_covered {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_piece_half, spriteset_tora_5000_b_piece_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_piece_half, spriteset_tora_5000_b_tarpa];
}


spritegroup spritegroup_tora_5000_b_crates {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_crates_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_crates_full];
}

spritegroup spritegroup_tora_5000_b_coils {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_coils_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_coils_full];
}

spritegroup spritegroup_tora_5000_b_paper {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_coils_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_coils_full, spriteset_tora_5000_b_tarpa];
}


spritegroup spritegroup_tora_5000_b_wool {
    loading: [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_crates_full];
    loaded:  [spriteset_tora_5000_b_empty, spriteset_tora_5000_b_crates_full, spriteset_tora_5000_b_tarpa];
}


//todo open sides



//random switches




random_switch (FEAT_TRAINS, SELF, random_tora_5000_a_metal) {
 1: spritegroup_tora_5000_a_piece;
 2: spritegroup_tora_5000_a_coils;
 1: spritegroup_tora_5000_a_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_a_supplies) {
 1: spritegroup_tora_5000_a_piece;
 2: spritegroup_tora_5000_a_crates;
 1: spritegroup_tora_5000_a_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_a_piece) {
 2: spritegroup_tora_5000_a_piece;
 1: spritegroup_tora_5000_a_crates;
 2: spritegroup_tora_5000_a_piece_covered;
}


random_switch (FEAT_TRAINS, SELF, random_tora_5000_b_metal) {
 1: spritegroup_tora_5000_b_piece;
 2: spritegroup_tora_5000_b_coils;
 1: spritegroup_tora_5000_b_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_b_supplies) {
 1: spritegroup_tora_5000_b_piece;
 2: spritegroup_tora_5000_b_crates;
 1: spritegroup_tora_5000_b_piece_covered;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_b_piece) {
 2: spritegroup_tora_5000_b_piece;
 1: spritegroup_tora_5000_b_crates;
 2: spritegroup_tora_5000_b_piece_covered;
}



random_switch (FEAT_TRAINS, SELF, random_tora_5000_metal) {
 2: random_tora_5000_a_metal;
 1: random_tora_5000_b_metal;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_supplies) {
 2: random_tora_5000_a_supplies;
 1: random_tora_5000_b_supplies;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_piece) {
 2: random_tora_5000_a_piece;
 1: random_tora_5000_b_piece;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_wool) {
 2: spritegroup_tora_5000_a_wool;
 1: spritegroup_tora_5000_b_wool;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_paper) {
 2: spritegroup_tora_5000_a_paper;
 1: spritegroup_tora_5000_b_paper;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_rods) {
 2: spritegroup_tora_5000_a_piece;
 1: spritegroup_tora_5000_b_piece;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_bulk) {
 2: spritegroup_tora_5000_a_bulk;
 1: spritegroup_tora_5000_b_bulk;
}

random_switch (FEAT_TRAINS, SELF, random_tora_5000_covered) {
 2: spritegroup_tora_5000_a_bulk_covered_a;
 1: spritegroup_tora_5000_b_bulk_covered_a;
 2: spritegroup_tora_5000_a_bulk_covered_b;
 1: spritegroup_tora_5000_b_bulk_covered_b;
}



//todo fix


switch(FEAT_TRAINS, SELF, switch_tora_5000_cargo_type, cargo_type_in_veh) {
	IRON: random_tora_5000_metal;
	STEL: random_tora_5000_metal;
	METL: random_tora_5000_metal;
	ZINC: random_tora_5000_metal;
	COPR: random_tora_5000_metal;
	STST: random_tora_5000_metal;
	STSH: random_tora_5000_metal;
	STAL: random_tora_5000_metal;
	STCB: random_tora_5000_metal;
	
	ENSP: random_tora_5000_supplies;
	FMSP: random_tora_5000_supplies;
	MNSP: random_tora_5000_supplies;
	POWR: random_tora_5000_supplies;
	VPTS: random_tora_5000_supplies;
	MPTS: random_tora_5000_supplies;
	GOOD: random_tora_5000_supplies;
	
	BDMT: random_tora_5000_piece;
	WDPR: random_tora_5000_piece;
	GLAS: random_tora_5000_piece;
	BRCK: random_tora_5000_piece;
	STWR: random_tora_5000_piece;
	STSE: random_tora_5000_piece;
	
	PAPR: random_tora_5000_paper;
	TYRE: random_tora_5000_paper;
	WOOL: random_tora_5000_wool;
	TEXT: random_tora_5000_wool;
	
	SCMT: random_tora_5000_bulk;
	SULP: random_tora_5000_covered;
	SEED: random_tora_5000_covered;
	FERT: random_tora_5000_covered;
	SASH: random_tora_5000_covered;
	FRUT: random_tora_5000_covered;
	FRVG: random_tora_5000_covered;
	TATO: random_tora_5000_covered;
	
	random_tora_5000_rods;
}

switch(FEAT_TRAINS, SELF, switch_tora_5000_cargo_class, cargo_classes) {
	bitmask(CC_BULK): random_tora_5000_bulk;
	bitmask(CC_BULK, CC_COVERED): random_tora_5000_covered;

	switch_tora_5000_cargo_type;
}


item (FEAT_TRAINS, tora_5000, 33) {

property {
	introduction_date: date(1930,1,1);
	speed: 75 km/h;
	name: string(STR_NAME_TORA_5000);
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED, CC_PIECE_GOODS); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [BAKE, PCL_, BEER, CHSE, MEAT, OYST, EOIL, LVST, BOOM, VBOD, VEHI];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 40;
	default: switch_tora_5000_cargo_class;
	purchase: spriteset_tora_5000_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_tora_90000_empty, "gfx/tora_90000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tora_90000_half, "gfx/tora_90000.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_tora_90000_full, "gfx/tora_90000.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_tora_90000_tarp, "gfx/tora_90000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_tora_90000_purchase, "gfx/tora_90000.png") {
	template_purchase(1, 128)
}



spritegroup spritegroup_tora_90000_bulk {
    loading: [spriteset_tora_90000_empty, spriteset_tora_90000_half, spriteset_tora_90000_full];
    loaded:  [spriteset_tora_90000_empty, spriteset_tora_90000_half, spriteset_tora_90000_full];
}

spritegroup spritegroup_tora_90000_covered {
    loading: [spriteset_tora_90000_empty, spriteset_tora_90000_half, spriteset_tora_90000_full];
    loaded:  [spriteset_tora_90000_empty, spriteset_tora_90000_tarp];
}



switch(FEAT_TRAINS, SELF, switch_tora_90000_cargo_class, cargo_classes) {
	bitmask(CC_BULK): spritegroup_tora_90000_bulk;
	bitmask(CC_COVERED): spritegroup_tora_90000_covered;
	spritegroup_tora_90000_covered;
}


item (FEAT_TRAINS, tora_90000, 1280) {

property {
	introduction_date: date(1950,1,1);
//	default_cargo_type: FOOD;

	name: string(STR_NAME_TORA_90000);
	speed: 75 km/h;
//	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED); 
	non_refittable_cargo_classes: 0;
	cargo_allow_refit: [GRAI, FICR, WOOD, WOOL, BEAN, SGCN, SGBT, OLSD, MAIZ, PEAT, SEED, FRUT, FRVG, TATO];
	cargo_disallow_refit: [COAL, IORE, CORE, PORE, CMNT];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
graphics {
	cargo_capacity: return 35;
	default: switch_tora_90000_cargo_class;
	purchase: spriteset_tora_90000_purchase;
	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_toki_25000_brown_a, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_toki_25000_brown_b, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_toki_25000_green, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_toki_25000_black, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 96)
}

//15000
spriteset(spriteset_toki_15000_black, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 128)
}

//loads
spriteset(spriteset_toki_25000_tarp_brown, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_toki_25000_tarp_green, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_toki_25000_tarp_grey, "gfx/freight/toki_25000.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_toki_25000_bulk_quarter, "gfx/freight/toki_25000.png") {
	template_2cc_anim(1, 256)
}

spriteset(spriteset_toki_25000_bulk_half, "gfx/freight/toki_25000.png") {
	template_2cc_anim(1, 288)
}

spriteset(spriteset_toki_25000_bulk_full, "gfx/freight/toki_25000.png") {
	template_2cc_anim(1, 320)
}

spriteset(spriteset_toki_25000_blank, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 1)
}

/* for future loads
spriteset(spriteset_toki_25000_, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 32)
}

spriteset(spriteset_toki_25000_, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 64)
}

spriteset(spriteset_toki_25000_, "gfx/freight/toki_25000.png") {
	template_2cc_stdm(180, 96)
}
*/

spriteset(spriteset_toki_25000_coils_half, "gfx/freight/toki_25000.png") {
	template_2cc_anim(180, 128)
}

spriteset(spriteset_toki_25000_coils_full, "gfx/freight/toki_25000.png") {
	template_2cc_anim(180, 160)
}

spriteset(spriteset_toki_25000_rods_half, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 192)
}

spriteset(spriteset_toki_25000_rods_full, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 224)
}

spriteset(spriteset_toki_25000_conts_a, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 256)
}

spriteset(spriteset_toki_25000_conts_b, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 288)
}

spriteset(spriteset_toki_25000_conts_c, "gfx/freight/toki_25000.png") {
	template_2cc_std(180, 320)
}



//purchase
spriteset(spriteset_toki_15000_jgr_purchase, "gfx/freight/toki_25000.png") {
	template_purchase(1, 352)
}

spriteset(spriteset_toki_15000_jnr_purchase, "gfx/freight/toki_25000.png") {
	template_purchase(89, 352)
}

spriteset(spriteset_toki_25000_jnr_purchase, "gfx/freight/toki_25000.png") {
	template_purchase(180, 352)
}

spriteset(spriteset_toki_25000_jrf_purchase, "gfx/freight/toki_25000.png") {
	template_purchase(268, 352)
}





spritegroup spritegroup_toki_25000_bulk {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_bulk_quarter, spriteset_toki_25000_bulk_half, spriteset_toki_25000_bulk_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_bulk_quarter, spriteset_toki_25000_bulk_half, spriteset_toki_25000_bulk_full];
}

spritegroup spritegroup_toki_25000_bulk_tarp_brown {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_bulk_quarter, spriteset_toki_25000_bulk_half, spriteset_toki_25000_bulk_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_tarp_brown];
}

spritegroup spritegroup_toki_25000_bulk_tarp_green {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_bulk_quarter, spriteset_toki_25000_bulk_half, spriteset_toki_25000_bulk_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_tarp_green];
}

spritegroup spritegroup_toki_25000_bulk_tarp_grey {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_bulk_quarter, spriteset_toki_25000_bulk_half, spriteset_toki_25000_bulk_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_tarp_grey];
}


spritegroup spritegroup_toki_25000_rods {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_rods_half, spriteset_toki_25000_rods_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_rods_half, spriteset_toki_25000_rods_full];
}

spritegroup spritegroup_toki_25000_rods_tarp_brown {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_rods_half, spriteset_toki_25000_rods_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_tarp_brown];
}

spritegroup spritegroup_toki_25000_rods_tarp_green {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_rods_half, spriteset_toki_25000_rods_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_tarp_green];
}

spritegroup spritegroup_toki_25000_rods_tarp_grey {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_rods_half, spriteset_toki_25000_rods_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_tarp_grey];
}


spritegroup spritegroup_toki_25000_coils {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_coils_half, spriteset_toki_25000_coils_full];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_coils_half, spriteset_toki_25000_coils_full];
}

spritegroup spritegroup_toki_25000_conts_a {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_conts_a];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_conts_a];
}

spritegroup spritegroup_toki_25000_conts_b {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_conts_b];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_conts_b];
}

spritegroup spritegroup_toki_25000_conts_c {
    loading: [spriteset_toki_25000_blank, spriteset_toki_25000_conts_c];
    loaded:  [spriteset_toki_25000_blank, spriteset_toki_25000_conts_c];
}

//random loads

random_switch (FEAT_TRAINS, SELF, random_toki_25000_conts) {
 1: spritegroup_toki_25000_conts_a;
 1: spritegroup_toki_25000_conts_b;
 1: spritegroup_toki_25000_conts_c;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_bulk_tarp) {
 1: spritegroup_toki_25000_bulk_tarp_brown;
 1: spritegroup_toki_25000_bulk_tarp_green;
 1: spritegroup_toki_25000_bulk_tarp_grey;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_rods_tarp) {
 1: spritegroup_toki_25000_rods_tarp_brown;
 1: spritegroup_toki_25000_rods_tarp_green;
 1: spritegroup_toki_25000_rods_tarp_grey;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_rods_covered) {
 1: random_toki_25000_rods_tarp;
 1: spritegroup_toki_25000_rods;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_metal) {
 2: spritegroup_toki_25000_coils;
 1: spritegroup_toki_25000_rods;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_supplies) {
 2: random_toki_25000_conts;
 1: random_toki_25000_rods_tarp;
}


switch(FEAT_TRAINS, SELF, switch_toki_25000_tarp_yeardep, current_year) {
	0..1990: random_toki_25000_bulk_tarp;
	spritegroup_toki_25000_bulk_tarp_green;
}



//cargo type switches

switch(FEAT_TRAINS, SELF, switch_toki_25000_cargo_type, cargo_type_in_veh) {
	IRON: random_toki_25000_metal;
	STEL: spritegroup_toki_25000_coils;
	METL: spritegroup_toki_25000_coils;
	ZINC: random_toki_25000_metal;
	COPR: random_toki_25000_metal;
	STST: random_toki_25000_metal;
	STSH: random_toki_25000_metal;
	STAL: random_toki_25000_metal;
	STCB: spritegroup_toki_25000_coils;
	
	ENSP: random_toki_25000_supplies;
	FMSP: random_toki_25000_supplies;
	MNSP: random_toki_25000_supplies;
	POWR: random_toki_25000_supplies;
	VPTS: random_toki_25000_supplies;
	MPTS: random_toki_25000_supplies;
	GOOD: random_toki_25000_supplies;
	
	BDMT: random_toki_25000_supplies;
	WDPR: random_toki_25000_rods_covered;
	GLAS: random_toki_25000_rods_tarp;
	BRCK: random_toki_25000_rods_covered;
	STWR: random_toki_25000_rods_covered;
	STSE: random_toki_25000_rods_covered;
	
	PAPR: random_toki_25000_conts;
	TYRE: random_toki_25000_conts;
	WOOL: random_toki_25000_conts;
	TEXT: random_toki_25000_conts;
	
	SCMT: spritegroup_toki_25000_bulk;
	SULP: switch_toki_25000_tarp_yeardep;
	SEED: switch_toki_25000_tarp_yeardep;
	FERT: switch_toki_25000_tarp_yeardep;
	SASH: switch_toki_25000_tarp_yeardep;
	FRUT: switch_toki_25000_tarp_yeardep;
	FRVG: switch_toki_25000_tarp_yeardep;
	TATO: switch_toki_25000_tarp_yeardep;
	
	spritegroup_toki_25000_rods;
}



switch(FEAT_TRAINS, SELF, switch_toki_25000_cargo_class, cargo_classes) {
	bitmask(CC_BULK): spritegroup_toki_25000_bulk;
	bitmask(CC_BULK, CC_COVERED): switch_toki_25000_tarp_yeardep;

	switch_toki_25000_cargo_type;
}

//random livery


random_switch (FEAT_TRAINS, SELF, random_toki_25000_all) {
 6: spriteset_toki_25000_brown_a;
 4: spriteset_toki_25000_brown_b;
 2: spriteset_toki_25000_black;
 1: spriteset_toki_25000_green;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_old) {
 8: spriteset_toki_25000_brown_a;
 4: spriteset_toki_25000_black;
 1: spriteset_toki_25000_green;
}

random_switch (FEAT_TRAINS, SELF, random_toki_25000_brown) {
 2: spriteset_toki_25000_brown_a;
 1: spriteset_toki_25000_brown_b;
}





switch(FEAT_TRAINS, SELF, switch_toki_25000_all_yeardep, build_year) {
	0..1975: random_toki_25000_old;
	random_toki_25000_all;
}

switch(FEAT_TRAINS, SELF, switch_toki_25000_brown_yeardep, build_year) {
	0..1975: spriteset_toki_25000_brown_a;
	random_toki_25000_brown;
}


switch(FEAT_TRAINS, SELF, switch_toki_25000_livery, cargo_subtype) {
	1: switch_toki_25000_brown_yeardep;
	2: spriteset_toki_25000_green;
	3: spriteset_toki_25000_black;
	switch_toki_25000_all_yeardep;
}

switch(FEAT_TRAINS, SELF, switch_toki_25000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDYEAR);
	1: return string(STR_REFIT_FBROWN);
	2: return string(STR_REFIT_FGREEN);
	3: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
}

switch(FEAT_TRAINS, SELF, switch_toki_25000_purchase, current_year) {
	0..1987: spriteset_toki_25000_jnr_purchase;
	spriteset_toki_25000_jrf_purchase;
	}


//stacking

switch(FEAT_TRAINS, SELF, switch_toki_25000_all_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_toki_25000_livery;
    1:  switch_toki_25000_cargo_class;
}


item (FEAT_TRAINS, toki_25000, 1471) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	climates_available: ALL_CLIMATES;
	introduction_date: date(1966,1,1);
	speed: 100 km/h;
	name: string(STR_NAME_TOKI_25000);
	refit_cost: 0;
	power: 0;
	cargo_capacity: 60;
	loading_speed: 40;
	length: 7;
	weight: 17;
	cost_factor: 22;
	running_cost_factor: 11;
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED, CC_PIECE_GOODS); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [BAKE, PCL_, BEER, CHSE, MEAT, OYST, EOIL, LVST, BOOM, VBOD, VEHI];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
graphics {
	cargo_capacity: return 60;
	default: switch_toki_25000_all_loadstack;
	purchase: switch_toki_25000_purchase;
	cargo_subtype_text: switch_toki_25000_subtype_text;
	colour_mapping: switch_generic_recolour;
	}
}

//toki 15000

switch(FEAT_TRAINS, SELF, switch_toki_15000_purchase, current_year) {
	0..1949: spriteset_toki_15000_jgr_purchase;
	spriteset_toki_15000_jnr_purchase;
	}



switch(FEAT_TRAINS, SELF, switch_toki_15000_all_loadstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  spriteset_toki_15000_black;
    1:  switch_toki_25000_cargo_class; //todo give its own class switch
}


item (FEAT_TRAINS, toki_15000, 1470) {

property {
	sprite_id: SPRITE_ID_NEW_TRAIN;
	track_type: NAAN;
	climates_available: ALL_CLIMATES;
	introduction_date: date(1943,1,1);
	speed: 75 km/h;
	name: string(STR_NAME_TOKI_15000);
	refit_cost: 0;
	power: 0;
	cargo_capacity: 45;
	loading_speed: 40;
	length: 7;
	weight: 16;
	cost_factor: 21;
	running_cost_factor: 11;
	refittable_cargo_classes: bitmask(CC_BULK, CC_COVERED, CC_PIECE_GOODS); 
	non_refittable_cargo_classes: 0;
	cargo_disallow_refit: [BAKE, PCL_, BEER, CHSE, MEAT, OYST, EOIL, LVST, BOOM, VBOD, VEHI];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
graphics {
	cargo_capacity: return 60;
	default: switch_toki_15000_all_loadstack;
	purchase: switch_toki_15000_purchase;
	cargo_subtype_text: switch_toki_25000_subtype_text;
	colour_mapping: switch_generic_recolour;
	}
}


spriteset(spriteset_re_1_grey_closed, "gfx/freight/re_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_re_1_grey_empty, "gfx/freight/re_1.png") {
	template_2cc_anim(1, 32)
}

spriteset(spriteset_re_1_grey_full, "gfx/freight/re_1.png") {
	template_2cc_anim(1, 64)
}

spriteset(spriteset_re_1_blue_closed, "gfx/freight/re_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_re_1_blue_empty, "gfx/freight/re_1.png") {
	template_2cc_anim(1, 128)
}

spriteset(spriteset_re_1_blue_full, "gfx/freight/re_1.png") {
	template_2cc_anim(1, 160)
}

spriteset(spriteset_re_1_yellow_closed, "gfx/freight/re_1.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_re_1_yellow_empty, "gfx/freight/re_1.png") {
	template_2cc_anim(1, 224)
}

spriteset(spriteset_re_1_yellow_full, "gfx/freight/re_1.png") {
	template_2cc_anim(1, 256)
}


spriteset(spriteset_re_1_jgr_purchase, "gfx/freight/re_1.png") {
	template_purchase(1, 288)
}

spriteset(spriteset_re_1_jnr_purchase, "gfx/freight/re_1.png") {
	template_purchase(89, 288)
}



spritegroup spritegroup_re_1_grey_load {
    loading: [spriteset_re_1_grey_empty, spriteset_re_1_grey_full, spriteset_re_1_grey_closed];
    loaded:  [spriteset_re_1_grey_closed];
}


spritegroup spritegroup_re_1_blue_load {
    loading: [spriteset_re_1_blue_empty, spriteset_re_1_blue_full, spriteset_re_1_blue_closed];
    loaded:  [spriteset_re_1_blue_closed];
}

spritegroup spritegroup_re_1_yellow_load {
    loading: [spriteset_re_1_yellow_empty, spriteset_re_1_yellow_full, spriteset_re_1_yellow_closed];
    loaded:  [spriteset_re_1_yellow_closed];
}



random_switch(FEAT_TRAINS, SELF, random_re_1_stripe) {
	1: spritegroup_re_1_blue_load;
	1: spritegroup_re_1_yellow_load;
	}
	
random_switch(FEAT_TRAINS, SELF, random_re_1_all) {
	4: spritegroup_re_1_grey_load;
	1: spritegroup_re_1_yellow_load;
	1: spritegroup_re_1_blue_load;
	}



switch(FEAT_TRAINS, SELF, switch_re_1_livery, cargo_subtype) {
	1: spritegroup_re_1_grey_load;
	2: random_re_1_stripe;
	random_re_1_all;
}

switch(FEAT_TRAINS, SELF, switch_re_1_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_FRANDOM);
	1: return string(STR_REFIT_FWHITE);
	2: return string(STR_REFIT_FSTRIPE);
	   return CB_RESULT_NO_TEXT;
	}



item (FEAT_TRAINS, re_1, 1281) {

property {
	name: string(STR_NAME_RE_1);
	introduction_date: date(1870,1,1);
	default_cargo_type: FOOD;
	cargo_capacity: 20;
	speed: 65 km/h;
	refittable_cargo_classes: bitmask(CC_REFRIGERATED); 
	non_refittable_cargo_classes: 0;
//	cargo_disallow_refit: [PASS, COAL, IORE, CORE, AORE, CLAY, GRVL, LIME, OLSD, POTA, SAND, SGBT, SGCN, TOUR, VEHI, KAOL];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	cargo_age_period: 0;
	}
graphics {
	cargo_capacity: return 20;
	default: switch_re_1_livery;
	cargo_subtype_text: switch_re_1_subtype_text;
	purchase: spriteset_re_1_jgr_purchase;
//	colour_mapping: switch_generic_recolour;
	}
}
spriteset(spriteset_re_2500_1, "gfx/freight/re_2500.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_re_2500_2, "gfx/freight/re_2500.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_re_2500_3, "gfx/freight/re_2500.png") {
	template_2cc_std(1, 64)
}



spriteset(spriteset_re_2500_purchase, "gfx/freight/re_2500.png") {
	template_purchase(1, 192)
}


random_switch (FEAT_TRAINS, SELF, random_re_2500) {
 1: spriteset_re_2500_1;
 1: spriteset_re_2500_2;
 1: spriteset_re_2500_3;
}



item (FEAT_TRAINS, re_2500, 1455) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_RE_2500);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1928,1,1);
		speed: 74.5 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 30; 
		refit_cost: 0;
		default_cargo_type: FOOD;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_REFRIGERATED); 
		weight: 10;
		cost_factor: 5;
		running_cost_factor: 4;
		length: 5;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
	graphics {
		cargo_capacity: return 30;
		default: random_re_2500;
		purchase: spriteset_re_2500_purchase;
		
	}
}
spriteset(spriteset_remu_5000_1, "gfx/reefers.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_remu_5000_2, "gfx/reefers.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_remu_5000_3, "gfx/reefers.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_remu_5000_purchase, "gfx/reefers.png") {
	template_purchase(1, 192)
}


random_switch (FEAT_TRAINS, SELF, random_remu_5000) {
 2: spriteset_remu_5000_1;
 5: spriteset_remu_5000_2;
 1: spriteset_remu_5000_3;
}

item (FEAT_TRAINS, remu_5000, 1286) {

property {
	introduction_date: date(1960,1,1);
	default_cargo_type: FOOD;
	cargo_capacity: 40; 
	name: string(STR_NAME_REMU_5000);
	refittable_cargo_classes: bitmask(CC_REFRIGERATED); 
	non_refittable_cargo_classes: 0; 
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	cargo_age_period: 0;
	}
graphics {
	default: random_remu_5000;
	purchase: spriteset_remu_5000_purchase;
	}
}
spriteset(spriteset_resa_10000, "gfx/reefers.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_resa_10000_caboose, "gfx/reefers.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_resa_10000_purchase, "gfx/reefers.png") {
	template_purchase(1, 160)
}



switch(FEAT_TRAINS, SELF, switch_resa_10000_caboose, position_in_consist_from_end) {
	0: spriteset_resa_10000_caboose;
	spriteset_resa_10000;
	}


item (FEAT_TRAINS, resa_10000, 1460) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_RESA_10000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1966,1,1);
		speed: 100		km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 60; 
		refit_cost: 0;
		default_cargo_type: FOOD;
		loading_speed: 50;
		refittable_cargo_classes: bitmask(CC_REFRIGERATED); 
		non_refittable_cargo_classes: 0; 
		weight: 25;
		cost_factor: 11;
		running_cost_factor: 10;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
		cargo_age_period: 0;
	}
	graphics {
//		cargo_capacity: return 75;
		default: switch_resa_10000_caboose;
		purchase: spriteset_resa_10000_purchase;
		
	}
}


spriteset(spriteset_ta_1_a, "gfx/freight/ta_1.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_ta_1_b, "gfx/freight/ta_1.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_ta_1_c, "gfx/freight/ta_1.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_ta_1_overlay_blank, "gfx/freight/ta_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ta_1_overlay_a, "gfx/freight/ta_1.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_ta_1_overlay_b, "gfx/freight/ta_1.png") {
	template_2cc_std(1, 96)
}

//purchase
spriteset(spriteset_ta_1_purchase, "gfx/freight/ta_1.png") {
	template_purchase(1, 448)
}

//overlays

alternative_sprites(spriteset_ta_1_overlay_blank, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_ta_1_overlay_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_ta_1_overlay_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 64)
}

//randoms
random_switch(FEAT_TRAINS, SELF, random_ta_1_livery) {
	1: spriteset_ta_1_a;
	1: spriteset_ta_1_b;
	1: spriteset_ta_1_c;
}

//wear overlay
random_switch(FEAT_TRAINS, SELF, random_ta_1_wear) {
	1: spriteset_ta_1_overlay_a;
	1: spriteset_ta_1_overlay_b;
	1: spriteset_ta_1_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_ta_1_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  random_ta_1_livery;
    1:  random_ta_1_wear;
}

item (FEAT_TRAINS, ta_1, 1480) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TA_1);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1870,1,1);
		speed: 60 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 15; 
		refit_cost: 0;
		refittable_cargo_classes: bitmask (CC_LIQUID);
		loading_speed: 50;
		weight: 8;
		cost_factor: 3;
		running_cost_factor: 2;
		length: 4;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 0;
		default: switch_ta_1_wearstack;
		purchase: spriteset_ta_1_purchase;
//		cargo_subtype_text: switch_taki_1000_subtype_text;
		
	}
}
spriteset(spriteset_tasa_500_black_forward_a, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tasa_500_black_forward_b, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_tasa_500_black_backward_a, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_tasa_500_black_backward_b, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_tasa_500_silver_forward_a, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_tasa_500_silver_forward_b, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_tasa_500_silver_backward_a, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tasa_500_silver_backward_b, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 224)
}

//overlay dummies

spriteset(spriteset_tasa_500_overlay_blank, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tasa_500_overlay_forward_a, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tasa_500_overlay_forward_b, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tasa_500_overlay_backward_a, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_tasa_500_overlay_backward_b, "gfx/freight/tasa_500.png") {
	template_2cc_std(1, 256)
}

//purchase
spriteset(spriteset_tasa_500_jgr_purchase, "gfx/freight/tasa_500.png") {
	template_purchase(1, 448)
}

spriteset(spriteset_tasa_500_jnr_purchase, "gfx/freight/tasa_500.png") {
	template_purchase(1, 480)
}

//overlays

alternative_sprites(spriteset_tasa_500_overlay_blank, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_tasa_500_overlay_forward_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 128)
}

alternative_sprites(spriteset_tasa_500_overlay_backward_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 160)
}

alternative_sprites(spriteset_tasa_500_overlay_forward_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 192)
}

alternative_sprites(spriteset_tasa_500_overlay_backward_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 224)
}

//forward

random_switch(FEAT_TRAINS, SELF, random_tasa_500_all_forward_livery) {
	3: spriteset_tasa_500_black_forward_a;
	3: spriteset_tasa_500_black_forward_b;
	1: spriteset_tasa_500_silver_forward_a;
	1: spriteset_tasa_500_silver_forward_b;
}

random_switch(FEAT_TRAINS, SELF, random_tasa_500_black_forward_livery) {
	1: spriteset_tasa_500_black_forward_a;
	1: spriteset_tasa_500_black_forward_b;
}

random_switch(FEAT_TRAINS, SELF, random_tasa_500_silver_forward_livery) {
	1: spriteset_tasa_500_silver_forward_a;
	1: spriteset_tasa_500_silver_forward_b;
}

switch(FEAT_TRAINS, SELF, switch_tasa_500_forward_livery, cargo_subtype) {
	1: random_tasa_500_black_forward_livery;
	2: random_tasa_500_silver_forward_livery;
	random_tasa_500_all_forward_livery;
}


//wear overlay
random_switch(FEAT_TRAINS, SELF, random_tasa_500_forward_wear) {
	1: spriteset_tasa_500_overlay_forward_a;
	1: spriteset_tasa_500_overlay_forward_b;
	1: spriteset_tasa_500_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_tasa_500_forward_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_tasa_500_forward_livery;
    1:  random_tasa_500_forward_wear;
}

//backward

random_switch(FEAT_TRAINS, SELF, random_tasa_500_all_backward_livery) {
	3: spriteset_tasa_500_black_backward_a;
	3: spriteset_tasa_500_black_backward_b;
	1: spriteset_tasa_500_silver_backward_a;
	1: spriteset_tasa_500_silver_backward_b;
}

random_switch(FEAT_TRAINS, SELF, random_tasa_500_black_backward_livery) {
	1: spriteset_tasa_500_black_backward_a;
	1: spriteset_tasa_500_black_backward_b;
}

random_switch(FEAT_TRAINS, SELF, random_tasa_500_silver_backward_livery) {
	1: spriteset_tasa_500_silver_backward_a;
	1: spriteset_tasa_500_silver_backward_b;
}

switch(FEAT_TRAINS, SELF, switch_tasa_500_backward_livery, cargo_subtype) {
	1: random_tasa_500_black_backward_livery;
	2: random_tasa_500_silver_backward_livery;
	random_tasa_500_all_backward_livery;
}


//wear overlay
random_switch(FEAT_TRAINS, SELF, random_tasa_500_backward_wear) {
	1: spriteset_tasa_500_overlay_backward_a;
	1: spriteset_tasa_500_overlay_backward_b;
	1: spriteset_tasa_500_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_tasa_500_backward_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_tasa_500_backward_livery;
    1:  random_tasa_500_backward_wear;
}

//final random

random_switch(FEAT_TRAINS, SELF, random_tasa_500_flip) {
	1: switch_tasa_500_forward_wearstack;
	1: switch_tasa_500_backward_wearstack;
}


switch(FEAT_TRAINS, SELF, switch_tasa_500_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FBLACK);
	2: return string(STR_REFIT_FSILVER);
	   return CB_RESULT_NO_TEXT;
}



switch(FEAT_TRAINS, SELF, switch_tasa_500_purchase, current_year) {
	0..1949: spriteset_tasa_500_jgr_purchase;
	spriteset_tasa_500_jnr_purchase;
	}


item (FEAT_TRAINS, tasa_500, 1481) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TASA_500);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1915,1,1);
		speed: 65 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 25; 
		refit_cost: 0;
		refittable_cargo_classes: bitmask (CC_LIQUID);
		loading_speed: 50;
		weight: 11;
		cost_factor: 4;
		running_cost_factor: 2;
		length: 5;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 0;
		default: random_tasa_500_flip;
		purchase: switch_tasa_500_purchase;
		cargo_subtype_text: switch_tasa_500_subtype_text;
		
	}
}
spriteset(spriteset_taki_25000_silver_a, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_taki_25000_silver_b, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_taki_25000_white_a, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_taki_25000_white_b, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_tasa_5700_silver_a, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_tasa_5700_silver_b, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_tasa_5700_white_a, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tasa_5700_white_b, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 224)
}

//overlay dummies
spriteset(spriteset_tasa_5700_overlay_blank, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_tasa_5700_overlay_a, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_tasa_5700_overlay_b, "gfx/freight/tasa_5700.png") {
	template_2cc_std(1, 416)
}

//overlays
alternative_sprites(spriteset_tasa_5700_overlay_blank, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_tasa_5700_overlay_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 160)
}

alternative_sprites(spriteset_tasa_5700_overlay_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 192)
}

//purchase

spriteset(spriteset_tasa_5700_jnr_purchase, "gfx/freight/tasa_5700.png") {
	template_purchase(1, 480)
}

spriteset(spriteset_tasa_5700_jrf_purchase, "gfx/freight/tasa_5700.png") {
	template_purchase(89, 480)
}



//forward

random_switch(FEAT_TRAINS, SELF, random_tasa_5700_all_livery) {
	2: spriteset_tasa_5700_white_a;
	2: spriteset_tasa_5700_white_b;
	6: spriteset_tasa_5700_silver_a;
	6: spriteset_tasa_5700_silver_b;
	1: spriteset_taki_25000_white_a;
	1: spriteset_taki_25000_white_b;
	2: spriteset_taki_25000_silver_a;
	2: spriteset_taki_25000_silver_b;
}

random_switch(FEAT_TRAINS, SELF, random_tasa_5700_white_livery) {
	2: spriteset_tasa_5700_white_a;
	2: spriteset_tasa_5700_white_b;
	1: spriteset_taki_25000_white_a;
	1: spriteset_taki_25000_white_b;
}

random_switch(FEAT_TRAINS, SELF, random_tasa_5700_silver_livery) {
	2: spriteset_tasa_5700_silver_a;
	2: spriteset_tasa_5700_silver_b;
	1: spriteset_taki_25000_silver_a;
	1: spriteset_taki_25000_silver_b;
}

switch(FEAT_TRAINS, SELF, switch_tasa_5700_livery, cargo_subtype) {
	1: random_tasa_5700_white_livery;
	2: random_tasa_5700_silver_livery;
	random_tasa_5700_all_livery;
}



switch(FEAT_TRAINS, SELF, switch_tasa_5700_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FWHITE);
	2: return string(STR_REFIT_FSILVER);
	   return CB_RESULT_NO_TEXT;
}

//wear overlay
random_switch(FEAT_TRAINS, SELF, random_tasa_5700_wear) {
	1: spriteset_tasa_5700_overlay_a;
	1: spriteset_tasa_5700_overlay_b;
	1: spriteset_tasa_5700_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_tasa_5700_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_tasa_5700_livery;
    1:  random_tasa_5700_wear;
}

switch(FEAT_TRAINS, SELF, switch_tasa_5700_purchase, current_year) {
	0..1987: spriteset_tasa_5700_jnr_purchase;
	spriteset_tasa_5700_jrf_purchase;
	}


item (FEAT_TRAINS, tasa_5700, 45) {
property {
		name: string(STR_NAME_TASA_5700);
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
		cargo_disallow_refit: [OIL_, PETR, FUEL, EOIL, MILK, SULP, WATR, BEER, KAOL, RUBR];
		introduction_date: date(1963,1,1);
		speed: 85 km/h;
	}
	graphics {
		cargo_capacity: return 50;
		default: switch_tasa_5700_wearstack;
		purchase: switch_tasa_5700_purchase;
		cargo_subtype_text: switch_tasa_5700_subtype_text;
		
	}
}
spriteset(spriteset_tamu_500_black_a, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_tamu_500_black_b, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_tamu_500_black_c, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_tamu_500_black_d, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_tamu_500_silver_a, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_tamu_500_silver_b, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_tamu_500_silver_c, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_tamu_500_silver_d, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 224)
}

//overlay dummies
spriteset(spriteset_tamu_500_overlay_blank, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_tamu_500_overlay_a, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_tamu_500_overlay_b, "gfx/freight/tamu_500.png") {
	template_2cc_std(1, 416)
}

//overlays
alternative_sprites(spriteset_tamu_500_overlay_blank, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_tamu_500_overlay_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 256)
}

alternative_sprites(spriteset_tamu_500_overlay_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 288)
}


//purchase
spriteset(spriteset_tamu_500_jgr_purchase, "gfx/freight/tamu_500.png") {
	template_purchase(1, 448)
}

spriteset(spriteset_tamu_500_jnr_purchase, "gfx/freight/tamu_500.png") {
	template_purchase(1, 480)
}

spriteset(spriteset_tamu_500_jrf_purchase, "gfx/freight/tamu_500.png") {
	template_purchase(89, 480)
}




//randoms
random_switch(FEAT_TRAINS, SELF, random_tamu_500_all_livery) {
	3: spriteset_tamu_500_black_a;
	3: spriteset_tamu_500_black_b;
	3: spriteset_tamu_500_black_c;
	3: spriteset_tamu_500_black_d;
	1: spriteset_tamu_500_silver_a;
	1: spriteset_tamu_500_silver_b;
	1: spriteset_tamu_500_silver_c;
	1: spriteset_tamu_500_silver_d;
}

random_switch(FEAT_TRAINS, SELF, random_tamu_500_black_livery) {
	1: spriteset_tamu_500_black_a;
	1: spriteset_tamu_500_black_b;
	1: spriteset_tamu_500_black_c;
	1: spriteset_tamu_500_black_d;
}

random_switch(FEAT_TRAINS, SELF, random_tamu_500_silver_livery) {
	1: spriteset_tamu_500_silver_a;
	1: spriteset_tamu_500_silver_b;
	1: spriteset_tamu_500_silver_c;
	1: spriteset_tamu_500_silver_d;
}

switch(FEAT_TRAINS, SELF, switch_tamu_500_livery, cargo_subtype) {
	1: random_tamu_500_black_livery;
	2: random_tamu_500_silver_livery;
	random_tamu_500_all_livery;
}


//wear overlay
random_switch(FEAT_TRAINS, SELF, random_tamu_500_wear) {
	1: spriteset_tamu_500_overlay_a;
	1: spriteset_tamu_500_overlay_b;
	1: spriteset_tamu_500_overlay_blank;
}



switch(FEAT_TRAINS, SELF, switch_tamu_500_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FBLACK);
	2: return string(STR_REFIT_FSILVER);
	   return CB_RESULT_NO_TEXT;
}

switch(FEAT_TRAINS, SELF, switch_tamu_500_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_tamu_500_livery;
    1:  random_tamu_500_wear;
}


switch(FEAT_TRAINS, SELF, switch_tamu_500_purchase, current_year) {
	0..1949: spriteset_tamu_500_jgr_purchase;
	1949..1987: spriteset_tamu_500_jnr_purchase;
	spriteset_tamu_500_jrf_purchase;
	}

item (FEAT_TRAINS, tamu_500, 30) {

property {
	name: string(STR_NAME_TAMU_500);
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	introduction_date: date(1930,1,1);
	speed: 75 km/h;
	}
	graphics {
		cargo_capacity: return 30;
		default: switch_tamu_500_wearstack;
		purchase: switch_tamu_500_purchase;
		cargo_subtype_text: switch_tamu_500_subtype_text;
		
	}
}
spriteset(spriteset_taki_1000_green_a, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_taki_1000_green_b, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_taki_1000_blue_a, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_taki_1000_blue_b, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_taki_1000_blue_c, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_taki_1000_silver, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_taki_1000_black_a, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_taki_1000_black_b, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_taki_1000_overlay_a, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_taki_1000_overlay_b, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 288)
}

spriteset(spriteset_taki_1000_overlay_c, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 320)
}

spriteset(spriteset_taki_1000_overlay_blank, "gfx/freight/taki_1000.png") {
	template_2cc_std(1, 352)
}

//alt sprites
alternative_sprites(spriteset_taki_1000_green_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 1)
}


alternative_sprites(spriteset_taki_1000_green_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_taki_1000_blue_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 64)
}

alternative_sprites(spriteset_taki_1000_blue_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 96)
}

alternative_sprites(spriteset_taki_1000_blue_c, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 128)
}




alternative_sprites(spriteset_taki_1000_overlay_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 256)
}

alternative_sprites(spriteset_taki_1000_overlay_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 288)
}

alternative_sprites(spriteset_taki_1000_overlay_c, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_2cc_std(1, 320)
}


//purchase
spriteset(spriteset_taki_1000_purchase, "gfx/freight/taki_1000.png") {
	template_purchase(89, 480)
}

spriteset(spriteset_taki_43000_jnr_purchase, "gfx/freight/taki_1000.png") {
	template_purchase(1, 448)
}

spriteset(spriteset_taki_43000_jrf_purchase, "gfx/freight/taki_1000.png") {
	template_purchase(89, 448)
}

alternative_sprites(spriteset_taki_1000_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_purchase(89, 480)
}

alternative_sprites(spriteset_taki_43000_jrf_purchase, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_1000.png") {
	template_purchase(89, 448)
}

//randoms
random_switch(FEAT_TRAINS, SELF, random_taki_1000_green) {
	1: spriteset_taki_1000_green_a;
	1: spriteset_taki_1000_green_b;
}

random_switch(FEAT_TRAINS, SELF, random_taki_1000_blue) {
	3: spriteset_taki_1000_blue_a;
	1: spriteset_taki_1000_blue_b;
	1: spriteset_taki_1000_blue_c;
}

random_switch(FEAT_TRAINS, SELF, random_taki_1000_black) {
	1: spriteset_taki_1000_black_a;
	1: spriteset_taki_1000_black_b;
}


random_switch(FEAT_TRAINS, SELF, random_taki_1000) {
	2: spriteset_taki_1000_green_a;
	2: spriteset_taki_1000_green_b;
	3: spriteset_taki_1000_blue_a;
	1: spriteset_taki_1000_blue_b;
	1: spriteset_taki_1000_blue_c;
}


switch(FEAT_TRAINS, SELF, switch_taki_1000_livery, cargo_subtype) {
	1: random_taki_1000_green;
	2: random_taki_1000_blue;
	random_taki_1000;
}

switch(FEAT_TRAINS, SELF, switch_taki_1000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FGREEN);
	2: return string(STR_REFIT_FBLUE);
	   return CB_RESULT_NO_TEXT;
}

//wear overlay
random_switch(FEAT_TRAINS, SELF, random_taki_1000_wear) {
	1: spriteset_taki_1000_overlay_a;
	1: spriteset_taki_1000_overlay_b;
	1: spriteset_taki_1000_overlay_c;
	1: spriteset_taki_1000_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_taki_1000_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_taki_1000_livery;
    1:  random_taki_1000_wear;
}


item (FEAT_TRAINS, taki_1000, 1490) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TAKI_1000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1993,1,1);
		speed: 110 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 55; 
		refit_cost: 0;
		refittable_cargo_classes: bitmask (CC_LIQUID);
		loading_speed: 50;
		weight: 20;
		cost_factor: 22;
		running_cost_factor: 14;
		length: 6;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 0;
		default: switch_taki_1000_wearstack;
		purchase: spriteset_taki_1000_purchase;
		cargo_subtype_text: switch_taki_1000_subtype_text;
		
	}
}


//taki 43000


switch(FEAT_TRAINS, SELF, switch_taki_43000_purchase, current_year) {
	0..1987: spriteset_taki_43000_jnr_purchase;
	spriteset_taki_43000_jrf_purchase;
	}



random_switch(FEAT_TRAINS, SELF, random_taki_43000) {
	1: spriteset_taki_1000_green_a;
	1: spriteset_taki_1000_green_b;
	2: spriteset_taki_1000_blue_a;
	2: spriteset_taki_1000_silver;
	1: spriteset_taki_1000_black_a;
	1: spriteset_taki_1000_black_b;	
}


switch(FEAT_TRAINS, SELF, switch_taki_43000_livery, cargo_subtype) {
	1: random_taki_1000_green;
	2: spriteset_taki_1000_blue_a;
	3: spriteset_taki_1000_silver;
	4: random_taki_1000_black;
	random_taki_43000;
}

switch(FEAT_TRAINS, SELF, switch_taki_43000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FGREEN);
	2: return string(STR_REFIT_FBLUE);
	3: return string(STR_REFIT_FSILVER);
	4: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
}


switch(FEAT_TRAINS, SELF, switch_taki_43000_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_taki_43000_livery;
    1:  random_taki_1000_wear;
}


item (FEAT_TRAINS, taki_43000, 1496) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TAKI_43000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1967,1,1);
		speed: 85 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 50; 
		refit_cost: 0;
		refittable_cargo_classes: bitmask (CC_LIQUID);
		loading_speed: 50;
		weight: 20;
		cost_factor: 21;
		running_cost_factor: 13;
		length: 6;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 0;
		default: switch_taki_43000_wearstack;
		purchase: switch_taki_43000_purchase;
		cargo_subtype_text: switch_taki_43000_subtype_text;
		
	}
}
spriteset(spriteset_taki_3000_a, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_taki_3000_b, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_taki_3000_c, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_taki_3000_d, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_taki_3000_e, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_taki_3000_f, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 160)
}

spriteset(spriteset_taki_3000_g, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 192)
}

spriteset(spriteset_taki_3000_h, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 224)
}

spriteset(spriteset_taki_3000_i, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 256)
}

spriteset(spriteset_taki_3000_j, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 288)
}




spriteset(spriteset_taki_3000_overlay_blank, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_taki_3000_overlay_a, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_taki_3000_overlay_b, "gfx/freight/taki_3000.png") {
	template_2cc_std(1, 416)
}

//purchase
spriteset(spriteset_taki_3000_jgr_purchase, "gfx/freight/taki_3000.png") {
	template_purchase(1, 448)
}

spriteset(spriteset_taki_3000_jnr_purchase, "gfx/freight/taki_3000.png") {
	template_purchase(1, 480)
}

spriteset(spriteset_taki_3000_jrf_purchase, "gfx/freight/taki_3000.png") {
	template_purchase(89, 480)
}
//overlays

alternative_sprites(spriteset_taki_3000_overlay_blank, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/ta_overlay.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_taki_3000_overlay_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 32)
}

alternative_sprites(spriteset_taki_3000_overlay_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 64)
}

//randoms
random_switch(FEAT_TRAINS, SELF, random_taki_3000_livery) {
	1: spriteset_taki_3000_a;
	1: spriteset_taki_3000_b;
	1: spriteset_taki_3000_d;
	1: spriteset_taki_3000_e;
	1: spriteset_taki_3000_f;
	1: spriteset_taki_3000_g;
	1: spriteset_taki_3000_h;
	1: spriteset_taki_3000_i;
	1: spriteset_taki_3000_j;
	
}

//wear overlay
random_switch(FEAT_TRAINS, SELF, random_taki_3000_wear) {
	1: spriteset_taki_3000_overlay_a;
	1: spriteset_taki_3000_overlay_b;
	1: spriteset_taki_3000_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_taki_3000_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  random_taki_3000_livery;
    1:  random_taki_3000_wear;
}

switch(FEAT_TRAINS, SELF, switch_taki_3000_purchase, current_year) {
	0..1949: spriteset_taki_3000_jgr_purchase;
	1949..1987: spriteset_taki_3000_jnr_purchase;
	spriteset_taki_3000_jrf_purchase;
	}

item (FEAT_TRAINS, taki_3000, 1489) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TAKI_3000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1947,1,1);
		speed: 75 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 48; 
		refit_cost: 0;
		refittable_cargo_classes: bitmask (CC_LIQUID);
		loading_speed: 50;
		weight: 20;
		cost_factor: 7;
		running_cost_factor: 2;
		length: 7;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 0;
		default: switch_taki_3000_wearstack;
		purchase: switch_taki_3000_purchase;
//		cargo_subtype_text: switch_taki_1000_subtype_text;
		
	}
}
spriteset(spriteset_taki_5450_yellow_a, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 1)
}

spriteset(spriteset_taki_5450_yellow_b, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_taki_5450_silver_a, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_taki_5450_silver_b, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_taki_5450_black_a, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 128)
}

spriteset(spriteset_taki_5450_black_b, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 160)
}

//overlay dummies
spriteset(spriteset_taki_5450_overlay_blank, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_taki_5450_overlay_a, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 416)
}

spriteset(spriteset_taki_5450_overlay_b, "gfx/freight/taki_5450.png") {
	template_2cc_std(1, 416)
}

//overlays
alternative_sprites(spriteset_taki_5450_overlay_blank, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 1)
}

alternative_sprites(spriteset_taki_5450_overlay_a, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 96)
}

alternative_sprites(spriteset_taki_5450_overlay_b, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "gfx/freight/32bpp/taki_overlay.png") {
	template_2cc_std(1, 128)
}

//purchase

spriteset(spriteset_taki_5450_jnr_purchase, "gfx/freight/taki_5450.png") {
	template_purchase(1, 480)
}

spriteset(spriteset_taki_5450_jrf_purchase, "gfx/freight/taki_5450.png") {
	template_purchase(89, 480)
}



//forward

random_switch(FEAT_TRAINS, SELF, random_taki_5450_all_livery) {
	6: spriteset_taki_5450_yellow_a;
	6: spriteset_taki_5450_yellow_b;
	1: spriteset_taki_5450_black_a;
	1: spriteset_taki_5450_black_b;
	1: spriteset_taki_5450_silver_a;
	1: spriteset_taki_5450_silver_b;
}

random_switch(FEAT_TRAINS, SELF, random_taki_5450_yellow_livery) {
	1: spriteset_taki_5450_yellow_a;
	2: spriteset_taki_5450_yellow_b;
}

random_switch(FEAT_TRAINS, SELF, random_taki_5450_black_livery) {
	2: spriteset_taki_5450_black_a;
	1: spriteset_taki_5450_black_b;
}

random_switch(FEAT_TRAINS, SELF, random_taki_5450_silver_livery) {
	1: spriteset_taki_5450_silver_a;
	1: spriteset_taki_5450_silver_b;
}

switch(FEAT_TRAINS, SELF, switch_taki_5450_livery, cargo_subtype) {
	1: random_taki_5450_yellow_livery;
	2: random_taki_5450_silver_livery;
	3: random_taki_5450_black_livery;
	random_taki_5450_all_livery;
}



switch(FEAT_TRAINS, SELF, switch_taki_5450_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_RANDOM);
	1: return string(STR_REFIT_FYELLOW);
	2: return string(STR_REFIT_FSILVER);
	3: return string(STR_REFIT_FBLACK);
	   return CB_RESULT_NO_TEXT;
}

//wear overlay
random_switch(FEAT_TRAINS, SELF, random_taki_5450_wear) {
	1: spriteset_taki_5450_overlay_a;
	1: spriteset_taki_5450_overlay_b;
	1: spriteset_taki_5450_overlay_blank;
}

switch(FEAT_TRAINS, SELF, switch_taki_5450_wearstack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0:  switch_taki_5450_livery;
    1:  random_taki_5450_wear;
}

switch(FEAT_TRAINS, SELF, switch_taki_5450_purchase, current_year) {
	0..1987: spriteset_taki_5450_jnr_purchase;
	spriteset_taki_5450_jrf_purchase;
	}


item (FEAT_TRAINS, taki_5450, 1491) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_TAKI_5450);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1964,1,1);
		speed: 75 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 40; 
		refit_cost: 0;
		refittable_cargo_classes: bitmask (CC_LIQUID);
		cargo_disallow_refit: [OIL_, PETR, FUEL];
		loading_speed: 50;
		weight: 17;
		cost_factor: 4;
		running_cost_factor: 2;
		length: 6;
		misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
	}
	graphics {
//		cargo_capacity: return 0;
		default: switch_taki_5450_wearstack;
		purchase: switch_taki_5450_purchase;
		cargo_subtype_text: switch_taki_5450_subtype_text;
		
	}
}


spriteset(spriteset_yo_5000_black, "gfx/yo_5000.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_yo_5000_green, "gfx/yo_5000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_yo_5000_blue, "gfx/yo_5000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_yo_5000_cc, "gfx/yo_5000.png") {
	template_2cc_std(1, 96)
}



spriteset(spriteset_yo_5000_purchase, "gfx/yo_5000.png") {
	template_purchase(1, 128)
}


switch(FEAT_TRAINS, SELF, switch_yo_5000_livery, cargo_subtype) {
	0: spriteset_yo_5000_black;
	1: spriteset_yo_5000_green;
	2: spriteset_yo_5000_blue;
	3: spriteset_yo_5000_cc;
}



switch(FEAT_TRAINS, SELF, switch_yo_5000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_BLACK);
	1: return string(STR_REFIT_GREEN);
	2: return string(STR_REFIT_BLUE);
	3: return string(STR_REFIT_CC);
	}



item (FEAT_TRAINS, yo_5000, 1600) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_YO_5000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1870,1,1);//1906
		speed: 85 km/h;
		air_drag_coefficient: 0;
		power: 0;
		dual_headed: 0;
		cargo_capacity: 1; 
		refit_cost: 0;
		cargo_allow_refit: [PASS];
		loading_speed: 1;
		weight: 20;
		cost_factor: 8;
		running_cost_factor: 4;
		length: 5;
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_yo_5000_livery;
		purchase: spriteset_yo_5000_purchase;
		cargo_subtype_text: switch_yo_5000_subtype_text;
		
	}
}
spriteset(spriteset_yo_8000_black, "gfx/yo_8000.png") {
	template_2cc_std(1, 1)
}


spriteset(spriteset_yo_8000_green, "gfx/yo_8000.png") {
	template_2cc_std(1, 32)
}

spriteset(spriteset_yo_8000_blue, "gfx/yo_8000.png") {
	template_2cc_std(1, 64)
}

spriteset(spriteset_yo_8000_redblue, "gfx/yo_8000.png") {
	template_2cc_std(1, 96)
}

spriteset(spriteset_yo_8000_whitered, "gfx/yo_8000.png") {
	template_2cc_std(1, 128)
}


spriteset(spriteset_yo_8000_cc, "gfx/yo_8000.png") {
	template_2cc_std(1, 192)
}




spriteset(spriteset_yo_8000_jnr_purchase, "gfx/yo_8000.png") {
	template_purchase(1, 224)
}

spriteset(spriteset_yo_8000_jr_purchase, "gfx/yo_8000.png") {
	template_purchase(89, 224)
}


switch(FEAT_TRAINS, SELF, switch_yo_8000_purchase_yeardep, current_year) {
    0..1987: spriteset_yo_8000_jnr_purchase;
    spriteset_yo_8000_jr_purchase;
    }

switch(FEAT_TRAINS, SELF, switch_yo_8000_livery, cargo_subtype) {
	0: spriteset_yo_8000_black;
	1: spriteset_yo_8000_green;
	2: spriteset_yo_8000_blue;
	3: spriteset_yo_8000_redblue;
	4: spriteset_yo_8000_whitered;
	5: spriteset_yo_8000_cc;
}



switch(FEAT_TRAINS, SELF, switch_yo_8000_subtype_text, cargo_subtype) {
	0: return string(STR_REFIT_BLACK);
	1: return string(STR_REFIT_GREEN);
	2: return string(STR_REFIT_BLUE);
	3: return string(STR_REFIT_JRF_REDBLUE);
	4: return string(STR_REFIT_JNR_CREAM);
	5: return string(STR_REFIT_CC);
	}



item (FEAT_TRAINS, yo_8000, 35) {
	property {
		sprite_id: SPRITE_ID_NEW_TRAIN;
		track_type: NAAN;
		name: string(STR_NAME_YO_8000);
		climates_available: ALL_CLIMATES;
		introduction_date: date(1974,1,1);
		speed: 85 km/h;
//		air_drag_coefficient: 0;
//		power: 0;
//		dual_headed: 0;
		cargo_capacity: 1; 
//		refit_cost: 0;
		cargo_allow_refit: [PASS];
//		loading_speed: 1;
//		weight: 20;
//		cost_factor: 8;
//		running_cost_factor: 4;
		length: 4;
	}
	graphics {
		cargo_capacity: return 0;
		default: switch_yo_8000_livery;
		purchase: switch_yo_8000_purchase_yeardep;
		cargo_subtype_text: switch_yo_8000_subtype_text;
		
	}
}

item (FEAT_TRAINS, jp_chisa_flatcar, 34) {

property {
	refittable_cargo_classes: bitmask(CC_PIECE_GOODS, CC_EXPRESS);
	cargo_disallow_refit: [LVST, BOOM];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
}

item (FEAT_TRAINS, jp_chiki_flatcar, 41) {

property {
	refittable_cargo_classes: bitmask(CC_PIECE_GOODS, CC_EXPRESS); 
	cargo_disallow_refit: [LVST, BOOM];
	misc_flags: bitmask(TRAIN_FLAG_AUTOREFIT);
	}
}

//tankers



//fix string bug in JP trains

item (FEAT_TRAINS, jgr_7050, 0x87) {

property {
		name: string(STR_NAME_JGR_7050);
	}
}






